var lA=Object.defineProperty;var uA=(e,t,r)=>t in e?lA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Sh=(e,t,r)=>uA(e,typeof t!="symbol"?t+"":t,r);function cA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var B_={exports:{}},lf={},z_={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=Symbol.for("react.element"),hA=Symbol.for("react.portal"),dA=Symbol.for("react.fragment"),vA=Symbol.for("react.strict_mode"),pA=Symbol.for("react.profiler"),gA=Symbol.for("react.provider"),mA=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),wA=Symbol.for("react.suspense"),bA=Symbol.for("react.memo"),_A=Symbol.for("react.lazy"),iy=Symbol.iterator;function xA(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W_=Object.assign,K_={};function ps(e,t,r){this.props=e,this.context=t,this.refs=K_,this.updater=r||F_}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q_(){}q_.prototype=ps.prototype;function Fv(e,t,r){this.props=e,this.context=t,this.refs=K_,this.updater=r||F_}var Wv=Fv.prototype=new q_;Wv.constructor=Fv;W_(Wv,ps.prototype);Wv.isPureReactComponent=!0;var ay=Array.isArray,H_=Object.prototype.hasOwnProperty,Kv={current:null},V_={key:!0,ref:!0,__self:!0,__source:!0};function Y_(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)H_.call(t,n)&&!V_.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:al,type:e,key:a,ref:s,props:i,_owner:Kv.current}}function SA(e,t){return{$$typeof:al,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qv(e){return typeof e=="object"&&e!==null&&e.$$typeof===al}function PA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sy=/\/+/g;function Ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PA(""+e.key):t.toString(36)}function Mu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case al:case hA:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Ph(s,0):n,ay(i)?(r="",e!=null&&(r=e.replace(sy,"$&/")+"/"),Mu(i,t,r,"",function(u){return u})):i!=null&&(qv(i)&&(i=SA(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sy,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",ay(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Ph(a,o);s+=Mu(a,t,r,l,i)}else if(l=xA(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Ph(a,o++),s+=Mu(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Gl(e,t,r){if(e==null)return e;var n=[],i=0;return Mu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function EA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},ku={transition:null},MA={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:ku,ReactCurrentOwner:Kv};function X_(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Gl,forEach:function(e,t,r){Gl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gl(e,function(){t++}),t},toArray:function(e){return Gl(e,function(t){return t})||[]},only:function(e){if(!qv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=ps;J.Fragment=dA;J.Profiler=pA;J.PureComponent=Fv;J.StrictMode=vA;J.Suspense=wA;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MA;J.act=X_;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=W_({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Kv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)H_.call(t,l)&&!V_.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:al,type:e.type,key:i,ref:a,props:n,_owner:s}};J.createContext=function(e){return e={$$typeof:mA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gA,_context:e},e.Consumer=e};J.createElement=Y_;J.createFactory=function(e){var t=Y_.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:yA,render:e}};J.isValidElement=qv;J.lazy=function(e){return{$$typeof:_A,_payload:{_status:-1,_result:e},_init:EA}};J.memo=function(e,t){return{$$typeof:bA,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=ku.transition;ku.transition={};try{e()}finally{ku.transition=t}};J.unstable_act=X_;J.useCallback=function(e,t){return kt.current.useCallback(e,t)};J.useContext=function(e){return kt.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};J.useEffect=function(e,t){return kt.current.useEffect(e,t)};J.useId=function(){return kt.current.useId()};J.useImperativeHandle=function(e,t,r){return kt.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return kt.current.useMemo(e,t)};J.useReducer=function(e,t,r){return kt.current.useReducer(e,t,r)};J.useRef=function(e){return kt.current.useRef(e)};J.useState=function(e){return kt.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return kt.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return kt.current.useTransition()};J.version="18.3.1";z_.exports=J;var b=z_.exports;const kA=_n(b),AA=cA({__proto__:null,default:kA},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=b,CA=Symbol.for("react.element"),TA=Symbol.for("react.fragment"),jA=Object.prototype.hasOwnProperty,NA=OA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IA={key:!0,ref:!0,__self:!0,__source:!0};function Q_(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)jA.call(t,n)&&!IA.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:CA,type:e,key:a,ref:s,props:i,_owner:NA.current}}lf.Fragment=TA;lf.jsx=Q_;lf.jsxs=Q_;B_.exports=lf;var x=B_.exports,J_={exports:{}},nr={},Z_={exports:{}},ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,L){var H=$.length;$.push(L);e:for(;0<H;){var ce=H-1>>>1,K=$[ce];if(0<i(K,L))$[ce]=L,$[H]=K,H=ce;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var L=$[0],H=$.pop();if(H!==L){$[0]=H;e:for(var ce=0,K=$.length,Cn=K>>>1;ce<Cn;){var Sr=2*(ce+1)-1,ft=$[Sr],Jr=Sr+1,fa=$[Jr];if(0>i(ft,H))Jr<K&&0>i(fa,ft)?($[ce]=fa,$[Jr]=H,ce=Jr):($[ce]=ft,$[Sr]=H,ce=Sr);else if(Jr<K&&0>i(fa,H))$[ce]=fa,$[Jr]=H,ce=Jr;else break e}}return L}function i($,L){var H=$.sortIndex-L.sortIndex;return H!==0?H:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,v=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=$)n(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(u)}}function _($){if(p=!1,w($),!v)if(r(l)!==null)v=!0,Z(P);else{var L=r(u);L!==null&&V(_,L.startTime-$)}}function P($,L){v=!1,p&&(p=!1,m(M),M=-1),d=!0;var H=h;try{for(w(L),f=r(l);f!==null&&(!(f.expirationTime>L)||$&&!C());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var K=ce(f.expirationTime<=L);L=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(l)&&n(l),w(L)}else n(l);f=r(l)}if(f!==null)var Cn=!0;else{var Sr=r(u);Sr!==null&&V(_,Sr.startTime-L),Cn=!1}return Cn}finally{f=null,h=H,d=!1}}var S=!1,E=null,M=-1,A=5,O=-1;function C(){return!(e.unstable_now()-O<A)}function j(){if(E!==null){var $=e.unstable_now();O=$;var L=!0;try{L=E(!0,$)}finally{L?G():(S=!1,E=null)}}else S=!1}var G;if(typeof g=="function")G=function(){g(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Y=F.port2;F.port1.onmessage=j,G=function(){Y.postMessage(null)}}else G=function(){y(j,0)};function Z($){E=$,S||(S=!0,G())}function V($,L){M=y(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,Z(P))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var H=h;h=L;try{return $()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=h;h=$;try{return L()}finally{h=H}},e.unstable_scheduleCallback=function($,L,H){var ce=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ce+H:ce):H=ce,$){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,$={id:c++,callback:L,priorityLevel:$,startTime:H,expirationTime:K,sortIndex:-1},H>ce?($.sortIndex=H,t(u,$),r(l)===null&&$===r(u)&&(p?(m(M),M=-1):p=!0,V(_,H-ce))):($.sortIndex=K,t(l,$),v||d||(v=!0,Z(P))),$},e.unstable_shouldYield=C,e.unstable_wrapCallback=function($){var L=h;return function(){var H=h;h=L;try{return $.apply(this,arguments)}finally{h=H}}}})(ex);Z_.exports=ex;var $A=Z_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=b,Zt=$A;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tx=new Set,Eo={};function aa(e,t){Qa(e,t),Qa(e+"Capture",t)}function Qa(e,t){for(Eo[e]=t,e=0;e<t.length;e++)tx.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=Object.prototype.hasOwnProperty,RA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oy={},ly={};function LA(e){return Dd.call(ly,e)?!0:Dd.call(oy,e)?!1:RA.test(e)?ly[e]=!0:(oy[e]=!0,!1)}function GA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UA(e,t,r,n){if(t===null||typeof t>"u"||GA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hv=/[\-:]([a-z])/g;function Vv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hv,Vv);lt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hv,Vv);lt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hv,Vv);lt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yv(e,t,r,n){var i=lt.hasOwnProperty(t)?lt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UA(t,r,i,n)&&(r=null),n||i===null?LA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xn=DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),xa=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),Rd=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),Qv=Symbol.for("react.forward_ref"),Ld=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),Jv=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),ix=Symbol.for("react.offscreen"),uy=Symbol.iterator;function Ts(e){return e===null||typeof e!="object"?null:(e=uy&&e[uy]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Eh;function Ys(e){if(Eh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Eh=t&&t[1]||""}return`
`+Eh+e}var Mh=!1;function kh(e,t){if(!e||Mh)return"";Mh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Mh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ys(e):""}function BA(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=kh(e.type,!1),e;case 11:return e=kh(e.type.render,!1),e;case 1:return e=kh(e.type,!0),e;default:return""}}function Ud(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sa:return"Fragment";case xa:return"Portal";case Rd:return"Profiler";case Xv:return"StrictMode";case Ld:return"Suspense";case Gd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nx:return(e.displayName||"Context")+".Consumer";case rx:return(e._context.displayName||"Context")+".Provider";case Qv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jv:return t=e.displayName||null,t!==null?t:Ud(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return Ud(e(t))}catch{}}return null}function zA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ud(t);case 8:return t===Xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FA(e){var t=ax(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=FA(e))}function sx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ax(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bd(e,t){var r=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ti(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ox(e,t){t=t.checked,t!=null&&Yv(e,"checked",t,!1)}function zd(e,t){ox(e,t);var r=ti(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fd(e,t.type,ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fd(e,t,r){(t!=="number"||Wu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xs=Array.isArray;function Ba(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ti(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Xs(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ti(r)}}function lx(e,t){var r=ti(t.value),n=ti(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ux(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ux(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zl,cx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WA=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(e){WA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ao[t]=ao[e]})});function fx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ao.hasOwnProperty(e)&&ao[e]?(""+t).trim():t+"px"}function hx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var KA=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qd(e,t){if(t){if(KA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Hd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vd=null;function Zv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yd=null,za=null,Fa=null;function vy(e){if(e=ll(e)){if(typeof Yd!="function")throw Error(N(280));var t=e.stateNode;t&&(t=df(t),Yd(e.stateNode,e.type,t))}}function dx(e){za?Fa?Fa.push(e):Fa=[e]:za=e}function vx(){if(za){var e=za,t=Fa;if(Fa=za=null,vy(e),t)for(e=0;e<t.length;e++)vy(t[e])}}function px(e,t){return e(t)}function gx(){}var Ah=!1;function mx(e,t,r){if(Ah)return e(t,r);Ah=!0;try{return px(e,t,r)}finally{Ah=!1,(za!==null||Fa!==null)&&(gx(),vx())}}function ko(e,t){var r=e.stateNode;if(r===null)return null;var n=df(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var Xd=!1;if(dn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Xd=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Xd=!1}function qA(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var so=!1,Ku=null,qu=!1,Qd=null,HA={onError:function(e){so=!0,Ku=e}};function VA(e,t,r,n,i,a,s,o,l){so=!1,Ku=null,qA.apply(HA,arguments)}function YA(e,t,r,n,i,a,s,o,l){if(VA.apply(this,arguments),so){if(so){var u=Ku;so=!1,Ku=null}else throw Error(N(198));qu||(qu=!0,Qd=u)}}function sa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function py(e){if(sa(e)!==e)throw Error(N(188))}function XA(e){var t=e.alternate;if(!t){if(t=sa(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return py(i),e;if(a===n)return py(i),t;a=a.sibling}throw Error(N(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function wx(e){return e=XA(e),e!==null?bx(e):null}function bx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bx(e);if(t!==null)return t;e=e.sibling}return null}var _x=Zt.unstable_scheduleCallback,gy=Zt.unstable_cancelCallback,QA=Zt.unstable_shouldYield,JA=Zt.unstable_requestPaint,$e=Zt.unstable_now,ZA=Zt.unstable_getCurrentPriorityLevel,ep=Zt.unstable_ImmediatePriority,xx=Zt.unstable_UserBlockingPriority,Hu=Zt.unstable_NormalPriority,eO=Zt.unstable_LowPriority,Sx=Zt.unstable_IdlePriority,uf=null,Kr=null;function tO(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(uf,e,void 0,(e.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:iO,rO=Math.log,nO=Math.LN2;function iO(e){return e>>>=0,e===0?32:31-(rO(e)/nO|0)|0}var Fl=64,Wl=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Qs(o):(a&=s,a!==0&&(n=Qs(a)))}else s=r&~i,s!==0?n=Qs(s):a!==0&&(n=Qs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nr(t),i=1<<r,n|=e[r],t&=~i;return n}function aO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Nr(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=aO(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Jd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Px(){var e=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),e}function Oh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function sl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nr(t),e[t]=r}function oO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Nr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function tp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ue=0;function Ex(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mx,rp,kx,Ax,Ox,Zd=!1,Kl=[],Kn=null,qn=null,Hn=null,Ao=new Map,Oo=new Map,Ln=[],lO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function Ns(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ll(t),t!==null&&rp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uO(e,t,r,n,i){switch(t){case"focusin":return Kn=Ns(Kn,e,t,r,n,i),!0;case"dragenter":return qn=Ns(qn,e,t,r,n,i),!0;case"mouseover":return Hn=Ns(Hn,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ao.set(a,Ns(Ao.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Oo.set(a,Ns(Oo.get(a)||null,e,t,r,n,i)),!0}return!1}function Cx(e){var t=Ni(e.target);if(t!==null){var r=sa(t);if(r!==null){if(t=r.tag,t===13){if(t=yx(r),t!==null){e.blockedOn=t,Ox(e.priority,function(){kx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=e0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vd=n,r.target.dispatchEvent(n),Vd=null}else return t=ll(r),t!==null&&rp(t),e.blockedOn=r,!1;t.shift()}return!0}function yy(e,t,r){Au(e)&&r.delete(t)}function cO(){Zd=!1,Kn!==null&&Au(Kn)&&(Kn=null),qn!==null&&Au(qn)&&(qn=null),Hn!==null&&Au(Hn)&&(Hn=null),Ao.forEach(yy),Oo.forEach(yy)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,cO)))}function Co(e){function t(i){return Is(i,e)}if(0<Kl.length){Is(Kl[0],e);for(var r=1;r<Kl.length;r++){var n=Kl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kn!==null&&Is(Kn,e),qn!==null&&Is(qn,e),Hn!==null&&Is(Hn,e),Ao.forEach(t),Oo.forEach(t),r=0;r<Ln.length;r++)n=Ln[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ln.length&&(r=Ln[0],r.blockedOn===null);)Cx(r),r.blockedOn===null&&Ln.shift()}var Wa=xn.ReactCurrentBatchConfig,Yu=!0;function fO(e,t,r,n){var i=ue,a=Wa.transition;Wa.transition=null;try{ue=1,np(e,t,r,n)}finally{ue=i,Wa.transition=a}}function hO(e,t,r,n){var i=ue,a=Wa.transition;Wa.transition=null;try{ue=4,np(e,t,r,n)}finally{ue=i,Wa.transition=a}}function np(e,t,r,n){if(Yu){var i=e0(e,t,r,n);if(i===null)Gh(e,t,n,Xu,r),my(e,n);else if(uO(i,e,t,r,n))n.stopPropagation();else if(my(e,n),t&4&&-1<lO.indexOf(e)){for(;i!==null;){var a=ll(i);if(a!==null&&Mx(a),a=e0(e,t,r,n),a===null&&Gh(e,t,n,Xu,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Gh(e,t,n,null,r)}}var Xu=null;function e0(e,t,r,n){if(Xu=null,e=Zv(n),e=Ni(e),e!==null)if(t=sa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xu=e,null}function Tx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZA()){case ep:return 1;case xx:return 4;case Hu:case eO:return 16;case Sx:return 536870912;default:return 16}default:return 16}}var zn=null,ip=null,Ou=null;function jx(){if(Ou)return Ou;var e,t=ip,r=t.length,n,i="value"in zn?zn.value:zn.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Ou=i.slice(e,1<n?1-n:void 0)}function Cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function wy(){return!1}function ir(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ql:wy,this.isPropagationStopped=wy,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=ir(gs),ol=Oe({},gs,{view:0,detail:0}),dO=ir(ol),Ch,Th,$s,cf=Oe({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(Ch=e.screenX-$s.screenX,Th=e.screenY-$s.screenY):Th=Ch=0,$s=e),Ch)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),by=ir(cf),vO=Oe({},cf,{dataTransfer:0}),pO=ir(vO),gO=Oe({},ol,{relatedTarget:0}),jh=ir(gO),mO=Oe({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),yO=ir(mO),wO=Oe({},gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bO=ir(wO),_O=Oe({},gs,{data:0}),_y=ir(_O),xO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PO[e])?!!t[e]:!1}function sp(){return EO}var MO=Oe({},ol,{key:function(e){if(e.key){var t=xO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sp,charCode:function(e){return e.type==="keypress"?Cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kO=ir(MO),AO=Oe({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=ir(AO),OO=Oe({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sp}),CO=ir(OO),TO=Oe({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jO=ir(TO),NO=Oe({},cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IO=ir(NO),$O=[9,13,27,32],op=dn&&"CompositionEvent"in window,oo=null;dn&&"documentMode"in document&&(oo=document.documentMode);var DO=dn&&"TextEvent"in window&&!oo,Nx=dn&&(!op||oo&&8<oo&&11>=oo),Sy=" ",Py=!1;function Ix(e,t){switch(e){case"keyup":return $O.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $x(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function RO(e,t){switch(e){case"compositionend":return $x(t);case"keypress":return t.which!==32?null:(Py=!0,Sy);case"textInput":return e=t.data,e===Sy&&Py?null:e;default:return null}}function LO(e,t){if(Pa)return e==="compositionend"||!op&&Ix(e,t)?(e=jx(),Ou=ip=zn=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nx&&t.locale!=="ko"?null:t.data;default:return null}}var GO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GO[e.type]:t==="textarea"}function Dx(e,t,r,n){dx(n),t=Qu(t,"onChange"),0<t.length&&(r=new ap("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lo=null,To=null;function UO(e){Hx(e,0)}function ff(e){var t=ka(e);if(sx(t))return e}function BO(e,t){if(e==="change")return t}var Rx=!1;if(dn){var Nh;if(dn){var Ih="oninput"in document;if(!Ih){var My=document.createElement("div");My.setAttribute("oninput","return;"),Ih=typeof My.oninput=="function"}Nh=Ih}else Nh=!1;Rx=Nh&&(!document.documentMode||9<document.documentMode)}function ky(){lo&&(lo.detachEvent("onpropertychange",Lx),To=lo=null)}function Lx(e){if(e.propertyName==="value"&&ff(To)){var t=[];Dx(t,To,e,Zv(e)),mx(UO,t)}}function zO(e,t,r){e==="focusin"?(ky(),lo=t,To=r,lo.attachEvent("onpropertychange",Lx)):e==="focusout"&&ky()}function FO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ff(To)}function WO(e,t){if(e==="click")return ff(t)}function KO(e,t){if(e==="input"||e==="change")return ff(t)}function qO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rr=typeof Object.is=="function"?Object.is:qO;function jo(e,t){if(Rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Dd.call(t,i)||!Rr(e[i],t[i]))return!1}return!0}function Ay(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oy(e,t){var r=Ay(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ay(r)}}function Gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ux(){for(var e=window,t=Wu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wu(e.document)}return t}function lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HO(e){var t=Ux(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gx(r.ownerDocument.documentElement,r)){if(n!==null&&lp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Oy(r,a);var s=Oy(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VO=dn&&"documentMode"in document&&11>=document.documentMode,Ea=null,t0=null,uo=null,r0=!1;function Cy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r0||Ea==null||Ea!==Wu(n)||(n=Ea,"selectionStart"in n&&lp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uo&&jo(uo,n)||(uo=n,n=Qu(t0,"onSelect"),0<n.length&&(t=new ap("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ea)))}function Hl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ma={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},$h={},Bx={};dn&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function hf(e){if($h[e])return $h[e];if(!Ma[e])return e;var t=Ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Bx)return $h[e]=t[r];return e}var zx=hf("animationend"),Fx=hf("animationiteration"),Wx=hf("animationstart"),Kx=hf("transitionend"),qx=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(e,t){qx.set(e,t),aa(t,[e])}for(var Dh=0;Dh<Ty.length;Dh++){var Rh=Ty[Dh],YO=Rh.toLowerCase(),XO=Rh[0].toUpperCase()+Rh.slice(1);ci(YO,"on"+XO)}ci(zx,"onAnimationEnd");ci(Fx,"onAnimationIteration");ci(Wx,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(Kx,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function jy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YA(n,t,void 0,e),e.currentTarget=null}function Hx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;jy(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;jy(i,o,u),a=l}}}if(qu)throw e=Qd,qu=!1,Qd=null,e}function ye(e,t){var r=t[o0];r===void 0&&(r=t[o0]=new Set);var n=e+"__bubble";r.has(n)||(Vx(t,e,2,!1),r.add(n))}function Lh(e,t,r){var n=0;t&&(n|=4),Vx(r,e,n,t)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function No(e){if(!e[Vl]){e[Vl]=!0,tx.forEach(function(r){r!=="selectionchange"&&(QO.has(r)||Lh(r,!1,e),Lh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vl]||(t[Vl]=!0,Lh("selectionchange",!1,t))}}function Vx(e,t,r,n){switch(Tx(t)){case 1:var i=fO;break;case 4:i=hO;break;default:i=np}r=i.bind(null,t,r,e),i=void 0,!Xd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Gh(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ni(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}mx(function(){var u=a,c=Zv(r),f=[];e:{var h=qx.get(e);if(h!==void 0){var d=ap,v=e;switch(e){case"keypress":if(Cu(r)===0)break e;case"keydown":case"keyup":d=kO;break;case"focusin":v="focus",d=jh;break;case"focusout":v="blur",d=jh;break;case"beforeblur":case"afterblur":d=jh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=pO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=CO;break;case zx:case Fx:case Wx:d=yO;break;case Kx:d=jO;break;case"scroll":d=dO;break;case"wheel":d=IO;break;case"copy":case"cut":case"paste":d=bO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=xy}var p=(t&4)!==0,y=!p&&e==="scroll",m=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,m!==null&&(_=ko(g,m),_!=null&&p.push(Io(g,_,w)))),y)break;g=g.return}0<p.length&&(h=new d(h,v,null,r,c),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==Vd&&(v=r.relatedTarget||r.fromElement)&&(Ni(v)||v[vn]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(v=r.relatedTarget||r.toElement,d=u,v=v?Ni(v):null,v!==null&&(y=sa(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=u),d!==v)){if(p=by,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=xy,_="onPointerLeave",m="onPointerEnter",g="pointer"),y=d==null?h:ka(d),w=v==null?h:ka(v),h=new p(_,g+"leave",d,r,c),h.target=y,h.relatedTarget=w,_=null,Ni(c)===u&&(p=new p(m,g+"enter",v,r,c),p.target=w,p.relatedTarget=y,_=p),y=_,d&&v)t:{for(p=d,m=v,g=0,w=p;w;w=ha(w))g++;for(w=0,_=m;_;_=ha(_))w++;for(;0<g-w;)p=ha(p),g--;for(;0<w-g;)m=ha(m),w--;for(;g--;){if(p===m||m!==null&&p===m.alternate)break t;p=ha(p),m=ha(m)}p=null}else p=null;d!==null&&Ny(f,h,d,p,!1),v!==null&&y!==null&&Ny(f,y,v,p,!0)}}e:{if(h=u?ka(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var P=BO;else if(Ey(h))if(Rx)P=KO;else{P=FO;var S=zO}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=WO);if(P&&(P=P(e,u))){Dx(f,P,r,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Fd(h,"number",h.value)}switch(S=u?ka(u):window,e){case"focusin":(Ey(S)||S.contentEditable==="true")&&(Ea=S,t0=u,uo=null);break;case"focusout":uo=t0=Ea=null;break;case"mousedown":r0=!0;break;case"contextmenu":case"mouseup":case"dragend":r0=!1,Cy(f,r,c);break;case"selectionchange":if(VO)break;case"keydown":case"keyup":Cy(f,r,c)}var E;if(op)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Pa?Ix(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(Nx&&r.locale!=="ko"&&(Pa||M!=="onCompositionStart"?M==="onCompositionEnd"&&Pa&&(E=jx()):(zn=c,ip="value"in zn?zn.value:zn.textContent,Pa=!0)),S=Qu(u,M),0<S.length&&(M=new _y(M,e,null,r,c),f.push({event:M,listeners:S}),E?M.data=E:(E=$x(r),E!==null&&(M.data=E)))),(E=DO?RO(e,r):LO(e,r))&&(u=Qu(u,"onBeforeInput"),0<u.length&&(c=new _y("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=E))}Hx(f,t)})}function Io(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ko(e,r),a!=null&&n.unshift(Io(e,a,i)),a=ko(e,t),a!=null&&n.push(Io(e,a,i))),e=e.return}return n}function ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ny(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ko(r,a),l!=null&&s.unshift(Io(r,l,o))):i||(l=ko(r,a),l!=null&&s.push(Io(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var JO=/\r\n?/g,ZO=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(JO,`
`).replace(ZO,"")}function Yl(e,t,r){if(t=Iy(t),Iy(e)!==t&&r)throw Error(N(425))}function Ju(){}var n0=null,i0=null;function a0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var s0=typeof setTimeout=="function"?setTimeout:void 0,e3=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,t3=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(r3)}:s0;function r3(e){setTimeout(function(){throw e})}function Uh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Co(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Co(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),zr="__reactFiber$"+ms,$o="__reactProps$"+ms,vn="__reactContainer$"+ms,o0="__reactEvents$"+ms,n3="__reactListeners$"+ms,i3="__reactHandles$"+ms;function Ni(e){var t=e[zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vn]||r[zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dy(e);e!==null;){if(r=e[zr])return r;e=Dy(e)}return t}e=r,r=e.parentNode}return null}function ll(e){return e=e[zr]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function df(e){return e[$o]||null}var l0=[],Aa=-1;function fi(e){return{current:e}}function be(e){0>Aa||(e.current=l0[Aa],l0[Aa]=null,Aa--)}function ge(e,t){Aa++,l0[Aa]=e.current,e.current=t}var ri={},wt=fi(ri),Rt=fi(!1),qi=ri;function Ja(e,t){var r=e.type.contextTypes;if(!r)return ri;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(e){return e=e.childContextTypes,e!=null}function Zu(){be(Rt),be(wt)}function Ry(e,t,r){if(wt.current!==ri)throw Error(N(168));ge(wt,t),ge(Rt,r)}function Yx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(N(108,zA(e)||"Unknown",i));return Oe({},r,n)}function ec(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,qi=wt.current,ge(wt,e),ge(Rt,Rt.current),!0}function Ly(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Yx(e,t,qi),n.__reactInternalMemoizedMergedChildContext=e,be(Rt),be(wt),ge(wt,e)):be(Rt),ge(Rt,r)}var rn=null,vf=!1,Bh=!1;function Xx(e){rn===null?rn=[e]:rn.push(e)}function a3(e){vf=!0,Xx(e)}function hi(){if(!Bh&&rn!==null){Bh=!0;var e=0,t=ue;try{var r=rn;for(ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rn=null,vf=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),_x(ep,hi),i}finally{ue=t,Bh=!1}}return null}var Oa=[],Ca=0,tc=null,rc=0,cr=[],fr=0,Hi=null,sn=1,on="";function Pi(e,t){Oa[Ca++]=rc,Oa[Ca++]=tc,tc=e,rc=t}function Qx(e,t,r){cr[fr++]=sn,cr[fr++]=on,cr[fr++]=Hi,Hi=e;var n=sn;e=on;var i=32-Nr(n)-1;n&=~(1<<i),r+=1;var a=32-Nr(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,sn=1<<32-Nr(t)+i|r<<i|n,on=a+e}else sn=1<<a|r<<i|n,on=e}function up(e){e.return!==null&&(Pi(e,1),Qx(e,1,0))}function cp(e){for(;e===tc;)tc=Oa[--Ca],Oa[Ca]=null,rc=Oa[--Ca],Oa[Ca]=null;for(;e===Hi;)Hi=cr[--fr],cr[fr]=null,on=cr[--fr],cr[fr]=null,sn=cr[--fr],cr[fr]=null}var Qt=null,Xt=null,xe=!1,Cr=null;function Jx(e,t){var r=dr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hi!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=dr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Xt=null,!0):!1;default:return!1}}function u0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c0(e){if(xe){var t=Xt;if(t){var r=t;if(!Gy(e,t)){if(u0(e))throw Error(N(418));t=Vn(r.nextSibling);var n=Qt;t&&Gy(e,t)?Jx(n,r):(e.flags=e.flags&-4097|2,xe=!1,Qt=e)}}else{if(u0(e))throw Error(N(418));e.flags=e.flags&-4097|2,xe=!1,Qt=e}}}function Uy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Xl(e){if(e!==Qt)return!1;if(!xe)return Uy(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!a0(e.type,e.memoizedProps)),t&&(t=Xt)){if(u0(e))throw Zx(),Error(N(418));for(;t;)Jx(e,t),t=Vn(t.nextSibling)}if(Uy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=Vn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Qt?Vn(e.stateNode.nextSibling):null;return!0}function Zx(){for(var e=Xt;e;)e=Vn(e.nextSibling)}function Za(){Xt=Qt=null,xe=!1}function fp(e){Cr===null?Cr=[e]:Cr.push(e)}var s3=xn.ReactCurrentBatchConfig;function Ds(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function By(e){var t=e._init;return t(e._payload)}function e2(e){function t(m,g){if(e){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Jn(m,g),m.index=0,m.sibling=null,m}function a(m,g,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,g,w,_){return g===null||g.tag!==6?(g=Vh(w,m.mode,_),g.return=m,g):(g=i(g,w),g.return=m,g)}function l(m,g,w,_){var P=w.type;return P===Sa?c(m,g,w.props.children,_,w.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===In&&By(P)===g.type)?(_=i(g,w.props),_.ref=Ds(m,g,w),_.return=m,_):(_=Ru(w.type,w.key,w.props,null,m.mode,_),_.ref=Ds(m,g,w),_.return=m,_)}function u(m,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Yh(w,m.mode,_),g.return=m,g):(g=i(g,w.children||[]),g.return=m,g)}function c(m,g,w,_,P){return g===null||g.tag!==7?(g=Bi(w,m.mode,_,P),g.return=m,g):(g=i(g,w),g.return=m,g)}function f(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vh(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ul:return w=Ru(g.type,g.key,g.props,null,m.mode,w),w.ref=Ds(m,null,g),w.return=m,w;case xa:return g=Yh(g,m.mode,w),g.return=m,g;case In:var _=g._init;return f(m,_(g._payload),w)}if(Xs(g)||Ts(g))return g=Bi(g,m.mode,w,null),g.return=m,g;Ql(m,g)}return null}function h(m,g,w,_){var P=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(m,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:return w.key===P?l(m,g,w,_):null;case xa:return w.key===P?u(m,g,w,_):null;case In:return P=w._init,h(m,g,P(w._payload),_)}if(Xs(w)||Ts(w))return P!==null?null:c(m,g,w,_,null);Ql(m,w)}return null}function d(m,g,w,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(w)||null,o(g,m,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ul:return m=m.get(_.key===null?w:_.key)||null,l(g,m,_,P);case xa:return m=m.get(_.key===null?w:_.key)||null,u(g,m,_,P);case In:var S=_._init;return d(m,g,w,S(_._payload),P)}if(Xs(_)||Ts(_))return m=m.get(w)||null,c(g,m,_,P,null);Ql(g,_)}return null}function v(m,g,w,_){for(var P=null,S=null,E=g,M=g=0,A=null;E!==null&&M<w.length;M++){E.index>M?(A=E,E=null):A=E.sibling;var O=h(m,E,w[M],_);if(O===null){E===null&&(E=A);break}e&&E&&O.alternate===null&&t(m,E),g=a(O,g,M),S===null?P=O:S.sibling=O,S=O,E=A}if(M===w.length)return r(m,E),xe&&Pi(m,M),P;if(E===null){for(;M<w.length;M++)E=f(m,w[M],_),E!==null&&(g=a(E,g,M),S===null?P=E:S.sibling=E,S=E);return xe&&Pi(m,M),P}for(E=n(m,E);M<w.length;M++)A=d(E,m,M,w[M],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?M:A.key),g=a(A,g,M),S===null?P=A:S.sibling=A,S=A);return e&&E.forEach(function(C){return t(m,C)}),xe&&Pi(m,M),P}function p(m,g,w,_){var P=Ts(w);if(typeof P!="function")throw Error(N(150));if(w=P.call(w),w==null)throw Error(N(151));for(var S=P=null,E=g,M=g=0,A=null,O=w.next();E!==null&&!O.done;M++,O=w.next()){E.index>M?(A=E,E=null):A=E.sibling;var C=h(m,E,O.value,_);if(C===null){E===null&&(E=A);break}e&&E&&C.alternate===null&&t(m,E),g=a(C,g,M),S===null?P=C:S.sibling=C,S=C,E=A}if(O.done)return r(m,E),xe&&Pi(m,M),P;if(E===null){for(;!O.done;M++,O=w.next())O=f(m,O.value,_),O!==null&&(g=a(O,g,M),S===null?P=O:S.sibling=O,S=O);return xe&&Pi(m,M),P}for(E=n(m,E);!O.done;M++,O=w.next())O=d(E,m,M,O.value,_),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?M:O.key),g=a(O,g,M),S===null?P=O:S.sibling=O,S=O);return e&&E.forEach(function(j){return t(m,j)}),xe&&Pi(m,M),P}function y(m,g,w,_){if(typeof w=="object"&&w!==null&&w.type===Sa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:e:{for(var P=w.key,S=g;S!==null;){if(S.key===P){if(P=w.type,P===Sa){if(S.tag===7){r(m,S.sibling),g=i(S,w.props.children),g.return=m,m=g;break e}}else if(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===In&&By(P)===S.type){r(m,S.sibling),g=i(S,w.props),g.ref=Ds(m,S,w),g.return=m,m=g;break e}r(m,S);break}else t(m,S);S=S.sibling}w.type===Sa?(g=Bi(w.props.children,m.mode,_,w.key),g.return=m,m=g):(_=Ru(w.type,w.key,w.props,null,m.mode,_),_.ref=Ds(m,g,w),_.return=m,m=_)}return s(m);case xa:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(m,g.sibling),g=i(g,w.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=Yh(w,m.mode,_),g.return=m,m=g}return s(m);case In:return S=w._init,y(m,g,S(w._payload),_)}if(Xs(w))return v(m,g,w,_);if(Ts(w))return p(m,g,w,_);Ql(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(m,g.sibling),g=i(g,w),g.return=m,m=g):(r(m,g),g=Vh(w,m.mode,_),g.return=m,m=g),s(m)):r(m,g)}return y}var es=e2(!0),t2=e2(!1),nc=fi(null),ic=null,Ta=null,hp=null;function dp(){hp=Ta=ic=null}function vp(e){var t=nc.current;be(nc),e._currentValue=t}function f0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ka(e,t){ic=e,hp=Ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(hp!==e)if(e={context:e,memoizedValue:t,next:null},Ta===null){if(ic===null)throw Error(N(308));Ta=e,ic.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var Ii=null;function pp(e){Ii===null?Ii=[e]:Ii.push(e)}function r2(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,pp(t)):(r.next=i.next,i.next=r),t.interleaved=r,pn(e,n)}function pn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $n=!1;function gp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,pn(e,r)}return i=n.interleaved,i===null?(t.next=t,pp(n)):(t.next=i.next,i.next=t),n.interleaved=t,pn(e,r)}function Tu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tp(e,r)}}function zy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ac(e,t,r,n){var i=e.updateQueue;$n=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,d=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,p=o;switch(h=t,d=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(d,f,h):v,h==null)break e;f=Oe({},f,h);break e;case 2:$n=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Yi|=s,e.lanes=s,e.memoizedState=f}}function Fy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(N(191,i));i.call(n)}}}var ul={},qr=fi(ul),Do=fi(ul),Ro=fi(ul);function $i(e){if(e===ul)throw Error(N(174));return e}function mp(e,t){switch(ge(Ro,t),ge(Do,e),ge(qr,ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kd(t,e)}be(qr),ge(qr,t)}function ts(){be(qr),be(Do),be(Ro)}function i2(e){$i(Ro.current);var t=$i(qr.current),r=Kd(t,e.type);t!==r&&(ge(Do,e),ge(qr,r))}function yp(e){Do.current===e&&(be(qr),be(Do))}var ke=fi(0);function sc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zh=[];function wp(){for(var e=0;e<zh.length;e++)zh[e]._workInProgressVersionPrimary=null;zh.length=0}var ju=xn.ReactCurrentDispatcher,Fh=xn.ReactCurrentBatchConfig,Vi=0,Ae=null,We=null,Je=null,oc=!1,co=!1,Lo=0,o3=0;function ht(){throw Error(N(321))}function bp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rr(e[r],t[r]))return!1;return!0}function _p(e,t,r,n,i,a){if(Vi=a,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ju.current=e===null||e.memoizedState===null?f3:h3,e=r(n,i),co){a=0;do{if(co=!1,Lo=0,25<=a)throw Error(N(301));a+=1,Je=We=null,t.updateQueue=null,ju.current=d3,e=r(n,i)}while(co)}if(ju.current=lc,t=We!==null&&We.next!==null,Vi=0,Je=We=Ae=null,oc=!1,t)throw Error(N(300));return e}function xp(){var e=Lo!==0;return Lo=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ae.memoizedState=Je=e:Je=Je.next=e,Je}function yr(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Je===null?Ae.memoizedState:Je.next;if(t!==null)Je=t,We=e;else{if(e===null)throw Error(N(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?Ae.memoizedState=Je=e:Je=Je.next=e}return Je}function Go(e,t){return typeof t=="function"?t(e):t}function Wh(e){var t=yr(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=We,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Vi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Ae.lanes|=c,Yi|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Rr(n,t.memoizedState)||($t=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ae.lanes|=a,Yi|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kh(e){var t=yr(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Rr(a,t.memoizedState)||($t=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function a2(){}function s2(e,t){var r=Ae,n=yr(),i=t(),a=!Rr(n.memoizedState,i);if(a&&(n.memoizedState=i,$t=!0),n=n.queue,Sp(u2.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Uo(9,l2.bind(null,r,n,i,t),void 0,null),et===null)throw Error(N(349));Vi&30||o2(r,t,i)}return i}function o2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function l2(e,t,r,n){t.value=r,t.getSnapshot=n,c2(t)&&f2(e)}function u2(e,t,r){return r(function(){c2(t)&&f2(e)})}function c2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rr(e,r)}catch{return!0}}function f2(e){var t=pn(e,1);t!==null&&Ir(t,e,1,-1)}function Wy(e){var t=Ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=c3.bind(null,Ae,e),[t.memoizedState,e]}function Uo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h2(){return yr().memoizedState}function Nu(e,t,r,n){var i=Ur();Ae.flags|=e,i.memoizedState=Uo(1|t,r,void 0,n===void 0?null:n)}function pf(e,t,r,n){var i=yr();n=n===void 0?null:n;var a=void 0;if(We!==null){var s=We.memoizedState;if(a=s.destroy,n!==null&&bp(n,s.deps)){i.memoizedState=Uo(t,r,a,n);return}}Ae.flags|=e,i.memoizedState=Uo(1|t,r,a,n)}function Ky(e,t){return Nu(8390656,8,e,t)}function Sp(e,t){return pf(2048,8,e,t)}function d2(e,t){return pf(4,2,e,t)}function v2(e,t){return pf(4,4,e,t)}function p2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g2(e,t,r){return r=r!=null?r.concat([e]):null,pf(4,4,p2.bind(null,t,e),r)}function Pp(){}function m2(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function y2(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function w2(e,t,r){return Vi&21?(Rr(r,t)||(r=Px(),Ae.lanes|=r,Yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=r)}function l3(e,t){var r=ue;ue=r!==0&&4>r?r:4,e(!0);var n=Fh.transition;Fh.transition={};try{e(!1),t()}finally{ue=r,Fh.transition=n}}function b2(){return yr().memoizedState}function u3(e,t,r){var n=Qn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_2(e))x2(t,r);else if(r=r2(e,t,r,n),r!==null){var i=Mt();Ir(r,e,n,i),S2(r,t,n)}}function c3(e,t,r){var n=Qn(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_2(e))x2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Rr(o,s)){var l=t.interleaved;l===null?(i.next=i,pp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=r2(e,t,i,n),r!==null&&(i=Mt(),Ir(r,e,n,i),S2(r,t,n))}}function _2(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function x2(e,t){co=oc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function S2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tp(e,r)}}var lc={readContext:mr,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},f3={readContext:mr,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:Ky,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nu(4194308,4,p2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nu(4,2,e,t)},useMemo:function(e,t){var r=Ur();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ur();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=u3.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:Wy,useDebugValue:Pp,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=Wy(!1),t=e[0];return e=l3.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,i=Ur();if(xe){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),et===null)throw Error(N(349));Vi&30||o2(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ky(u2.bind(null,n,a,e),[e]),n.flags|=2048,Uo(9,l2.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ur(),t=et.identifierPrefix;if(xe){var r=on,n=sn;r=(n&~(1<<32-Nr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Lo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=o3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h3={readContext:mr,useCallback:m2,useContext:mr,useEffect:Sp,useImperativeHandle:g2,useInsertionEffect:d2,useLayoutEffect:v2,useMemo:y2,useReducer:Wh,useRef:h2,useState:function(){return Wh(Go)},useDebugValue:Pp,useDeferredValue:function(e){var t=yr();return w2(t,We.memoizedState,e)},useTransition:function(){var e=Wh(Go)[0],t=yr().memoizedState;return[e,t]},useMutableSource:a2,useSyncExternalStore:s2,useId:b2,unstable_isNewReconciler:!1},d3={readContext:mr,useCallback:m2,useContext:mr,useEffect:Sp,useImperativeHandle:g2,useInsertionEffect:d2,useLayoutEffect:v2,useMemo:y2,useReducer:Kh,useRef:h2,useState:function(){return Kh(Go)},useDebugValue:Pp,useDeferredValue:function(e){var t=yr();return We===null?t.memoizedState=e:w2(t,We.memoizedState,e)},useTransition:function(){var e=Kh(Go)[0],t=yr().memoizedState;return[e,t]},useMutableSource:a2,useSyncExternalStore:s2,useId:b2,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function h0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gf={isMounted:function(e){return(e=e._reactInternals)?sa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=Qn(e),a=cn(n,i);a.payload=t,r!=null&&(a.callback=r),t=Yn(e,a,i),t!==null&&(Ir(t,e,i,n),Tu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=Qn(e),a=cn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Yn(e,a,i),t!==null&&(Ir(t,e,i,n),Tu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=Qn(e),i=cn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Yn(e,i,n),t!==null&&(Ir(t,e,n,r),Tu(t,e,n))}};function qy(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!jo(r,n)||!jo(i,a):!0}function P2(e,t,r){var n=!1,i=ri,a=t.contextType;return typeof a=="object"&&a!==null?a=mr(a):(i=Lt(t)?qi:wt.current,n=t.contextTypes,a=(n=n!=null)?Ja(e,i):ri),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Hy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function d0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},gp(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=mr(a):(a=Lt(t)?qi:wt.current,i.context=Ja(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(h0(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gf.enqueueReplaceState(i,i.state,null),ac(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,t){try{var r="",n=t;do r+=BA(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function qh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function v0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var v3=typeof WeakMap=="function"?WeakMap:Map;function E2(e,t,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cc||(cc=!0,P0=n),v0(e,t)},r}function M2(e,t,r){r=cn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){v0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){v0(e,t),typeof n!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Vy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new v3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=A3.bind(null,e,t,r),t.then(e,e))}function Yy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xy(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cn(-1,1),t.tag=2,Yn(r,t,1))),r.lanes|=1),e)}var p3=xn.ReactCurrentOwner,$t=!1;function xt(e,t,r,n){t.child=e===null?t2(t,null,r,n):es(t,e.child,r,n)}function Qy(e,t,r,n,i){r=r.render;var a=t.ref;return Ka(t,i),n=_p(e,t,r,n,a,i),r=xp(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(xe&&r&&up(t),t.flags|=1,xt(e,t,n,i),t.child)}function Jy(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!jp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,k2(e,t,a,n,i)):(e=Ru(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(s,n)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=Jn(a,n),e.ref=t.ref,e.return=t,t.child=e}function k2(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(jo(a,n)&&e.ref===t.ref)if($t=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,gn(e,t,i)}return p0(e,t,r,n,i)}function A2(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Na,qt),qt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(Na,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ge(Na,qt),qt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ge(Na,qt),qt|=n;return xt(e,t,i,r),t.child}function O2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function p0(e,t,r,n,i){var a=Lt(r)?qi:wt.current;return a=Ja(t,a),Ka(t,i),r=_p(e,t,r,n,a,i),n=xp(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(xe&&n&&up(t),t.flags|=1,xt(e,t,r,i),t.child)}function Zy(e,t,r,n,i){if(Lt(r)){var a=!0;ec(t)}else a=!1;if(Ka(t,i),t.stateNode===null)Iu(e,t),P2(t,r,n),d0(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Lt(r)?qi:wt.current,u=Ja(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Hy(t,s,n,u),$n=!1;var h=t.memoizedState;s.state=h,ac(t,n,s,i),l=t.memoizedState,o!==n||h!==l||Rt.current||$n?(typeof c=="function"&&(h0(t,r,c,n),l=t.memoizedState),(o=$n||qy(t,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,n2(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:kr(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Lt(r)?qi:wt.current,l=Ja(t,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Hy(t,s,n,l),$n=!1,h=t.memoizedState,s.state=h,ac(t,n,s,i);var v=t.memoizedState;o!==f||h!==v||Rt.current||$n?(typeof d=="function"&&(h0(t,r,d,n),v=t.memoizedState),(u=$n||qy(t,r,u,n,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return g0(e,t,r,n,a,i)}function g0(e,t,r,n,i,a){O2(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Ly(t,r,!1),gn(e,t,a);n=t.stateNode,p3.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=es(t,e.child,null,a),t.child=es(t,null,o,a)):xt(e,t,o,a),t.memoizedState=n.state,i&&Ly(t,r,!0),t.child}function C2(e){var t=e.stateNode;t.pendingContext?Ry(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ry(e,t.context,!1),mp(e,t.containerInfo)}function e1(e,t,r,n,i){return Za(),fp(i),t.flags|=256,xt(e,t,r,n),t.child}var m0={dehydrated:null,treeContext:null,retryLane:0};function y0(e){return{baseLanes:e,cachePool:null,transitions:null}}function T2(e,t,r){var n=t.pendingProps,i=ke.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(ke,i&1),e===null)return c0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=wf(s,n,0,null),e=Bi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=y0(r),t.memoizedState=m0,e):Ep(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return g3(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Jn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Jn(o,a):(a=Bi(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?y0(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=m0,n}return a=e.child,e=a.sibling,n=Jn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ep(e,t){return t=wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jl(e,t,r,n){return n!==null&&fp(n),es(t,e.child,null,r),e=Ep(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g3(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=qh(Error(N(422))),Jl(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=wf({mode:"visible",children:n.children},i,0,null),a=Bi(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&es(t,e.child,null,s),t.child.memoizedState=y0(s),t.memoizedState=m0,a);if(!(t.mode&1))return Jl(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(N(419)),n=qh(a,n,void 0),Jl(e,t,s,n)}if(o=(s&e.childLanes)!==0,$t||o){if(n=et,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,pn(e,i),Ir(n,e,i,-1))}return Tp(),n=qh(Error(N(421))),Jl(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=O3.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xt=Vn(i.nextSibling),Qt=t,xe=!0,Cr=null,e!==null&&(cr[fr++]=sn,cr[fr++]=on,cr[fr++]=Hi,sn=e.id,on=e.overflow,Hi=t),t=Ep(t,n.children),t.flags|=4096,t)}function t1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),f0(e.return,t,r)}function Hh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function j2(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(xt(e,t,n.children,r),n=ke.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t1(e,r,t);else if(e.tag===19)t1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ge(ke,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&sc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hh(t,!0,r,null,a);break;case"together":Hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function m3(e,t,r){switch(t.tag){case 3:C2(t),Za();break;case 5:i2(t);break;case 1:Lt(t.type)&&ec(t);break;case 4:mp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ge(nc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):r&t.child.childLanes?T2(e,t,r):(ge(ke,ke.current&1),e=gn(e,t,r),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return j2(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(ke,ke.current),n)break;return null;case 22:case 23:return t.lanes=0,A2(e,t,r)}return gn(e,t,r)}var N2,w0,I2,$2;N2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};w0=function(){};I2=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,$i(qr.current);var a=null;switch(r){case"input":i=Bd(e,i),n=Bd(e,n),a=[];break;case"select":i=Oe({},i,{value:void 0}),n=Oe({},n,{value:void 0}),a=[];break;case"textarea":i=Wd(e,i),n=Wd(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ju)}qd(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ye("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};$2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rs(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function y3(e,t,r){var n=t.pendingProps;switch(cp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Lt(t.type)&&Zu(),dt(t),null;case 3:return n=t.stateNode,ts(),be(Rt),be(wt),wp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cr!==null&&(k0(Cr),Cr=null))),w0(e,t),dt(t),null;case 5:yp(t);var i=$i(Ro.current);if(r=t.type,e!==null&&t.stateNode!=null)I2(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return dt(t),null}if(e=$i(qr.current),Xl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[zr]=t,n[$o]=a,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(i=0;i<Js.length;i++)ye(Js[i],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":cy(n,a),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ye("invalid",n);break;case"textarea":hy(n,a),ye("invalid",n)}qd(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Yl(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Yl(n.textContent,o,e),i=["children",""+o]):Eo.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ye("scroll",n)}switch(r){case"input":Bl(n),fy(n,a,!0);break;case"textarea":Bl(n),dy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ju)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ux(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[zr]=t,e[$o]=n,N2(e,t,!1,!1),t.stateNode=e;e:{switch(s=Hd(r,n),r){case"dialog":ye("cancel",e),ye("close",e),i=n;break;case"iframe":case"object":case"embed":ye("load",e),i=n;break;case"video":case"audio":for(i=0;i<Js.length;i++)ye(Js[i],e);i=n;break;case"source":ye("error",e),i=n;break;case"img":case"image":case"link":ye("error",e),ye("load",e),i=n;break;case"details":ye("toggle",e),i=n;break;case"input":cy(e,n),i=Bd(e,n),ye("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Oe({},n,{value:void 0}),ye("invalid",e);break;case"textarea":hy(e,n),i=Wd(e,n),ye("invalid",e);break;default:i=n}qd(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?hx(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cx(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Mo(e,l):typeof l=="number"&&Mo(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Eo.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ye("scroll",e):l!=null&&Yv(e,a,l,s))}switch(r){case"input":Bl(e),fy(e,n,!1);break;case"textarea":Bl(e),dy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ti(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ba(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ba(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ju)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)$2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=$i(Ro.current),$i(qr.current),Xl(t)){if(n=t.stateNode,r=t.memoizedProps,n[zr]=t,(a=n.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:Yl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zr]=t,t.stateNode=n}return dt(t),null;case 13:if(be(ke),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Xt!==null&&t.mode&1&&!(t.flags&128))Zx(),Za(),t.flags|=98560,a=!1;else if(a=Xl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(N(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(N(317));a[zr]=t}else Za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),a=!1}else Cr!==null&&(k0(Cr),Cr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?qe===0&&(qe=3):Tp())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return ts(),w0(e,t),e===null&&No(t.stateNode.containerInfo),dt(t),null;case 10:return vp(t.type._context),dt(t),null;case 17:return Lt(t.type)&&Zu(),dt(t),null;case 19:if(be(ke),a=t.memoizedState,a===null)return dt(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Rs(a,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=sc(e),s!==null){for(t.flags|=128,Rs(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}a.tail!==null&&$e()>ns&&(t.flags|=128,n=!0,Rs(a,!1),t.lanes=4194304)}else{if(!n)if(e=sc(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!xe)return dt(t),null}else 2*$e()-a.renderingStartTime>ns&&r!==1073741824&&(t.flags|=128,n=!0,Rs(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,r=ke.current,ge(ke,n?r&1|2:r&1),t):(dt(t),null);case 22:case 23:return Cp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qt&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function w3(e,t){switch(cp(t),t.tag){case 1:return Lt(t.type)&&Zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(),be(Rt),be(wt),wp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yp(t),null;case 13:if(be(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(ke),null;case 4:return ts(),null;case 10:return vp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var Zl=!1,gt=!1,b3=typeof WeakSet=="function"?WeakSet:Set,U=null;function ja(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Te(e,t,n)}else r.current=null}function b0(e,t,r){try{r()}catch(n){Te(e,t,n)}}var r1=!1;function _3(e,t){if(n0=Yu,e=Ux(),lp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++c===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(i0={focusedElem:e,selectionRange:r},Yu=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,y=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:kr(t.type,p),y);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){Te(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return v=r1,r1=!1,v}function fo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&b0(t,r,a)}i=i.next}while(i!==n)}}function mf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function D2(e){var t=e.alternate;t!==null&&(e.alternate=null,D2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[$o],delete t[o0],delete t[n3],delete t[i3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R2(e){return e.tag===5||e.tag===3||e.tag===4}function n1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function x0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ju));else if(n!==4&&(e=e.child,e!==null))for(x0(e,t,r),e=e.sibling;e!==null;)x0(e,t,r),e=e.sibling}function S0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(S0(e,t,r),e=e.sibling;e!==null;)S0(e,t,r),e=e.sibling}var it=null,Ar=!1;function Tn(e,t,r){for(r=r.child;r!==null;)L2(e,t,r),r=r.sibling}function L2(e,t,r){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(uf,r)}catch{}switch(r.tag){case 5:gt||ja(r,t);case 6:var n=it,i=Ar;it=null,Tn(e,t,r),it=n,Ar=i,it!==null&&(Ar?(e=it,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(Ar?(e=it,r=r.stateNode,e.nodeType===8?Uh(e.parentNode,r):e.nodeType===1&&Uh(e,r),Co(e)):Uh(it,r.stateNode));break;case 4:n=it,i=Ar,it=r.stateNode.containerInfo,Ar=!0,Tn(e,t,r),it=n,Ar=i;break;case 0:case 11:case 14:case 15:if(!gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&b0(r,t,s),i=i.next}while(i!==n)}Tn(e,t,r);break;case 1:if(!gt&&(ja(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Te(r,t,o)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(gt=(n=gt)||r.memoizedState!==null,Tn(e,t,r),gt=n):Tn(e,t,r);break;default:Tn(e,t,r)}}function i1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b3),t.forEach(function(n){var i=C3.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:it=o.stateNode,Ar=!1;break e;case 3:it=o.stateNode.containerInfo,Ar=!0;break e;case 4:it=o.stateNode.containerInfo,Ar=!0;break e}o=o.return}if(it===null)throw Error(N(160));L2(a,s,i),it=null,Ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)G2(t,e),t=t.sibling}function G2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),Gr(e),n&4){try{fo(3,e,e.return),mf(3,e)}catch(p){Te(e,e.return,p)}try{fo(5,e,e.return)}catch(p){Te(e,e.return,p)}}break;case 1:Pr(t,e),Gr(e),n&512&&r!==null&&ja(r,r.return);break;case 5:if(Pr(t,e),Gr(e),n&512&&r!==null&&ja(r,r.return),e.flags&32){var i=e.stateNode;try{Mo(i,"")}catch(p){Te(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&ox(i,a),Hd(o,s);var u=Hd(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?hx(i,f):c==="dangerouslySetInnerHTML"?cx(i,f):c==="children"?Mo(i,f):Yv(i,c,f,u)}switch(o){case"input":zd(i,a);break;case"textarea":lx(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Ba(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ba(i,!!a.multiple,a.defaultValue,!0):Ba(i,!!a.multiple,a.multiple?[]:"",!1))}i[$o]=a}catch(p){Te(e,e.return,p)}}break;case 6:if(Pr(t,e),Gr(e),n&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Te(e,e.return,p)}}break;case 3:if(Pr(t,e),Gr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Co(t.containerInfo)}catch(p){Te(e,e.return,p)}break;case 4:Pr(t,e),Gr(e);break;case 13:Pr(t,e),Gr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ap=$e())),n&4&&i1(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(gt=(u=gt)||c,Pr(t,e),gt=u):Pr(t,e),Gr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(U=e,c=e.child;c!==null;){for(f=U=c;U!==null;){switch(h=U,d=h.child,h.tag){case 0:case 11:case 14:case 15:fo(4,h,h.return);break;case 1:ja(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Te(n,r,p)}}break;case 5:ja(h,h.return);break;case 22:if(h.memoizedState!==null){s1(f);continue}}d!==null?(d.return=h,U=d):s1(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fx("display",s))}catch(p){Te(e,e.return,p)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Te(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pr(t,e),Gr(e),n&4&&i1(e);break;case 21:break;default:Pr(t,e),Gr(e)}}function Gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(R2(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mo(i,""),n.flags&=-33);var a=n1(e);S0(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=n1(e);x0(e,o,s);break;default:throw Error(N(161))}}catch(l){Te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x3(e,t,r){U=e,U2(e)}function U2(e,t,r){for(var n=(e.mode&1)!==0;U!==null;){var i=U,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Zl;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gt;o=Zl;var u=gt;if(Zl=s,(gt=l)&&!u)for(U=i;U!==null;)s=U,l=s.child,s.tag===22&&s.memoizedState!==null?o1(i):l!==null?(l.return=s,U=l):o1(i);for(;a!==null;)U=a,U2(a),a=a.sibling;U=i,Zl=o,gt=u}a1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,U=a):a1(e)}}function a1(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||mf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:kr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Fy(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fy(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Co(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}gt||t.flags&512&&_0(t)}catch(h){Te(t,t.return,h)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function s1(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function o1(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mf(4,t)}catch(l){Te(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Te(t,i,l)}}var a=t.return;try{_0(t)}catch(l){Te(t,a,l)}break;case 5:var s=t.return;try{_0(t)}catch(l){Te(t,s,l)}}}catch(l){Te(t,t.return,l)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var S3=Math.ceil,uc=xn.ReactCurrentDispatcher,Mp=xn.ReactCurrentOwner,pr=xn.ReactCurrentBatchConfig,re=0,et=null,Ge=null,ot=0,qt=0,Na=fi(0),qe=0,Bo=null,Yi=0,yf=0,kp=0,ho=null,jt=null,Ap=0,ns=1/0,en=null,cc=!1,P0=null,Xn=null,eu=!1,Fn=null,fc=0,vo=0,E0=null,$u=-1,Du=0;function Mt(){return re&6?$e():$u!==-1?$u:$u=$e()}function Qn(e){return e.mode&1?re&2&&ot!==0?ot&-ot:s3.transition!==null?(Du===0&&(Du=Px()),Du):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Tx(e.type)),e):1}function Ir(e,t,r,n){if(50<vo)throw vo=0,E0=null,Error(N(185));sl(e,r,n),(!(re&2)||e!==et)&&(e===et&&(!(re&2)&&(yf|=r),qe===4&&Gn(e,ot)),Gt(e,n),r===1&&re===0&&!(t.mode&1)&&(ns=$e()+500,vf&&hi()))}function Gt(e,t){var r=e.callbackNode;sO(e,t);var n=Vu(e,e===et?ot:0);if(n===0)r!==null&&gy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gy(r),t===1)e.tag===0?a3(l1.bind(null,e)):Xx(l1.bind(null,e)),t3(function(){!(re&6)&&hi()}),r=null;else{switch(Ex(n)){case 1:r=ep;break;case 4:r=xx;break;case 16:r=Hu;break;case 536870912:r=Sx;break;default:r=Hu}r=V2(r,B2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B2(e,t){if($u=-1,Du=0,re&6)throw Error(N(327));var r=e.callbackNode;if(qa()&&e.callbackNode!==r)return null;var n=Vu(e,e===et?ot:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hc(e,n);else{t=n;var i=re;re|=2;var a=F2();(et!==e||ot!==t)&&(en=null,ns=$e()+500,Ui(e,t));do try{M3();break}catch(o){z2(e,o)}while(!0);dp(),uc.current=a,re=i,Ge!==null?t=0:(et=null,ot=0,t=qe)}if(t!==0){if(t===2&&(i=Jd(e),i!==0&&(n=i,t=M0(e,i))),t===1)throw r=Bo,Ui(e,0),Gn(e,n),Gt(e,$e()),r;if(t===6)Gn(e,n);else{if(i=e.current.alternate,!(n&30)&&!P3(i)&&(t=hc(e,n),t===2&&(a=Jd(e),a!==0&&(n=a,t=M0(e,a))),t===1))throw r=Bo,Ui(e,0),Gn(e,n),Gt(e,$e()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:Ei(e,jt,en);break;case 3:if(Gn(e,n),(n&130023424)===n&&(t=Ap+500-$e(),10<t)){if(Vu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=s0(Ei.bind(null,e,jt,en),t);break}Ei(e,jt,en);break;case 4:if(Gn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Nr(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*S3(n/1960))-n,10<n){e.timeoutHandle=s0(Ei.bind(null,e,jt,en),n);break}Ei(e,jt,en);break;case 5:Ei(e,jt,en);break;default:throw Error(N(329))}}}return Gt(e,$e()),e.callbackNode===r?B2.bind(null,e):null}function M0(e,t){var r=ho;return e.current.memoizedState.isDehydrated&&(Ui(e,t).flags|=256),e=hc(e,t),e!==2&&(t=jt,jt=r,t!==null&&k0(t)),e}function k0(e){jt===null?jt=e:jt.push.apply(jt,e)}function P3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Rr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~kp,t&=~yf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nr(t),n=1<<r;e[r]=-1,t&=~n}}function l1(e){if(re&6)throw Error(N(327));qa();var t=Vu(e,0);if(!(t&1))return Gt(e,$e()),null;var r=hc(e,t);if(e.tag!==0&&r===2){var n=Jd(e);n!==0&&(t=n,r=M0(e,n))}if(r===1)throw r=Bo,Ui(e,0),Gn(e,t),Gt(e,$e()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ei(e,jt,en),Gt(e,$e()),null}function Op(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(ns=$e()+500,vf&&hi())}}function Xi(e){Fn!==null&&Fn.tag===0&&!(re&6)&&qa();var t=re;re|=1;var r=pr.transition,n=ue;try{if(pr.transition=null,ue=1,e)return e()}finally{ue=n,pr.transition=r,re=t,!(re&6)&&hi()}}function Cp(){qt=Na.current,be(Na)}function Ui(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,e3(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(cp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zu();break;case 3:ts(),be(Rt),be(wt),wp();break;case 5:yp(n);break;case 4:ts();break;case 13:be(ke);break;case 19:be(ke);break;case 10:vp(n.type._context);break;case 22:case 23:Cp()}r=r.return}if(et=e,Ge=e=Jn(e.current,null),ot=qt=t,qe=0,Bo=null,kp=yf=Yi=0,jt=ho=null,Ii!==null){for(t=0;t<Ii.length;t++)if(r=Ii[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ii=null}return e}function z2(e,t){do{var r=Ge;try{if(dp(),ju.current=lc,oc){for(var n=Ae.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}oc=!1}if(Vi=0,Je=We=Ae=null,co=!1,Lo=0,Mp.current=null,r===null||r.return===null){qe=1,Bo=t,Ge=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=ot,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Yy(s);if(d!==null){d.flags&=-257,Xy(d,s,o,a,t),d.mode&1&&Vy(a,u,t),t=d,l=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){Vy(a,u,t),Tp();break e}l=Error(N(426))}}else if(xe&&o.mode&1){var y=Yy(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Xy(y,s,o,a,t),fp(rs(l,o));break e}}a=l=rs(l,o),qe!==4&&(qe=2),ho===null?ho=[a]:ho.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=E2(a,l,t);zy(a,m);break e;case 1:o=l;var g=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xn===null||!Xn.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=M2(a,o,t);zy(a,_);break e}}a=a.return}while(a!==null)}K2(r)}catch(P){t=P,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function F2(){var e=uc.current;return uc.current=lc,e===null?lc:e}function Tp(){(qe===0||qe===3||qe===2)&&(qe=4),et===null||!(Yi&268435455)&&!(yf&268435455)||Gn(et,ot)}function hc(e,t){var r=re;re|=2;var n=F2();(et!==e||ot!==t)&&(en=null,Ui(e,t));do try{E3();break}catch(i){z2(e,i)}while(!0);if(dp(),re=r,uc.current=n,Ge!==null)throw Error(N(261));return et=null,ot=0,qe}function E3(){for(;Ge!==null;)W2(Ge)}function M3(){for(;Ge!==null&&!QA();)W2(Ge)}function W2(e){var t=H2(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?K2(e):Ge=t,Mp.current=null}function K2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=w3(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ge=null;return}}else if(r=y3(r,t,qt),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);qe===0&&(qe=5)}function Ei(e,t,r){var n=ue,i=pr.transition;try{pr.transition=null,ue=1,k3(e,t,r,n)}finally{pr.transition=i,ue=n}return null}function k3(e,t,r,n){do qa();while(Fn!==null);if(re&6)throw Error(N(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(oO(e,a),e===et&&(Ge=et=null,ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||eu||(eu=!0,V2(Hu,function(){return qa(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=pr.transition,pr.transition=null;var s=ue;ue=1;var o=re;re|=4,Mp.current=null,_3(e,r),G2(r,e),HO(i0),Yu=!!n0,i0=n0=null,e.current=r,x3(r),JA(),re=o,ue=s,pr.transition=a}else e.current=r;if(eu&&(eu=!1,Fn=e,fc=i),a=e.pendingLanes,a===0&&(Xn=null),tO(r.stateNode),Gt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(cc)throw cc=!1,e=P0,P0=null,e;return fc&1&&e.tag!==0&&qa(),a=e.pendingLanes,a&1?e===E0?vo++:(vo=0,E0=e):vo=0,hi(),null}function qa(){if(Fn!==null){var e=Ex(fc),t=pr.transition,r=ue;try{if(pr.transition=null,ue=16>e?16:e,Fn===null)var n=!1;else{if(e=Fn,Fn=null,fc=0,re&6)throw Error(N(331));var i=re;for(re|=4,U=e.current;U!==null;){var a=U,s=a.child;if(U.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:fo(8,c,a)}var f=c.child;if(f!==null)f.return=c,U=f;else for(;U!==null;){c=U;var h=c.sibling,d=c.return;if(D2(c),c===u){U=null;break}if(h!==null){h.return=d,U=h;break}U=d}}}var v=a.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}U=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,U=s;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fo(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,U=m;break e}U=a.return}}var g=e.current;for(U=g;U!==null;){s=U;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,U=w;else e:for(s=g;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:mf(9,o)}}catch(P){Te(o,o.return,P)}if(o===s){U=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,U=_;break e}U=o.return}}if(re=i,hi(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(uf,e)}catch{}n=!0}return n}finally{ue=r,pr.transition=t}}return!1}function u1(e,t,r){t=rs(r,t),t=E2(e,t,1),e=Yn(e,t,1),t=Mt(),e!==null&&(sl(e,1,t),Gt(e,t))}function Te(e,t,r){if(e.tag===3)u1(e,e,r);else for(;t!==null;){if(t.tag===3){u1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xn===null||!Xn.has(n))){e=rs(r,e),e=M2(t,e,1),t=Yn(t,e,1),e=Mt(),t!==null&&(sl(t,1,e),Gt(t,e));break}}t=t.return}}function A3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,et===e&&(ot&r)===r&&(qe===4||qe===3&&(ot&130023424)===ot&&500>$e()-Ap?Ui(e,0):kp|=r),Gt(e,t)}function q2(e,t){t===0&&(e.mode&1?(t=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):t=1);var r=Mt();e=pn(e,t),e!==null&&(sl(e,t,r),Gt(e,r))}function O3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),q2(e,r)}function C3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),q2(e,r)}var H2;H2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)$t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $t=!1,m3(e,t,r);$t=!!(e.flags&131072)}else $t=!1,xe&&t.flags&1048576&&Qx(t,rc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Iu(e,t),e=t.pendingProps;var i=Ja(t,wt.current);Ka(t,r),i=_p(null,t,n,e,i,r);var a=xp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(n)?(a=!0,ec(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gp(t),i.updater=gf,t.stateNode=i,i._reactInternals=t,d0(t,n,e,r),t=g0(null,t,n,!0,a,r)):(t.tag=0,xe&&a&&up(t),xt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Iu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=j3(n),e=kr(n,e),i){case 0:t=p0(null,t,n,e,r);break e;case 1:t=Zy(null,t,n,e,r);break e;case 11:t=Qy(null,t,n,e,r);break e;case 14:t=Jy(null,t,n,kr(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),p0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Zy(e,t,n,i,r);case 3:e:{if(C2(t),e===null)throw Error(N(387));n=t.pendingProps,a=t.memoizedState,i=a.element,n2(e,t),ac(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=rs(Error(N(423)),t),t=e1(e,t,n,r,i);break e}else if(n!==i){i=rs(Error(N(424)),t),t=e1(e,t,n,r,i);break e}else for(Xt=Vn(t.stateNode.containerInfo.firstChild),Qt=t,xe=!0,Cr=null,r=t2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Za(),n===i){t=gn(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 5:return i2(t),e===null&&c0(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,a0(n,i)?s=null:a!==null&&a0(n,a)&&(t.flags|=32),O2(e,t),xt(e,t,s,r),t.child;case 6:return e===null&&c0(t),null;case 13:return T2(e,t,r);case 4:return mp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=es(t,null,n,r):xt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Qy(e,t,n,i,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ge(nc,n._currentValue),n._currentValue=s,a!==null)if(Rr(a.value,s)){if(a.children===i.children&&!Rt.current){t=gn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=cn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),f0(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(N(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),f0(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}xt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ka(t,r),i=mr(i),n=n(i),t.flags|=1,xt(e,t,n,r),t.child;case 14:return n=t.type,i=kr(n,t.pendingProps),i=kr(n.type,i),Jy(e,t,n,i,r);case 15:return k2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Iu(e,t),t.tag=1,Lt(n)?(e=!0,ec(t)):e=!1,Ka(t,r),P2(t,n,i),d0(t,n,i,r),g0(null,t,n,!0,e,r);case 19:return j2(e,t,r);case 22:return A2(e,t,r)}throw Error(N(156,t.tag))};function V2(e,t){return _x(e,t)}function T3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,r,n){return new T3(e,t,r,n)}function jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j3(e){if(typeof e=="function")return jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qv)return 11;if(e===Jv)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=dr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ru(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")jp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Sa:return Bi(r.children,i,a,t);case Xv:s=8,i|=8;break;case Rd:return e=dr(12,r,t,i|2),e.elementType=Rd,e.lanes=a,e;case Ld:return e=dr(13,r,t,i),e.elementType=Ld,e.lanes=a,e;case Gd:return e=dr(19,r,t,i),e.elementType=Gd,e.lanes=a,e;case ix:return wf(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rx:s=10;break e;case nx:s=9;break e;case Qv:s=11;break e;case Jv:s=14;break e;case In:s=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=dr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Bi(e,t,r,n){return e=dr(7,e,n,t),e.lanes=r,e}function wf(e,t,r,n){return e=dr(22,e,n,t),e.elementType=ix,e.lanes=r,e.stateNode={isHidden:!1},e}function Vh(e,t,r){return e=dr(6,e,null,t),e.lanes=r,e}function Yh(e,t,r){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N3(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Np(e,t,r,n,i,a,s,o,l){return e=new N3(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gp(a),e}function I3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Y2(e){if(!e)return ri;e=e._reactInternals;e:{if(sa(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Lt(r))return Yx(e,r,t)}return t}function X2(e,t,r,n,i,a,s,o,l){return e=Np(r,n,!0,e,i,a,s,o,l),e.context=Y2(null),r=e.current,n=Mt(),i=Qn(r),a=cn(n,i),a.callback=t??null,Yn(r,a,i),e.current.lanes=i,sl(e,i,n),Gt(e,n),e}function bf(e,t,r,n){var i=t.current,a=Mt(),s=Qn(i);return r=Y2(r),t.context===null?t.context=r:t.pendingContext=r,t=cn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yn(i,t,s),e!==null&&(Ir(e,i,s,a),Tu(e,i,s)),s}function dc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function c1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ip(e,t){c1(e,t),(e=e.alternate)&&c1(e,t)}function $3(){return null}var Q2=typeof reportError=="function"?reportError:function(e){console.error(e)};function $p(e){this._internalRoot=e}_f.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));bf(e,t,null,null)};_f.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xi(function(){bf(null,e,null,null)}),t[vn]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ax();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ln.length&&t!==0&&t<Ln[r].priority;r++);Ln.splice(r,0,e),r===0&&Cx(e)}};function Dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f1(){}function D3(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=dc(s);a.call(u)}}var s=X2(t,n,e,0,null,!1,!1,"",f1);return e._reactRootContainer=s,e[vn]=s.current,No(e.nodeType===8?e.parentNode:e),Xi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=dc(l);o.call(u)}}var l=Np(e,0,!1,null,null,!1,!1,"",f1);return e._reactRootContainer=l,e[vn]=l.current,No(e.nodeType===8?e.parentNode:e),Xi(function(){bf(t,l,r,n)}),l}function Sf(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=dc(s);o.call(l)}}bf(t,s,e,i)}else s=D3(r,t,e,i,n);return dc(s)}Mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qs(t.pendingLanes);r!==0&&(tp(t,r|1),Gt(t,$e()),!(re&6)&&(ns=$e()+500,hi()))}break;case 13:Xi(function(){var n=pn(e,1);if(n!==null){var i=Mt();Ir(n,e,1,i)}}),Ip(e,1)}};rp=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var r=Mt();Ir(t,e,134217728,r)}Ip(e,134217728)}};kx=function(e){if(e.tag===13){var t=Qn(e),r=pn(e,t);if(r!==null){var n=Mt();Ir(r,e,t,n)}Ip(e,t)}};Ax=function(){return ue};Ox=function(e,t){var r=ue;try{return ue=e,t()}finally{ue=r}};Yd=function(e,t,r){switch(t){case"input":if(zd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=df(n);if(!i)throw Error(N(90));sx(n),zd(n,i)}}}break;case"textarea":lx(e,r);break;case"select":t=r.value,t!=null&&Ba(e,!!r.multiple,t,!1)}};px=Op;gx=Xi;var R3={usingClientEntryPoint:!1,Events:[ll,ka,df,dx,vx,Op]},Ls={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L3={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||$3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{uf=tu.inject(L3),Kr=tu}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R3;nr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(t))throw Error(N(200));return I3(e,t,null,r)};nr.createRoot=function(e,t){if(!Dp(e))throw Error(N(299));var r=!1,n="",i=Q2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Np(e,1,!1,null,null,r,!1,n,i),e[vn]=t.current,No(e.nodeType===8?e.parentNode:e),new $p(t)};nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=wx(t),e=e===null?null:e.stateNode,e};nr.flushSync=function(e){return Xi(e)};nr.hydrate=function(e,t,r){if(!xf(t))throw Error(N(200));return Sf(null,e,t,!0,r)};nr.hydrateRoot=function(e,t,r){if(!Dp(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Q2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=X2(t,null,e,1,r??null,i,!1,a,s),e[vn]=t.current,No(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new _f(t)};nr.render=function(e,t,r){if(!xf(t))throw Error(N(200));return Sf(null,e,t,!1,r)};nr.unmountComponentAtNode=function(e){if(!xf(e))throw Error(N(40));return e._reactRootContainer?(Xi(function(){Sf(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};nr.unstable_batchedUpdates=Op;nr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xf(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Sf(e,t,r,!1,n)};nr.version="18.3.1-next-f1338f8080-20240426";function J2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J2)}catch(e){console.error(e)}}J2(),J_.exports=nr;var Z2=J_.exports,eS,h1=Z2;eS=h1.createRoot,h1.hydrateRoot;const G3="modulepreload",U3=function(e){return"/"+e},d1={},cl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=U3(l),l in d1)return;d1[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":G3,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},B3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cl(async()=>{const{default:n}=await Promise.resolve().then(()=>ys);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Rp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class z3 extends Rp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class v1 extends Rp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class p1 extends Rp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var A0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(A0||(A0={}));var F3=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class W3{constructor(t,{headers:r={},customFetch:n,region:i=A0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=B3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return F3(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(p=>{throw new z3(p)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new v1(f);if(!f.ok)throw new p1(f);let d=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return d==="application/json"?v=yield f.json():d==="application/octet-stream"?v=yield f.blob():d==="text/event-stream"?v=f:d==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof p1||i instanceof v1?i.context:void 0}}})}}var Nt={},Lp={},Pf={},fl={},Ef={},Mf={},K3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=K3();const q3=is.fetch,tS=is.fetch.bind(is),rS=is.Headers,H3=is.Request,V3=is.Response,ys=Object.freeze(Object.defineProperty({__proto__:null,Headers:rS,Request:H3,Response:V3,default:tS,fetch:q3},Symbol.toStringTag,{value:"Module"})),Y3=fA(ys);var kf={};Object.defineProperty(kf,"__esModule",{value:!0});let X3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};kf.default=X3;var nS=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mf,"__esModule",{value:!0});const Q3=nS(Y3),J3=nS(kf);let Z3=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Q3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l,u;let c=null,f=null,h=null,d=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const y=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),m=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,d=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{c=JSON.parse(y),Array.isArray(c)&&a.status===404&&(f=[],c=null,d=200,v="OK")}catch{a.status===404&&y===""?(d=204,v="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,d=200,v="OK"),c&&this.shouldThrowOnError)throw new J3.default(c)}return{error:c,data:f,count:h,status:d,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Mf.default=Z3;var e8=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});const t8=e8(Mf);let r8=class extends t8.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ef.default=r8;var n8=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const i8=n8(Ef);let a8=class extends i8.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};fl.default=a8;var s8=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});const Gs=s8(fl);let o8=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new Gs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Gs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Gs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Gs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Gs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Pf.default=o8;var iS=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lp,"__esModule",{value:!0});const l8=iS(Pf),u8=iS(fl);let c8=class aS{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new l8.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new aS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(o="POST",u=r);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new u8.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Lp.default=c8;var ws=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const sS=ws(Lp);Nt.PostgrestClient=sS.default;const oS=ws(Pf);Nt.PostgrestQueryBuilder=oS.default;const lS=ws(fl);Nt.PostgrestFilterBuilder=lS.default;const uS=ws(Ef);Nt.PostgrestTransformBuilder=uS.default;const cS=ws(Mf);Nt.PostgrestBuilder=cS.default;const fS=ws(kf);Nt.PostgrestError=fS.default;var f8=Nt.default={PostgrestClient:sS.default,PostgrestQueryBuilder:oS.default,PostgrestFilterBuilder:lS.default,PostgrestTransformBuilder:uS.default,PostgrestBuilder:cS.default,PostgrestError:fS.default};const{PostgrestClient:h8,PostgrestQueryBuilder:FY,PostgrestFilterBuilder:WY,PostgrestTransformBuilder:KY,PostgrestBuilder:qY,PostgrestError:HY}=f8;class d8{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const v8="2.15.5",p8=`realtime-js/${v8}`,g8="1.0.0",O0=1e4,m8=1e3,y8=100;var po;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(po||(po={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var Or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Or||(Or={}));var C0;(function(e){e.websocket="websocket"})(C0||(C0={}));var Ti;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ti||(Ti={}));class w8{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class hS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const g1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=b8(s,e,t,i),a),{})},b8=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?dS(a,s):T0(s)},dS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return P8(t,r)}switch(e){case ve.bool:return _8(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return x8(t);case ve.json:case ve.jsonb:return S8(t);case ve.timestamp:return E8(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return T0(t);default:return T0(t)}},T0=e=>e,_8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},S8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},P8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>dS(t,o))}return e},E8=e=>typeof e=="string"?e.replace(" ","T"):e,vS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xh{constructor(t,r,n={},i=O0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var m1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(m1||(m1={}));class go{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=go.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=go.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=go.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const f=a[u];if(f){const h=c.map(y=>y.presence_ref),d=f.map(y=>y.presence_ref),v=c.filter(y=>d.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(o[u]=v),p.length>0&&(l[u]=p)}else o[u]=c}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const f=t[o].map(d=>d.presence_ref),h=c.filter(d=>f.indexOf(d.presence_ref)<0);t[o].unshift(...h)}n(o,c,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(y1||(y1={}));var mo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mo||(mo={}));var tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tn||(tn={}));class Gp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xh(this,Or.join,this.params,this.timeout),this.rejoinTimer=new hS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Or.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new go(this),this.broadcastEndpointURL=vS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[mo.PRESENCE]&&this.bindings[mo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(tn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var v;if(this.socket.setAuth(),d===void 0){t==null||t(tn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,m=[];for(let g=0;g<y;g++){const w=p[g],{filter:{event:_,schema:P,table:S,filter:E}}=w,M=d&&d[g];if(M&&M.event===_&&M.schema===P&&M.table===S&&M.filter===E)m.push(Object.assign(Object.assign({},w),{id:M.id}));else{this.unsubscribe(),this.state=ze.errored,t==null||t(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(tn.SUBSCRIBED);return}}).receive("error",d=>{this.state=ze.errored,t==null||t(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ze.joined&&t===mo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Or.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Xh(this,Or.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xh(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>y8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Or;if(n&&[o,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var v,p,y;return((v=d.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(p=d.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(d=>d.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(d=>{var v,p,y,m,g,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const _=d.id,P=(v=d.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(g=(m=d==null?void 0:d.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:y,commit_timestamp:m,type:g,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:m,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(v))}d.callback(h,n)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Gp.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Or.close,{},t)}_onError(t){this._on(Or.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=g1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=g1(t.columns,t.old_record)),r}}const Qh=()=>{},ru={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},M8=[1e3,2e3,5e3,1e4],k8=1e4,A8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=O0,this.transport=null,this.heartbeatIntervalMs=ru.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qh,this.ref=0,this.reconnectTimer=null,this.logger=Qh,this.conn=null,this.sendBuffer=[],this.serializer=new w8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>cl(async()=>{const{default:o}=await Promise.resolve().then(()=>ys);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${C0.websocket}`,this.httpEndpoint=vS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:g8}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case po.connecting:return Ti.Connecting;case po.open:return Ti.Open;case po.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Gp(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ru.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Or.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([A8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:p8};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Or.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ru.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:O0,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ru.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Qh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>M8[f-1]||k8,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Up extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class C8 extends Up{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class j0 extends Up{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var T8=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const pS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cl(async()=>{const{default:n}=await Promise.resolve().then(()=>ys);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},j8=()=>T8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cl(()=>Promise.resolve().then(()=>ys),void 0)).Response:Response}),N0=e=>{if(Array.isArray(e))return e.map(r=>N0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=N0(n)}),t},N8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var oa=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const Jh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),I8=(e,t,r)=>oa(void 0,void 0,void 0,function*(){const n=yield j8();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new C8(Jh(i),a,s))}).catch(i=>{t(new j0(Jh(i),i))}):t(new j0(Jh(e),e))}),$8=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(N8(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function hl(e,t,r,n,i,a){return oa(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,$8(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>I8(l,o,n))})})}function vc(e,t,r,n){return oa(this,void 0,void 0,function*(){return hl(e,"GET",t,r,n)})}function Br(e,t,r,n,i){return oa(this,void 0,void 0,function*(){return hl(e,"POST",t,n,i,r)})}function I0(e,t,r,n,i){return oa(this,void 0,void 0,function*(){return hl(e,"PUT",t,n,i,r)})}function D8(e,t,r,n){return oa(this,void 0,void 0,function*(){return hl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gS(e,t,r,n,i){return oa(this,void 0,void 0,function*(){return hl(e,"DELETE",t,n,i,r)})}var bt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const R8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},w1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class L8{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=pS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return bt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},w1),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=yield(t=="PUT"?I0:Br)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}upload(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return bt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:w1.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield I0(this.fetch,o.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Br(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Up("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}update(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}copy(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Br(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return bt(this,void 0,void 0,function*(){try{const i=yield Br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}download(t,r){return bt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield vc(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}})}info(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:N0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}exists(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield D8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n)&&n instanceof j0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return bt(this,void 0,void 0,function*(){try{return{data:yield gS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}list(t,r,n){return bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},R8),r),{prefix:t||""});return{data:yield Br(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}listV2(t,r){return bt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const G8="2.12.1",U8={"X-Client-Info":`storage-js/${G8}`};var da=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class B8{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},U8),r),this.fetch=pS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return da(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}})}getBucket(t){return da(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return da(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return da(this,void 0,void 0,function*(){try{return{data:yield I0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return da(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return da(this,void 0,void 0,function*(){try{return{data:yield gS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class z8 extends B8{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new L8(this.url,this.headers,t,this.fetch)}}const F8="2.57.4";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const W8={"X-Client-Info":`supabase-js-${Zs}/${F8}`},K8={headers:W8},q8={schema:"public"},H8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V8={};var Y8=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const X8=e=>{let t;return e?t=e:typeof fetch>"u"?t=tS:t=fetch,(...r)=>t(...r)},Q8=()=>typeof Headers>"u"?rS:Headers,J8=(e,t,r)=>{const n=X8(r),i=Q8();return(a,s)=>Y8(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var Z8=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};function eC(e){return e.endsWith("/")?e:e+"/"}function tC(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:c,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Z8(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function rC(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eC(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mS="2.71.1",wa=30*1e3,$0=3,Zh=$0*wa,nC="http://localhost:9999",iC="supabase.auth.token",aC={"X-Client-Info":`gotrue-js/${mS}`},D0="X-Supabase-Api-Version",yS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oC=10*60*1e3;class Bp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lC extends Bp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uC(e){return X(e)&&e.name==="AuthApiError"}class wS extends Bp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class di extends Bp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Nn extends di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cC(e){return X(e)&&e.name==="AuthSessionMissingError"}class nu extends di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class iu extends di{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class au extends di{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fC(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class b1 extends di{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R0 extends di{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ed(e){return X(e)&&e.name==="AuthRetryableFetchError"}class _1 extends di{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class L0 extends di{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x1=` 	
\r=`.split(""),hC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<x1.length;t+=1)e[x1[t].charCodeAt(0)]=-2;for(let t=0;t<pc.length;t+=1)e[pc[t].charCodeAt(0)]=t;return e})();function S1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pc[n]),t.queuedBits-=6}}function bS(e,t,r){const n=hC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function P1(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{pC(s,n,r)};for(let s=0;s<e.length;s+=1)bS(e.charCodeAt(s),i,a);return t.join("")}function dC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}dC(n,t)}}function pC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gC(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)bS(e.charCodeAt(i),r,n);return new Uint8Array(t)}function mC(e){const t=[];return vC(e,r=>t.push(r)),new Uint8Array(t)}function yC(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>S1(i,r,n)),S1(null,r,n),t.join("")}function wC(e){return Math.round(Date.now()/1e3)+e}function bC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Er=()=>typeof window<"u"&&typeof document<"u",_i={tested:!1,writable:!1},_S=()=>{if(!Er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_i.tested)return _i.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_i.tested=!0,_i.writable=!0}catch{_i.tested=!0,_i.writable=!1}return _i.writable};function _C(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const xS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cl(async()=>{const{default:n}=await Promise.resolve().then(()=>ys);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ba=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jn=async(e,t)=>{await e.removeItem(t)};class Af{constructor(){this.promise=new Af.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Af.promiseConstructor=Promise;function td(e){const t=e.split(".");if(t.length!==3)throw new L0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sC.test(t[n]))throw new L0("JWT not in base64url format");return{header:JSON.parse(P1(t[0])),payload:JSON.parse(P1(t[1])),signature:gC(t[2]),raw:{header:t[0],payload:t[1]}}}async function SC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PC(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function EC(e){return("0"+e.toString(16)).substr(-2)}function MC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,EC).join("")}async function kC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function AC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function va(e,t,r=!1){const n=MC();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ba(e,`${t}-code-verifier`,i);const a=await AC(n);return[a,n===a?"plain":"s256"]}const OC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CC(e){const t=e.headers.get(D0);if(!t||!t.match(OC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function TC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pa(e){if(!NC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function E1(e){return JSON.parse(JSON.stringify(e))}var IC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Mi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$C=[502,503,504];async function M1(e){var t;if(!xC(e))throw new R0(Mi(e),0);if($C.includes(e.status))throw new R0(Mi(e),e.status);let r;try{r=await e.json()}catch(a){throw new wS(Mi(a),a)}let n;const i=CC(e);if(i&&i.getTime()>=yS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _1(Mi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Nn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new _1(Mi(r),e.status,r.weak_password.reasons);throw new lC(Mi(r),e.status||500,n)}const DC=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Q(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[D0]||(a[D0]=yS["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await RC(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function RC(e,t,r,n,i,a){const s=DC(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new R0(Mi(l),0)}if(o.ok||await M1(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await M1(l)}}function Zr(e){var t;let r=null;BC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function k1(e){const t=Zr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Un(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LC(e){return{data:e,error:null}}function GC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=IC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function UC(e){return e}function BC(e){return e.access_token&&e.refresh_token&&e.expires_in}const nd=["global","local","others"];var zC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class FC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=nd[0]){if(nd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nd.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Un})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=zC(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:GC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Un})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:UC});if(c.error)throw c.error;const f=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){pa(t);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Un})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){pa(t);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Un})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){pa(t);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Un})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){pa(t.userId);try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(t){pa(t.userId),pa(t.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}}function A1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function WC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ga={debug:!!(globalThis&&_S()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KC extends SS{}async function qC(e,t,r){ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ga.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ga.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}WC();const HC={url:nC,storageKey:iC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O1(e,t,r){return await r()}const ma={};class zo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zo.nextInstanceID,zo.nextInstanceID+=1,this.instanceID>0&&Er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},HC),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xS(i.fetch),this.lock=i.lock||O1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Er()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=qC:this.lock=O1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_S()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=A1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=A1(this.memoryStorage)),Er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ma[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ma[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=_C(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Er()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fC(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?{error:r}:{error:new wS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zr}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:c,password:f,options:h}=t;let d=null,v=null;this.flowType==="pkce"&&([d,v]=await va(this.storage,this.storageKey)),a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:v},xform:Zr})}else if("phone"in t){const{phone:c,password:f,options:h}=t;a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zr})}else throw new iu("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:k1})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:k1})}else throw new iu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,o,l,u,c,f,h,d;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:y,wallet:m,statement:g,options:w}=t;let _;if(Er())if(typeof m=="object")_=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const P=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),g?{statement:g}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),p=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${P.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:y,error:m}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:yC(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Zr});if(m)throw m;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new nu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:m})}catch(y){if(X(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await xi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Zr});if(await jn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new nu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(X(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zr}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new nu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await va(this.storage,this.storageKey));const{error:f}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new iu("You must provide either an email or phone number.")}catch(o){if(X(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Zr});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await va(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:LC})}catch(a){if(X(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Nn;const{error:i}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new iu("You must provide either an email or phone number and a type")}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Zh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await xi(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=rd()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Un}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Un})})}catch(r){if(X(r))return cC(r)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Nn;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await va(this.storage,this.storageKey));const{data:u,error:c}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Un});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=td(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(X(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Nn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Er())throw new au("No browser detected.");if(t.error||t.error_description||t.error_code)throw new au(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new b1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new au("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new b1("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new au("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let h=c+f;l&&(h=parseInt(l));const d=h-c;d*1e3<=wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:p,error:y}=await this._getUser(a);if(y)throw y;const m={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(uC(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=bC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await va(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(X(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,c;const{data:f,error:h}=a;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Er()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(X(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await PC(async i=>(i>0&&await SC(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zr})),(i,a)=>{const s=200*Math.pow(2,i);return a&&ed(a)&&Date.now()+s-n<wa})}catch(n){if(this._debug(r,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Er()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await xi(this.storage,this.storageKey);if(i&&this.userStorage){let s=await xi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await ba(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:rd()}else if(i&&!i.user&&!i.user){const s=await xi(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await jn(this.storage,this.storageKey+"-user"),await ba(this.storage,this.storageKey,i)):i.user=rd()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Zh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),ed(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Af;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Nn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),X(a)){const s={session:null,error:a};return ed(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ba(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=E1(i);await ba(this.storage,this.storageKey,a)}else{const i=E1(r);await ba(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wa}ms, refresh threshold is ${$0} ticks`),i<=$0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await va(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=td(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+oC>i)return n;const{data:a,error:s}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:d,error:v}=await this.getSession();if(v||!d.session)return{data:null,error:v};n=d.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=td(n);r!=null&&r.allowExpired||TC(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:a,header:i,signature:s},error:null}}const c=jC(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,s,mC(`${o}.${l}`)))throw new L0("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}zo.nextInstanceID=0;const VC=zo;class YC extends VC{constructor(t){super(t)}}var XC=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class QC{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=rC(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:q8,realtime:V8,auth:Object.assign(Object.assign({},H8),{storageKey:l}),global:K8},c=tC(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=J8(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new h8(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new z8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new W3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return XC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YC({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new O8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JC=(e,t,r)=>new QC(e,t,r);function ZC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e6="https://dtyiglepzpjhuhgptkvh.supabase.co",t6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR0eWlnbGVwenBqaHVoZ3B0a3ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MDgzMTMsImV4cCI6MjA3NTE4NDMxM30.4LzURCoGdA-7e3ThYwA3Pf9ALP8G_b2Vr-TJxvMrt_o",Le=JC(e6,t6),PS=b.createContext(void 0);function r6({children:e}){const[t,r]=b.useState(null),[n,i]=b.useState(null),[a,s]=b.useState(!0);b.useEffect(()=>{Le.auth.getSession().then(({data:{session:h}})=>{i(h),r((h==null?void 0:h.user)??null),s(!1)});const{data:{subscription:f}}=Le.auth.onAuthStateChange((h,d)=>{i(d),r((d==null?void 0:d.user)??null),s(!1)});return()=>f.unsubscribe()},[]);const c={user:t,session:n,loading:a,signUp:async(f,h,d)=>{const{data:v,error:p}=await Le.auth.signUp({email:f,password:h});return!p&&v.user&&await Le.from("profiles").insert({id:v.user.id,email:f,full_name:d||null,role:"citizen"}),{error:p}},signIn:async(f,h)=>{const{error:d}=await Le.auth.signInWithPassword({email:f,password:h});return{error:d}},signOut:async()=>{await Le.auth.signOut()}};return x.jsx(PS.Provider,{value:c,children:e})}function dl(){const e=b.useContext(PS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const su=[{id:"fixed-temperature",name:"Temperatura",description:null,type:"temperature",color:"#f97316",is_active:!1,opacity:.7},{id:"fixed-traffic",name:"Tráfico",description:null,type:"traffic",color:"#3b82f6",is_active:!1,opacity:.7},{id:"fixed-rain",name:"Lluvias",description:null,type:"precipitation",color:"#0ea5e9",is_active:!1,opacity:.7},{id:"fixed-air-quality",name:"Calidad del Aire",description:null,type:"air_quality",color:"#22c55e",is_active:!1,opacity:.7},{id:"fixed-water-quality",name:"Calidad del Agua",description:null,type:"water_quality",color:"#2563eb",is_active:!1,opacity:.7},{id:"fixed-green-spaces",name:"Espacios Verdes",description:null,type:"green_spaces",color:"#4ade80",is_active:!1,opacity:.7}],ES=b.createContext(void 0);function n6({children:e}){const[t,r]=b.useState([]),[n,i]=b.useState({"fixed-temperature":!1,"fixed-traffic":!1,"fixed-rain":!1,"fixed-air-quality":!1,"fixed-water-quality":!1,"fixed-green-spaces":!1}),a=async()=>{const{data:o}=await Le.from("layers").select("*").order("created_at",{ascending:!1});if(o){const l=[...su.map(u=>({...u,is_active:n[u.id]??u.is_active})),...o.filter(u=>!su.some(c=>c.type===u.type))];r(l)}else r(su.map(l=>({...l,is_active:n[l.id]??l.is_active})))},s=async o=>{console.log("🔄 toggleLayer called with layerId:",o);const l=t.find(c=>c.id===o);if(!l){console.log("❌ Layer not found:",o);return}if(console.log("📋 Found layer:",l.name,"Type:",l.type,"Currently active:",l.is_active),su.some(c=>c.id===o)){console.log("🔧 Handling fixed layer:",o),i(c=>{const f={...c,[o]:!c[o]};return console.log("📊 New fixedLayersActive state:",f),f}),r(c=>{const f=c.map(h=>h.id===o?{...h,is_active:!h.is_active}:h);return console.log("🔄 Updated layers state:",f.map(h=>({id:h.id,name:h.name,active:h.is_active}))),f});return}console.log("👤 Handling user layer:",o);const{error:u}=await Le.from("layers").update({is_active:!l.is_active}).eq("id",o);u?console.error("❌ Error updating user layer:",u):(console.log("✅ User layer updated, reloading layers..."),a())};return b.useEffect(()=>{a()},[]),x.jsx(ES.Provider,{value:{layers:t,loadLayers:a,toggleLayer:s},children:e})}function MS(){const e=b.useContext(ES);if(e===void 0)throw new Error("useLayers must be used within a LayersProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),He=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>b.createElement("svg",{ref:c,...i6,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${a6(e)}`,o].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=He("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=He("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=He("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=He("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=He("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=He("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=He("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=He("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=He("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=He("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=He("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function w6(){const[e,t]=b.useState(!1),[r,n]=b.useState(""),[i,a]=b.useState(""),[s,o]=b.useState(""),[l,u]=b.useState(""),[c,f]=b.useState(!1),{signIn:h,signUp:d}=dl(),v=async p=>{p.preventDefault(),u(""),f(!0);try{if(e){const{error:y}=await d(r,i,s);if(y)throw y}else{const{error:y}=await h(r,i);if(y)throw y}}catch(y){u(y.message||"An error occurred")}finally{f(!1)}};return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"UrbanSense AI"}),x.jsx("p",{className:"text-gray-600",children:"Smart Life Monitor"})]}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e&&x.jsxs("div",{children:[x.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),x.jsx("input",{id:"fullName",type:"text",value:s,onChange:p=>o(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),x.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:p=>n(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),x.jsx("input",{id:"password",type:"password",required:!0,value:i,onChange:p=>a(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",minLength:6})]}),l&&x.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[x.jsx(Fo,{className:"w-4 h-4 flex-shrink-0"}),x.jsx("span",{children:l})]}),x.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?x.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):x.jsxs(x.Fragment,{children:[e?x.jsx(g6,{className:"w-5 h-5"}):x.jsx(c6,{className:"w-5 h-5"}),e?"Create Account":"Sign In"]})})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("button",{type:"button",onClick:()=>{t(!e),u("")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function b6({onItemClick:e,activePanel:t}){var a;const{user:r,signOut:n}=dl(),i=[{id:"map",label:"Vista del Mapa",icon:h6},{id:"dashboard",label:"Análisis",icon:o6},{id:"layers",label:"Capas",icon:G0},{id:"issues",label:"Problemas",icon:Fo}];return x.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col h-full",children:[x.jsx("div",{className:"p-6 border-b border-gray-200",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:x.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),x.jsxs("div",{children:[x.jsx("h1",{className:"font-bold text-gray-900",children:"UrbanSense"}),x.jsx("p",{className:"text-xs text-gray-600",children:"Monitor de Vida Inteligente"})]})]})}),x.jsx("nav",{className:"flex-1 p-4 space-y-1",children:i.map(s=>{const o=s.icon,l=t===s.id;return x.jsxs("button",{onClick:()=>e(s.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[x.jsx(o,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:s.label})]},s.id)})}),x.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg",children:[x.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:x.jsx(m6,{className:"w-4 h-4 text-gray-600"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((a=r==null?void 0:r.email)==null?void 0:a.split("@")[0])||"User"}),x.jsx("p",{className:"text-xs text-gray-500 truncate",children:r==null?void 0:r.email})]})]}),x.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[x.jsx(f6,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Cerrar Sesión"})]})]})]})}function _6(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,[])).next())})}function x6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var id,T1;function S6(){return T1||(T1=1,id=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}),id}var P6=S6(),E6=x6(P6);const j1="__googleMapsScriptId";var Ia;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Ia||(Ia={}));class ji{constructor({apiKey:t,authReferrerPolicy:r,channel:n,client:i,id:a=j1,language:s,libraries:o=[],mapIds:l,nonce:u,region:c,retries:f=3,url:h="https://maps.googleapis.com/maps/api/js",version:d}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=n,this.client=i,this.id=a||j1,this.language=s,this.libraries=o,this.mapIds=l,this.nonce=u,this.region=c,this.retries=f,this.url=h,this.version=d,ji.instance){if(!E6(this.options,ji.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(ji.instance.options)}`);return ji.instance}ji.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ia.FAILURE:this.done?Ia.SUCCESS:this.loading?Ia.LOADING:Ia.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(n=>{n?r(n.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(a=>!n[a]&&delete n[a]),!((r=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(a=>{let s,o,l,u="The Google Maps JavaScript API",c="google",f="importLibrary",h="__ib__",d=document,v=window;v=v[c]||(v[c]={});const p=v.maps||(v.maps={}),y=new Set,m=new URLSearchParams,g=()=>s||(s=new Promise((w,_)=>_6(this,void 0,void 0,function*(){var P;yield o=d.createElement("script"),o.id=this.id,m.set("libraries",[...y]+"");for(l in a)m.set(l.replace(/[A-Z]/g,S=>"_"+S[0].toLowerCase()),a[l]);m.set("callback",c+".maps."+h),o.src=this.url+"?"+m,p[h]=w,o.onerror=()=>s=_(Error(u+" could not load.")),o.nonce=this.nonce||((P=d.querySelector("script[nonce]"))===null||P===void 0?void 0:P.nonce)||"",d.head.append(o)})));p[f]?console.warn(u+" only loads once. Ignoring:",a):p[f]=(w,..._)=>y.add(w)&&g().then(()=>p[f](w,..._))})(n);const i=this.libraries.map(a=>this.importLibrary(a));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),a=>{const s=new ErrorEvent("error",{error:a});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}class $a{constructor(){this.token=null,this.tokenExpiry=null,this.username="arroyohinostroza_milagroslydia",this.password="ThUN86YY1ph2P166ti02",this.baseUrl="https://api.meteomatics.com"}static getInstance(){return $a.instance||($a.instance=new $a),$a.instance}async getToken(){if(this.token&&this.tokenExpiry&&Date.now()<this.tokenExpiry)return this.token;try{const t=await fetch("https://login.meteomatics.com/api/v1/token",{method:"GET",headers:{Authorization:"Basic "+btoa(`${this.username}:${this.password}`)}});if(!t.ok)throw new Error(`Failed to get token: ${t.status}`);const r=await t.json();return this.token=r.access_token,this.tokenExpiry=Date.now()+r.expires_in*1e3,this.token}catch(t){throw console.error("Error getting Meteomatics token:",t),t}}async getTemperatureData(t,r,n){const i=n||new Date().toISOString().slice(0,19)+"Z";try{const a=await this.getToken(),s=`${this.baseUrl}/${i}/t_2m:C/${t},${r}/json?access_token=${a}`,o=await fetch(s);if(!o.ok)throw new Error(`Failed to get temperature data: ${o.status}`);const l=await o.json();return{lat:t,lng:r,temperature:l.data[0].coordinates[0].dates[0].value,timestamp:l.data[0].coordinates[0].dates[0].date}}catch(a){throw console.error("Error getting temperature data:",a),a}}async getTemperatureGrid(t,r,n,i,a){const s=a||new Date().toISOString().slice(0,19)+"Z",o=[],l=5;try{const u=await this.getToken(),c=[];for(let h=t;h<=r;h+=l)for(let d=n;d<=i;d+=l)c.push({lat:h,lng:d});console.log(`Fetching temperature data for ${c.length} grid points`);const f=[];console.log(`Processing ${c.length} grid points sequentially to avoid rate limiting`);for(const h of c)try{const d=await this.getTemperatureData(h.lat,h.lng,s);f.push(d),await new Promise(v=>setTimeout(v,500))}catch(d){console.warn(`Failed to get temperature for ${h.lat},${h.lng}:`,d)}return o.push(...f),console.log(`Successfully loaded ${o.length} temperature points`),o}catch(u){throw console.error("Error getting temperature grid:",u),u}}}const M6=$a.getInstance();function k6(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var t=1;t<=60;++t)e("EPSG:"+(32600+t),"+proj=utm +zone="+t+" +datum=WGS84 +units=m"),e("EPSG:"+(32700+t),"+proj=utm +zone="+t+" +south +datum=WGS84 +units=m");e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Qi=1,Ji=2,Ha=3,A6=4,U0=5,N1=6378137,O6=6356752314e-3,I1=.0066943799901413165,yo=484813681109536e-20,T=Math.PI/2,C6=.16666666666666666,T6=.04722222222222222,j6=.022156084656084655,D=1e-10,at=.017453292519943295,Fr=57.29577951308232,se=Math.PI/4,Wo=Math.PI*2,Ie=3.14159265359,Ut={};Ut.greenwich=0;Ut.lisbon=-9.131906111111;Ut.paris=2.337229166667;Ut.bogota=-74.080916666667;Ut.madrid=-3.687938888889;Ut.rome=12.452333333333;Ut.bern=7.439583333333;Ut.jakarta=106.807719444444;Ut.ferro=-17.666666666667;Ut.brussels=4.367975;Ut.stockholm=18.058277777778;Ut.athens=23.7163375;Ut.oslo=10.722916666667;const N6={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var $1=/[\s_\-\/\(\)]/g;function ni(e,t){if(e[t])return e[t];for(var r=Object.keys(e),n=t.toLowerCase().replace($1,""),i=-1,a,s;++i<r.length;)if(a=r[i],s=a.toLowerCase().replace($1,""),s===n)return e[a]}function B0(e){var t={},r=e.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),n,i,a,s={proj:"projName",datum:"datumCode",rf:function(o){t.rf=parseFloat(o)},lat_0:function(o){t.lat0=o*at},lat_1:function(o){t.lat1=o*at},lat_2:function(o){t.lat2=o*at},lat_ts:function(o){t.lat_ts=o*at},lon_0:function(o){t.long0=o*at},lon_1:function(o){t.long1=o*at},lon_2:function(o){t.long2=o*at},alpha:function(o){t.alpha=parseFloat(o)*at},gamma:function(o){t.rectified_grid_angle=parseFloat(o)*at},lonc:function(o){t.longc=o*at},x_0:function(o){t.x0=parseFloat(o)},y_0:function(o){t.y0=parseFloat(o)},k_0:function(o){t.k0=parseFloat(o)},k:function(o){t.k0=parseFloat(o)},a:function(o){t.a=parseFloat(o)},b:function(o){t.b=parseFloat(o)},r:function(o){t.a=t.b=parseFloat(o)},r_a:function(){t.R_A=!0},zone:function(o){t.zone=parseInt(o,10)},south:function(){t.utmSouth=!0},towgs84:function(o){t.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){t.to_meter=parseFloat(o)},units:function(o){t.units=o;var l=ni(N6,o);l&&(t.to_meter=l.to_meter)},from_greenwich:function(o){t.from_greenwich=o*at},pm:function(o){var l=ni(Ut,o);t.from_greenwich=(l||parseFloat(o))*at},nadgrids:function(o){o==="@null"?t.datumCode="none":t.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(t.axis=o)},approx:function(){t.approx=!0}};for(n in r)i=r[n],n in s?(a=s[n],typeof a=="function"?a(i):t[a]=i):t[n]=i;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}class OS{static getId(t){const r=t.find(n=>Array.isArray(n)&&n[0]==="ID");return r&&r.length>=3?{authority:r[1],code:parseInt(r[2],10)}:null}static convertUnit(t,r="unit"){if(!t||t.length<3)return{type:r,name:"unknown",conversion_factor:null};const n=t[1],i=parseFloat(t[2])||null,a=t.find(o=>Array.isArray(o)&&o[0]==="ID"),s=a?{authority:a[1],code:parseInt(a[2],10)}:null;return{type:r,name:n,conversion_factor:i,id:s}}static convertAxis(t){const r=t[1]||"Unknown";let n;const i=r.match(/^\((.)\)$/);if(i){const u=i[1].toUpperCase();if(u==="E")n="east";else if(u==="N")n="north";else if(u==="U")n="up";else throw new Error(`Unknown axis abbreviation: ${u}`)}else n=t[2]?t[2].toLowerCase():"unknown";const a=t.find(u=>Array.isArray(u)&&u[0]==="ORDER"),s=a?parseInt(a[1],10):null,o=t.find(u=>Array.isArray(u)&&(u[0]==="LENGTHUNIT"||u[0]==="ANGLEUNIT"||u[0]==="SCALEUNIT")),l=this.convertUnit(o);return{name:r,direction:n,unit:l,order:s}}static extractAxes(t){return t.filter(r=>Array.isArray(r)&&r[0]==="AXIS").map(r=>this.convertAxis(r)).sort((r,n)=>(r.order||0)-(n.order||0))}static convert(t,r={}){switch(t[0]){case"PROJCRS":r.type="ProjectedCRS",r.name=t[1],r.base_crs=t.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")?this.convert(t.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")):null,r.conversion=t.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")?this.convert(t.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")):null;const n=t.find(h=>Array.isArray(h)&&h[0]==="CS");n&&(r.coordinate_system={type:n[1],axis:this.extractAxes(t)});const i=t.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT");if(i){const h=this.convertUnit(i);r.coordinate_system.unit=h}r.id=this.getId(t);break;case"BASEGEOGCRS":case"GEOGCRS":r.type="GeographicCRS",r.name=t[1];const a=t.find(h=>Array.isArray(h)&&(h[0]==="DATUM"||h[0]==="ENSEMBLE"));if(a){const h=this.convert(a);a[0]==="ENSEMBLE"?r.datum_ensemble=h:r.datum=h;const d=t.find(v=>Array.isArray(v)&&v[0]==="PRIMEM");d&&d[1]!=="Greenwich"&&(h.prime_meridian={name:d[1],longitude:parseFloat(d[2])})}r.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(t)},r.id=this.getId(t);break;case"DATUM":r.type="GeodeticReferenceFrame",r.name=t[1],r.ellipsoid=t.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")?this.convert(t.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":r.type="DatumEnsemble",r.name=t[1],r.members=t.filter(h=>Array.isArray(h)&&h[0]==="MEMBER").map(h=>({type:"DatumEnsembleMember",name:h[1],id:this.getId(h)}));const s=t.find(h=>Array.isArray(h)&&h[0]==="ENSEMBLEACCURACY");s&&(r.accuracy=parseFloat(s[1]));const o=t.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID");o&&(r.ellipsoid=this.convert(o)),r.id=this.getId(t);break;case"ELLIPSOID":r.type="Ellipsoid",r.name=t[1],r.semi_major_axis=parseFloat(t[2]),r.inverse_flattening=parseFloat(t[3]),t.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT")&&this.convert(t.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT"),r);break;case"CONVERSION":r.type="Conversion",r.name=t[1],r.method=t.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(t.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,r.parameters=t.filter(h=>Array.isArray(h)&&h[0]==="PARAMETER").map(h=>this.convert(h));break;case"METHOD":r.type="Method",r.name=t[1],r.id=this.getId(t);break;case"PARAMETER":r.type="Parameter",r.name=t[1],r.value=parseFloat(t[2]),r.unit=this.convertUnit(t.find(h=>Array.isArray(h)&&(h[0]==="LENGTHUNIT"||h[0]==="ANGLEUNIT"||h[0]==="SCALEUNIT"))),r.id=this.getId(t);break;case"BOUNDCRS":r.type="BoundCRS";const l=t.find(h=>Array.isArray(h)&&h[0]==="SOURCECRS");if(l){const h=l.find(d=>Array.isArray(d));r.source_crs=h?this.convert(h):null}const u=t.find(h=>Array.isArray(h)&&h[0]==="TARGETCRS");if(u){const h=u.find(d=>Array.isArray(d));r.target_crs=h?this.convert(h):null}const c=t.find(h=>Array.isArray(h)&&h[0]==="ABRIDGEDTRANSFORMATION");c?r.transformation=this.convert(c):r.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(r.type="Transformation",r.name=t[1],r.method=t.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(t.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,r.parameters=t.filter(h=>Array.isArray(h)&&(h[0]==="PARAMETER"||h[0]==="PARAMETERFILE")).map(h=>{if(h[0]==="PARAMETER")return this.convert(h);if(h[0]==="PARAMETERFILE")return{name:h[1],value:h[2],id:{authority:"EPSG",code:8656}}}),r.parameters.length===7){const h=r.parameters[6];h.name==="Scale difference"&&(h.value=Math.round((h.value-1)*1e12)/1e6)}r.id=this.getId(t);break;case"AXIS":r.coordinate_system||(r.coordinate_system={type:"unspecified",axis:[]}),r.coordinate_system.axis.push(this.convertAxis(t));break;case"LENGTHUNIT":const f=this.convertUnit(t,"LinearUnit");r.coordinate_system&&r.coordinate_system.axis&&r.coordinate_system.axis.forEach(h=>{h.unit||(h.unit=f)}),f.conversion_factor&&f.conversion_factor!==1&&r.semi_major_axis&&(r.semi_major_axis={value:r.semi_major_axis,unit:f});break;default:r.keyword=t[0];break}return r}}class I6 extends OS{static convert(t,r={}){return super.convert(t,r),r.coordinate_system&&r.coordinate_system.subtype==="Cartesian"&&delete r.coordinate_system,r.usage&&delete r.usage,r}}class $6 extends OS{static convert(t,r={}){super.convert(t,r);const n=t.find(a=>Array.isArray(a)&&a[0]==="CS");n&&(r.coordinate_system={subtype:n[1],axis:this.extractAxes(t)});const i=t.find(a=>Array.isArray(a)&&a[0]==="USAGE");if(i){const a=i.find(l=>Array.isArray(l)&&l[0]==="SCOPE"),s=i.find(l=>Array.isArray(l)&&l[0]==="AREA"),o=i.find(l=>Array.isArray(l)&&l[0]==="BBOX");r.usage={},a&&(r.usage.scope=a[1]),s&&(r.usage.area=s[1]),o&&(r.usage.bbox=o.slice(1))}return r}}function D6(e){return e.find(t=>Array.isArray(t)&&t[0]==="USAGE")?"2019":(e.find(t=>Array.isArray(t)&&t[0]==="CS")||e[0]==="BOUNDCRS"||e[0]==="PROJCRS"||e[0]==="GEOGCRS","2015")}function R6(e){return(D6(e)==="2019"?$6:I6).convert(e)}function L6(e){const t=e.toUpperCase();return t.includes("PROJCRS")||t.includes("GEOGCRS")||t.includes("BOUNDCRS")||t.includes("VERTCRS")||t.includes("LENGTHUNIT")||t.includes("ANGLEUNIT")||t.includes("SCALEUNIT")?"WKT2":(t.includes("PROJCS")||t.includes("GEOGCS")||t.includes("LOCAL_CS")||t.includes("VERT_CS")||t.includes("UNIT"),"WKT1")}var Ko=1,CS=2,TS=3,mc=4,jS=5,zp=-1,G6=/\s/,U6=/[A-Za-z]/,B6=/[A-Za-z84_]/,Of=/[,\]]/,NS=/[\d\.E\-\+]/;function Sn(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ko}Sn.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==mc)for(;G6.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Ko:return this.neutral(e);case CS:return this.keyword(e);case mc:return this.quoted(e);case jS:return this.afterquote(e);case TS:return this.number(e);case zp:return}};Sn.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=mc;return}if(Of.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};Sn.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Ko;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Ko,this.currentObject=this.stack.pop(),this.currentObject||(this.state=zp);return}};Sn.prototype.number=function(e){if(NS.test(e)){this.word+=e;return}if(Of.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};Sn.prototype.quoted=function(e){if(e==='"'){this.state=jS;return}this.word+=e};Sn.prototype.keyword=function(e){if(B6.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Ko;return}if(Of.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};Sn.prototype.neutral=function(e){if(U6.test(e)){this.word=e,this.state=CS;return}if(e==='"'){this.word="",this.state=mc;return}if(NS.test(e)){this.word=e,this.state=TS;return}if(Of.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};Sn.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===zp)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function z6(e){var t=new Sn(e);return t.output()}function ad(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var n=t?{}:e,i=r.reduce(function(a,s){return Da(s,a),a},n);t&&(e[t]=i)}function Da(e,t){if(!Array.isArray(e)){t[e]=!0;return}var r=e.shift();if(r==="PARAMETER"&&(r=e.shift()),e.length===1){if(Array.isArray(e[0])){t[r]={},Da(e[0],t[r]);return}t[r]=e[0];return}if(!e.length){t[r]=!0;return}if(r==="TOWGS84"){t[r]=e;return}if(r==="AXIS"){r in t||(t[r]=[]),t[r].push(e);return}Array.isArray(r)||(t[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[r]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Da(e[2],t[r]);return;case"SPHEROID":case"ELLIPSOID":t[r]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Da(e[3],t[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":e[0]=["name",e[0]],ad(t,r,e);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":e[0]=["name",e[0]],ad(t,r,e),t[r].type=r;return;default:for(n=-1;++n<e.length;)if(!Array.isArray(e[n]))return Da(e,t[r]);return ad(t,r,e)}}var F6=.017453292519943295;function Mr(e){return e*F6}function IS(e){const t=(e.projName||"").toLowerCase().replace(/_/g," ");!e.long0&&e.longc&&(t==="albers conic equal area"||t==="lambert azimuthal equal area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(t==="stereographic south pole"||t==="polar stereographic (variant b)")?(e.lat0=Mr(e.lat1>0?90:-90),e.lat_ts=e.lat1,delete e.lat1):!e.lat_ts&&e.lat0&&(t==="polar stereographic"||t==="polar stereographic (variant a)")&&(e.lat_ts=e.lat0,e.lat0=Mr(e.lat0>0?90:-90),delete e.lat1)}function D1(e){let t={units:null,to_meter:void 0};return typeof e=="string"?(t.units=e.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.units==="meter"&&(t.to_meter=1)):e&&e.name&&(t.units=e.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.to_meter=e.conversion_factor),t}function R1(e){return typeof e=="object"?e.value*e.unit.conversion_factor:e}function L1(e,t){e.ellipsoid.radius?(t.a=e.ellipsoid.radius,t.rf=0):(t.a=R1(e.ellipsoid.semi_major_axis),e.ellipsoid.inverse_flattening!==void 0?t.rf=e.ellipsoid.inverse_flattening:e.ellipsoid.semi_major_axis!==void 0&&e.ellipsoid.semi_minor_axis!==void 0&&(t.rf=t.a/(t.a-R1(e.ellipsoid.semi_minor_axis))))}function yc(e,t={}){return!e||typeof e!="object"?e:e.type==="BoundCRS"?(yc(e.source_crs,t),e.transformation&&(e.transformation.method&&e.transformation.method.name==="NTv2"?t.nadgrids=e.transformation.parameters[0].value:t.datum_params=e.transformation.parameters.map(r=>r.value)),t):(Object.keys(e).forEach(r=>{const n=e[r];if(n!==null)switch(r){case"name":if(t.srsCode)break;t.name=n,t.srsCode=n;break;case"type":n==="GeographicCRS"?t.projName="longlat":n==="ProjectedCRS"&&e.conversion&&e.conversion.method&&(t.projName=e.conversion.method.name);break;case"datum":case"datum_ensemble":n.ellipsoid&&(t.ellps=n.ellipsoid.name,L1(n,t)),n.prime_meridian&&(t.from_greenwich=n.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":t.ellps=n.name,L1(n,t);break;case"prime_meridian":t.long0=(n.longitude||0)*Math.PI/180;break;case"coordinate_system":if(n.axis){if(t.axis=n.axis.map(i=>{const a=i.direction;if(a==="east")return"e";if(a==="north")return"n";if(a==="west")return"w";if(a==="south")return"s";throw new Error(`Unknown axis direction: ${a}`)}).join("")+"u",n.unit){const{units:i,to_meter:a}=D1(n.unit);t.units=i,t.to_meter=a}else if(n.axis[0]&&n.axis[0].unit){const{units:i,to_meter:a}=D1(n.axis[0].unit);t.units=i,t.to_meter=a}}break;case"id":n.authority&&n.code&&(t.title=n.authority+":"+n.code);break;case"conversion":n.method&&n.method.name&&(t.projName=n.method.name),n.parameters&&n.parameters.forEach(i=>{const a=i.name.toLowerCase().replace(/\s+/g,"_"),s=i.value;i.unit&&i.unit.conversion_factor?t[a]=s*i.unit.conversion_factor:i.unit==="degree"?t[a]=s*Math.PI/180:t[a]=s});break;case"unit":n.name&&(t.units=n.name.toLowerCase(),t.units==="metre"&&(t.units="meter")),n.conversion_factor&&(t.to_meter=n.conversion_factor);break;case"base_crs":yc(n,t),t.datumCode=n.id?n.id.authority+"_"+n.id.code:n.name;break}}),t.latitude_of_false_origin!==void 0&&(t.lat0=t.latitude_of_false_origin),t.longitude_of_false_origin!==void 0&&(t.long0=t.longitude_of_false_origin),t.latitude_of_standard_parallel!==void 0&&(t.lat0=t.latitude_of_standard_parallel,t.lat1=t.latitude_of_standard_parallel),t.latitude_of_1st_standard_parallel!==void 0&&(t.lat1=t.latitude_of_1st_standard_parallel),t.latitude_of_2nd_standard_parallel!==void 0&&(t.lat2=t.latitude_of_2nd_standard_parallel),t.latitude_of_projection_centre!==void 0&&(t.lat0=t.latitude_of_projection_centre),t.longitude_of_projection_centre!==void 0&&(t.longc=t.longitude_of_projection_centre),t.easting_at_false_origin!==void 0&&(t.x0=t.easting_at_false_origin),t.northing_at_false_origin!==void 0&&(t.y0=t.northing_at_false_origin),t.latitude_of_natural_origin!==void 0&&(t.lat0=t.latitude_of_natural_origin),t.longitude_of_natural_origin!==void 0&&(t.long0=t.longitude_of_natural_origin),t.longitude_of_origin!==void 0&&(t.long0=t.longitude_of_origin),t.false_easting!==void 0&&(t.x0=t.false_easting),t.easting_at_projection_centre&&(t.x0=t.easting_at_projection_centre),t.false_northing!==void 0&&(t.y0=t.false_northing),t.northing_at_projection_centre&&(t.y0=t.northing_at_projection_centre),t.standard_parallel_1!==void 0&&(t.lat1=t.standard_parallel_1),t.standard_parallel_2!==void 0&&(t.lat2=t.standard_parallel_2),t.scale_factor_at_natural_origin!==void 0&&(t.k0=t.scale_factor_at_natural_origin),t.scale_factor_at_projection_centre!==void 0&&(t.k0=t.scale_factor_at_projection_centre),t.scale_factor_on_pseudo_standard_parallel!==void 0&&(t.k0=t.scale_factor_on_pseudo_standard_parallel),t.azimuth!==void 0&&(t.alpha=t.azimuth),t.azimuth_at_projection_centre!==void 0&&(t.alpha=t.azimuth_at_projection_centre),t.angle_from_rectified_to_skew_grid&&(t.rectified_grid_angle=t.angle_from_rectified_to_skew_grid),IS(t),t)}var W6=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function K6(e,t){var r=t[0],n=t[1];!(r in e)&&n in e&&(e[r]=e[n],t.length===3&&(e[r]=t[2](e[r])))}function $S(e){for(var t=Object.keys(e),r=0,n=t.length;r<n;++r){var i=t[r];W6.indexOf(i)!==-1&&q6(e[i]),typeof e[i]=="object"&&$S(e[i])}}function q6(e){if(e.AUTHORITY){var t=Object.keys(e.AUTHORITY)[0];t&&t in e.AUTHORITY&&(e.title=t+":"+e.AUTHORITY[t])}if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var r="",n=0,i=e.AXIS.length;n<i;++n){var a=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?r+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?r+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?r+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(e.axis=r)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;e.type==="GEOGCS"&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),e.datumCode==="new_zealand_1949"&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode==="belge_1972"&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),e.rectified_grid_angle&&(e.rectified_grid_angle=Mr(e.rectified_grid_angle));function o(c){var f=e.to_meter||1;return c*f}var l=function(c){return K6(e,c)},u=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Mr],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Mr],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Mr],["lat0","latitude_of_origin",Mr],["lat0","standard_parallel_1",Mr],["lat1","standard_parallel_1",Mr],["lat2","standard_parallel_2",Mr],["azimuth","Azimuth"],["alpha","azimuth",Mr],["srsCode","name"]];u.forEach(l),IS(e)}function z0(e){if(typeof e=="object")return yc(e);const t=L6(e);var r=z6(e);if(t==="WKT2"){const a=R6(r);return yc(a)}var n=r[0],i={};return Da(r,i),$S(i),i[n]}function _t(e){var t=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?_t[e]=B0(arguments[1]):_t[e]=z0(arguments[1]):_t[e]=r}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(n){return Array.isArray(n)?_t.apply(t,n):_t(n)});if(typeof e=="string"){if(e in _t)return _t[e]}else"EPSG"in e?_t["EPSG:"+e.EPSG]=e:"ESRI"in e?_t["ESRI:"+e.ESRI]=e:"IAU2000"in e?_t["IAU2000:"+e.IAU2000]=e:console.log(e);return}}k6(_t);function H6(e){return typeof e=="string"}function V6(e){return e in _t}function Y6(e){return e.indexOf("+")!==0&&e.indexOf("[")!==-1||typeof e=="object"&&!("srsCode"in e)}var X6=["3857","900913","3785","102113"];function Q6(e){var t=ni(e,"authority");if(t){var r=ni(t,"epsg");return r&&X6.indexOf(r)>-1}}function J6(e){var t=ni(e,"extension");if(t)return ni(t,"proj4")}function Z6(e){return e[0]==="+"}function eT(e){if(H6(e)){if(V6(e))return _t[e];if(Y6(e)){var t=z0(e);if(Q6(t))return _t["EPSG:3857"];var r=J6(t);return r?B0(r):t}if(Z6(e))return B0(e)}else return"projName"in e?e:z0(e)}function G1(e,t){e=e||{};var r,n;if(!t)return e;for(n in t)r=t[n],r!==void 0&&(e[n]=r);return e}function Vr(e,t,r){var n=e*t;return r/Math.sqrt(1-n*n)}function vl(e){return e<0?-1:1}function R(e){return Math.abs(e)<=Ie?e:e-vl(e)*Wo}function $r(e,t,r){var n=e*r,i=.5*e;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(T-t))/n}function qo(e,t){for(var r=.5*e,n,i,a=T-2*Math.atan(t),s=0;s<=15;s++)if(n=e*Math.sin(a),i=T-2*Math.atan(t*Math.pow((1-n)/(1+n),r))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function tT(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Vr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function rT(e){var t=e.x,r=e.y;if(r*Fr>90&&r*Fr<-90&&t*Fr>180&&t*Fr<-180)return null;var n,i;if(Math.abs(Math.abs(r)-T)<=D)return null;if(this.sphere)n=this.x0+this.a*this.k0*R(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(se+.5*r));else{var a=Math.sin(r),s=$r(this.e,r,a);n=this.x0+this.a*this.k0*R(t-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return e.x=n,e.y=i,e}function nT(e){var t=e.x-this.x0,r=e.y-this.y0,n,i;if(this.sphere)i=T-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(i=qo(this.e,a),i===-9999)return null}return n=R(this.long0+t/(this.a*this.k0)),e.x=n,e.y=i,e}var iT=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const aT={init:tT,forward:rT,inverse:nT,names:iT};function sT(){}function U1(e){return e}var oT=["longlat","identity"];const lT={init:sT,forward:U1,inverse:U1,names:oT};var uT=[aT,lT],ki={},Ra=[];function DS(e,t){var r=Ra.length;return e.names?(Ra[r]=e,e.names.forEach(function(n){ki[n.toLowerCase()]=r}),this):(console.log(t),!0)}function RS(e){return e.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function cT(e){if(!e)return!1;var t=e.toLowerCase();if(typeof ki[t]<"u"&&Ra[ki[t]]||(t=RS(t),t in ki&&Ra[ki[t]]))return Ra[ki[t]]}function fT(){uT.forEach(DS)}const hT={start:fT,add:DS,get:cT};var LS={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const dT=LS.WGS84;function vT(e,t,r,n){var i=e*e,a=t*t,s=(i-a)/i,o=0;n?(e*=1-s*(C6+s*(T6+s*j6)),i=e*e,s=0):o=Math.sqrt(s);var l=(i-a)/a;return{es:s,e:o,ep2:l}}function pT(e,t,r,n,i){if(!e){var a=ni(LS,n);a||(a=dT),e=a.a,t=a.b,r=a.rf}return r&&!t&&(t=(1-1/r)*e),(r===0||Math.abs(e-t)<D)&&(i=!0,t=e),{a:e,b:t,rf:r,sphere:i}}var Lu={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var gT in Lu){var sd=Lu[gT];sd.datumName&&(Lu[sd.datumName]=sd)}function mT(e,t,r,n,i,a,s){var o={};return e===void 0||e==="none"?o.datum_type=U0:o.datum_type=A6,t&&(o.datum_params=t.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=Qi),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=Ji,o.datum_params[3]*=yo,o.datum_params[4]*=yo,o.datum_params[5]*=yo,o.datum_params[6]=o.datum_params[6]/1e6+1)),s&&(o.datum_type=Ha,o.grids=s),o.a=r,o.b=n,o.es=i,o.ep2=a,o}var Fp={};function yT(e,t,r){return t instanceof ArrayBuffer?wT(e,t,r):{ready:bT(e,t)}}function wT(e,t,r){var n=!0;r!==void 0&&r.includeErrorFields===!1&&(n=!1);var i=new DataView(t),a=ST(i),s=PT(i,a),o=ET(i,s,a,n),l={header:s,subgrids:o};return Fp[e]=l,l}async function bT(e,t){for(var r=[],n=await t.getImageCount(),i=n-1;i>=0;i--){var a=await t.getImage(i),s=await a.readRasters(),o=s,l=[a.getWidth(),a.getHeight()],u=a.getBoundingBox().map(B1),c=[a.fileDirectory.ModelPixelScale[0],a.fileDirectory.ModelPixelScale[1]].map(B1),f=u[0]+(l[0]-1)*c[0],h=u[3]-(l[1]-1)*c[1],d=o[0],v=o[1],p=[];for(let g=l[1]-1;g>=0;g--)for(let w=l[0]-1;w>=0;w--){var y=g*l[0]+w;p.push([-Wn(v[y]),Wn(d[y])])}r.push({del:c,lim:l,ll:[-f,h],cvs:p})}var m={header:{nSubgrids:n},subgrids:r};return Fp[e]=m,m}function _T(e){if(e===void 0)return null;var t=e.split(",");return t.map(xT)}function xT(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:Fp[e]||null,isNull:!1}}function B1(e){return e*Math.PI/180}function Wn(e){return e/3600*Math.PI/180}function ST(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function PT(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:F0(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function F0(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}function ET(e,t,r,n){for(var i=176,a=[],s=0;s<t.nSubgrids;s++){var o=kT(e,i,r),l=AT(e,i,o,r,n),u=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);a.push({ll:[Wn(o.lowerLongitude),Wn(o.lowerLatitude)],del:[Wn(o.longitudeInterval),Wn(o.latitudeInterval)],lim:[u,c],count:o.gridNodeCount,cvs:MT(l)});var f=16;n===!1&&(f=8),i+=176+o.gridNodeCount*f}return a}function MT(e){return e.map(function(t){return[Wn(t.longitudeShift),Wn(t.latitudeShift)]})}function kT(e,t,r){return{name:F0(e,t+8,t+16).trim(),parent:F0(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,r),upperLatitude:e.getFloat64(t+88,r),lowerLongitude:e.getFloat64(t+104,r),upperLongitude:e.getFloat64(t+120,r),latitudeInterval:e.getFloat64(t+136,r),longitudeInterval:e.getFloat64(t+152,r),gridNodeCount:e.getInt32(t+168,r)}}function AT(e,t,r,n,i){var a=t+176,s=16;i===!1&&(s=8);for(var o=[],l=0;l<r.gridNodeCount;l++){var u={latitudeShift:e.getFloat32(a+l*s,n),longitudeShift:e.getFloat32(a+l*s+4,n)};i!==!1&&(u.latitudeAccuracy=e.getFloat32(a+l*s+8,n),u.longitudeAccuracy=e.getFloat32(a+l*s+12,n)),o.push(u)}return o}function Dr(e,t){if(!(this instanceof Dr))return new Dr(e);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,t=t||function(u){if(u)throw u};var r=eT(e);if(typeof r!="object"){t("Could not parse to valid json: "+e);return}var n=Dr.projections.get(r.projName);if(!n){t("Could not get projection name from: "+e);return}if(r.datumCode&&r.datumCode!=="none"){var i=ni(Lu,r.datumCode);i&&(r.datum_params=r.datum_params||(i.towgs84?i.towgs84.split(","):null),r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var a=pT(r.a,r.b,r.rf,r.ellps,r.sphere),s=vT(a.a,a.b,a.rf,r.R_A),o=_T(r.nadgrids),l=r.datum||mT(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2,o);G1(this,r),G1(this,n),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,"init"in this&&typeof this.init=="function"&&this.init(),t(null,this)}Dr.projections=hT;Dr.projections.start();function OT(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Qi?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Ji?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function GS(e,t,r){var n=e.x,i=e.y,a=e.z?e.z:0,s,o,l,u;if(i<-T&&i>-1.001*T)i=-T;else if(i>T&&i<1.001*T)i=T;else{if(i<-T)return{x:-1/0,y:-1/0,z:e.z};if(i>T)return{x:1/0,y:1/0,z:e.z}}return n>Math.PI&&(n-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,s=r/Math.sqrt(1-t*l),{x:(s+a)*u*Math.cos(n),y:(s+a)*u*Math.sin(n),z:(s*(1-t)+a)*o}}function US(e,t,r,n){var i=1e-12,a=i*i,s=30,o,l,u,c,f,h,d,v,p,y,m,g,w,_=e.x,P=e.y,S=e.z?e.z:0,E,M,A;if(o=Math.sqrt(_*_+P*P),l=Math.sqrt(_*_+P*P+S*S),o/r<i){if(E=0,l/r<i)return M=T,A=-n,{x:e.x,y:e.y,z:e.z}}else E=Math.atan2(P,_);u=S/l,c=o/l,f=1/Math.sqrt(1-t*(2-t)*c*c),v=c*(1-t)*f,p=u*f,w=0;do w++,d=r/Math.sqrt(1-t*p*p),A=o*v+S*p-d*(1-t*p*p),h=t*d/(d+A),f=1/Math.sqrt(1-h*(2-h)*c*c),y=c*(1-h)*f,m=u*f,g=m*v-y*p,v=y,p=m;while(g*g>a&&w<s);return M=Math.atan(m/Math.abs(y)),{x:E,y:M,z:A}}function CT(e,t,r){if(t===Qi)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===Ji){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],l=r[5],u=r[6];return{x:u*(e.x-l*e.y+o*e.z)+n,y:u*(l*e.x+e.y-s*e.z)+i,z:u*(-o*e.x+s*e.y+e.z)+a}}}function TT(e,t,r){if(t===Qi)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===Ji){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],l=r[5],u=r[6],c=(e.x-n)/u,f=(e.y-i)/u,h=(e.z-a)/u;return{x:c+l*f-o*h,y:-l*c+f+s*h,z:o*c-s*f+h}}}function ou(e){return e===Qi||e===Ji}function jT(e,t,r){if(OT(e,t)||e.datum_type===U0||t.datum_type===U0)return r;var n=e.a,i=e.es;if(e.datum_type===Ha){var a=z1(e,!1,r);if(a!==0)return;n=N1,i=I1}var s=t.a,o=t.b,l=t.es;if(t.datum_type===Ha&&(s=N1,o=O6,l=I1),i===l&&n===s&&!ou(e.datum_type)&&!ou(t.datum_type))return r;if(r=GS(r,i,n),ou(e.datum_type)&&(r=CT(r,e.datum_type,e.datum_params)),ou(t.datum_type)&&(r=TT(r,t.datum_type,t.datum_params)),r=US(r,l,s,o),t.datum_type===Ha){var u=z1(t,!0,r);if(u!==0)return}return r}function z1(e,t,r){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},a=[];e:for(var s=0;s<e.grids.length;s++){var o=e.grids[s];if(a.push(o.name),o.isNull){i=n;break}if(o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,c=l.length;u<c;u++){var f=l[u],h=(Math.abs(f.del[1])+Math.abs(f.del[0]))/1e4,d=f.ll[0]-h,v=f.ll[1]-h,p=f.ll[0]+(f.lim[0]-1)*f.del[0]+h,y=f.ll[1]+(f.lim[1]-1)*f.del[1]+h;if(!(v>n.y||d>n.x||y<n.y||p<n.x)&&(i=NT(n,t,f),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*Fr+" "+n.y*Fr+" tried: '"+a+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function NT(e,t,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return n;var i={x:e.x,y:e.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=R(i.x-Math.PI)+Math.PI;var a=F1(i,r);if(t){if(isNaN(a.x))return n;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,o=1e-12,l,u;do{if(u=F1(a,r),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+a.x),y:i.y-(u.y+a.y)},a.x+=l.x,a.y+=l.y}while(s--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=R(a.x+r.ll[0]),n.y=a.y+r.ll[1]}else isNaN(a.x)||(n.x=e.x+a.x,n.y=e.y+a.y);return n}function F1(e,t){var r={x:e.x/t.del[0],y:e.y/t.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},i={x:r.x-1*n.x,y:r.y-1*n.y},a={x:Number.NaN,y:Number.NaN},s;if(n.x<0||n.x>=t.lim[0]||n.y<0||n.y>=t.lim[1])return a;s=n.y*t.lim[0]+n.x;var o={x:t.cvs[s][0],y:t.cvs[s][1]};s++;var l={x:t.cvs[s][0],y:t.cvs[s][1]};s+=t.lim[0];var u={x:t.cvs[s][0],y:t.cvs[s][1]};s--;var c={x:t.cvs[s][0],y:t.cvs[s][1]},f=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),v=(1-i.x)*i.y;return a.x=d*o.x+h*l.x+v*c.x+f*u.x,a.y=d*o.y+h*l.y+v*c.y+f*u.y,a}function W1(e,t,r){var n=r.x,i=r.y,a=r.z||0,s,o,l,u={};for(l=0;l<3;l++)if(!(t&&l===2&&r.z===void 0))switch(l===0?(s=n,"ew".indexOf(e.axis[l])!==-1?o="x":o="y"):l===1?(s=i,"ns".indexOf(e.axis[l])!==-1?o="y":o="x"):(s=a,o="z"),e.axis[l]){case"e":u[o]=s;break;case"w":u[o]=-s;break;case"n":u[o]=s;break;case"s":u[o]=-s;break;case"u":r[o]!==void 0&&(u.z=s);break;case"d":r[o]!==void 0&&(u.z=-s);break;default:return null}return u}function BS(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function IT(e){K1(e.x),K1(e.y)}function K1(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function $T(e,t){return(e.datum.datum_type===Qi||e.datum.datum_type===Ji||e.datum.datum_type===Ha)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Qi||t.datum.datum_type===Ji||t.datum.datum_type===Ha)&&e.datumCode!=="WGS84"}function wc(e,t,r,n){var i;Array.isArray(r)?r=BS(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var a=r.z!==void 0;if(IT(r),e.datum&&t.datum&&$T(e,t)&&(i=new Dr("WGS84"),r=wc(e,i,r,n),e=i),n&&e.axis!=="enu"&&(r=W1(e,!1,r)),e.projName==="longlat")r={x:r.x*at,y:r.y*at,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),r=e.inverse(r),!r)return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=jT(e.datum,t.datum,r),!!r)return r=r,t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),t.projName==="longlat"?r={x:r.x*Fr,y:r.y*Fr,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),n&&t.axis!=="enu"?W1(t,!0,r):(r&&!a&&delete r.z,r)}var q1=Dr("WGS84");function od(e,t,r,n){var i,a,s;return Array.isArray(r)?(i=wc(e,t,r,n)||{x:NaN,y:NaN},r.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(r.slice(3)):[i.x,i.y,r[2]].concat(r.slice(3)):[i.x,i.y].concat(r.slice(2)):[i.x,i.y]):(a=wc(e,t,r,n),s=Object.keys(r),s.length===2||s.forEach(function(o){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;a[o]=r[o]}),a)}function lu(e){return e instanceof Dr?e:typeof e=="object"&&"oProj"in e?e.oProj:Dr(e)}function DT(e,t,r){var n,i,a=!1,s;return typeof t>"u"?(i=lu(e),n=q1,a=!0):(typeof t.x<"u"||Array.isArray(t))&&(r=t,i=lu(e),n=q1,a=!0),n||(n=lu(e)),i||(i=lu(t)),r?od(n,i,r):(s={forward:function(o,l){return od(n,i,o,l)},inverse:function(o,l){return od(i,n,o,l)}},a&&(s.oProj=i),s)}var H1=6,zS="AJSAJS",FS="AFAFAF",La=65,Ct=73,ur=79,eo=86,to=90;const RT={forward:WS,inverse:LT,toPoint:KS};function WS(e,t){return t=t||5,BT(GT({lat:e[1],lon:e[0]}),t)}function LT(e){var t=Wp(HS(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function KS(e){var t=Wp(HS(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function ld(e){return e*(Math.PI/180)}function V1(e){return 180*(e/Math.PI)}function GT(e){var t=e.lat,r=e.lon,n=6378137,i=.00669438,a=.9996,s,o,l,u,c,f,h,d=ld(t),v=ld(r),p,y;y=Math.floor((r+180)/6)+1,r===180&&(y=60),t>=56&&t<64&&r>=3&&r<12&&(y=32),t>=72&&t<84&&(r>=0&&r<9?y=31:r>=9&&r<21?y=33:r>=21&&r<33?y=35:r>=33&&r<42&&(y=37)),s=(y-1)*6-180+3,p=ld(s),o=i/(1-i),l=n/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),c=o*Math.cos(d)*Math.cos(d),f=Math.cos(d)*(v-p),h=n*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var m=a*l*(f+(1-u+c)*f*f*f/6+(5-18*u+u*u+72*c-58*o)*f*f*f*f*f/120)+5e5,g=a*(h+l*Math.tan(d)*(f*f/2+(5-u+9*c+4*c*c)*f*f*f*f/24+(61-58*u+u*u+600*c-330*o)*f*f*f*f*f*f/720));return t<0&&(g+=1e7),{northing:Math.round(g),easting:Math.round(m),zoneNumber:y,zoneLetter:UT(t)}}function Wp(e){var t=e.northing,r=e.easting,n=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),c,f,h,d,v,p,y,m,g,w=r-5e5,_=t;n<"N"&&(_-=1e7),y=(i-1)*6-180+3,l=o/(1-o),p=_/a,m=p/(s*(1-o/4-3*o*o/64-5*o*o*o/256)),g=m+(3*u/2-27*u*u*u/32)*Math.sin(2*m)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*m)+151*u*u*u/96*Math.sin(6*m),c=s/Math.sqrt(1-o*Math.sin(g)*Math.sin(g)),f=Math.tan(g)*Math.tan(g),h=l*Math.cos(g)*Math.cos(g),d=s*(1-o)/Math.pow(1-o*Math.sin(g)*Math.sin(g),1.5),v=w/(c*a);var P=g-c*Math.tan(g)/d*(v*v/2-(5+3*f+10*h-4*h*h-9*l)*v*v*v*v/24+(61+90*f+298*h+45*f*f-252*l-3*h*h)*v*v*v*v*v*v/720);P=V1(P);var S=(v-(1+2*f+h)*v*v*v/6+(5-2*h+28*f-3*h*h+8*l+24*f*f)*v*v*v*v*v/120)/Math.cos(g);S=y+V1(S);var E;if(e.accuracy){var M=Wp({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});E={top:M.lat,right:M.lon,bottom:P,left:S}}else E={lat:P,lon:S};return E}function UT(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function BT(e,t){var r="00000"+e.easting,n="00000"+e.northing;return e.zoneNumber+e.zoneLetter+zT(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+n.substr(n.length-5,t)}function zT(e,t,r){var n=qS(r),i=Math.floor(e/1e5),a=Math.floor(t/1e5)%20;return FT(i,a,n)}function qS(e){var t=e%H1;return t===0&&(t=H1),t}function FT(e,t,r){var n=r-1,i=zS.charCodeAt(n),a=FS.charCodeAt(n),s=i+e-1,o=a+t,l=!1;s>to&&(s=s-to+La-1,l=!0),(s===Ct||i<Ct&&s>Ct||(s>Ct||i<Ct)&&l)&&s++,(s===ur||i<ur&&s>ur||(s>ur||i<ur)&&l)&&(s++,s===Ct&&s++),s>to&&(s=s-to+La-1),o>eo?(o=o-eo+La-1,l=!0):l=!1,(o===Ct||a<Ct&&o>Ct||(o>Ct||a<Ct)&&l)&&o++,(o===ur||a<ur&&o>ur||(o>ur||a<ur)&&l)&&(o++,o===Ct&&o++),o>eo&&(o=o-eo+La-1);var u=String.fromCharCode(s)+String.fromCharCode(o);return u}function HS(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,r=null,n="",i,a=0;!/[A-Z]/.test(i=e.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+e;n+=i,a++}var s=parseInt(n,10);if(a===0||a+3>t)throw"MGRSPoint bad conversion from: "+e;var o=e.charAt(a++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+e;r=e.substring(a,a+=2);for(var l=qS(s),u=WT(r.charAt(0),l),c=KT(r.charAt(1),l);c<qT(o);)c+=2e6;var f=t-a;if(f%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var h=f/2,d=0,v=0,p,y,m,g,w;return h>0&&(p=1e5/Math.pow(10,h),y=e.substring(a,a+h),d=parseFloat(y)*p,m=e.substring(a+h),v=parseFloat(m)*p),g=d+u,w=v+c,{easting:g,northing:w,zoneLetter:o,zoneNumber:s,accuracy:p}}function WT(e,t){for(var r=zS.charCodeAt(t-1),n=1e5,i=!1;r!==e.charCodeAt(0);){if(r++,r===Ct&&r++,r===ur&&r++,r>to){if(i)throw"Bad character: "+e;r=La,i=!0}n+=1e5}return n}function KT(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=FS.charCodeAt(t-1),n=0,i=!1;r!==e.charCodeAt(0);){if(r++,r===Ct&&r++,r===ur&&r++,r>eo){if(i)throw"Bad character: "+e;r=La,i=!0}n+=1e5}return n}function qT(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function as(e,t,r){if(!(this instanceof as))return new as(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var n=e.split(",");this.x=parseFloat(n[0]),this.y=parseFloat(n[1]),this.z=parseFloat(n[2])||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}as.fromMGRS=function(e){return new as(KS(e))};as.prototype.toMGRS=function(e){return WS([this.x,this.y],e)};var HT=1,VT=.25,Y1=.046875,X1=.01953125,Q1=.01068115234375,YT=.75,XT=.46875,QT=.013020833333333334,JT=.007120768229166667,ZT=.3645833333333333,ej=.005696614583333333,tj=.3076171875;function Kp(e){var t=[];t[0]=HT-e*(VT+e*(Y1+e*(X1+e*Q1))),t[1]=e*(YT-e*(Y1+e*(X1+e*Q1)));var r=e*e;return t[2]=r*(XT-e*(QT+e*JT)),r*=e,t[3]=r*(ZT-e*ej),t[4]=r*e*tj,t}function bs(e,t,r,n){return r*=t,t*=t,n[0]*e-r*(n[1]+t*(n[2]+t*(n[3]+t*n[4])))}var rj=20;function qp(e,t,r){for(var n=1/(1-t),i=e,a=rj;a;--a){var s=Math.sin(i),o=1-t*s*s;if(o=(bs(i,s,Math.cos(i),r)-e)*(o*Math.sqrt(o))*n,i-=o,Math.abs(o)<D)return i}return i}function nj(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Kp(this.es),this.ml0=bs(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function ij(e){var t=e.x,r=e.y,n=R(t-this.long0),i,a,s,o=Math.sin(r),l=Math.cos(r);if(this.es){var c=l*n,f=Math.pow(c,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),v=Math.abs(l)>D?Math.tan(r):0,p=Math.pow(v,2),y=Math.pow(p,2);i=1-this.es*Math.pow(o,2),c=c/Math.sqrt(i);var m=bs(r,o,l,this.en);a=this.a*(this.k0*c*(1+f/6*(1-p+h+f/20*(5-18*p+y+14*h-58*p*h+f/42*(61+179*y-y*p-479*p)))))+this.x0,s=this.a*(this.k0*(m-this.ml0+o*n*c/2*(1+f/12*(5-p+9*h+4*d+f/30*(61+y-58*p+270*h-330*p*h+f/56*(1385+543*y-y*p-3111*p))))))+this.y0}else{var u=l*Math.sin(n);if(Math.abs(Math.abs(u)-1)<D)return 93;if(a=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,s=l*Math.cos(n)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(s),u>=1){if(u-1>D)return 93;s=0}else s=Math.acos(s);r<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return e.x=a,e.y=s,e}function aj(e){var t,r,n,i,a=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+s/this.k0,r=qp(t,this.es,this.en),Math.abs(r)<T){var f=Math.sin(r),h=Math.cos(r),d=Math.abs(h)>D?Math.tan(r):0,v=this.ep2*Math.pow(h,2),p=Math.pow(v,2),y=Math.pow(d,2),m=Math.pow(y,2);t=1-this.es*Math.pow(f,2);var g=a*Math.sqrt(t)/this.k0,w=Math.pow(g,2);t=t*d,n=r-t*w/(1-this.es)*.5*(1-w/12*(5+3*y-9*v*y+v-4*p-w/30*(61+90*y-252*v*y+45*m+46*v-w/56*(1385+3633*y+4095*m+1574*m*y)))),i=R(this.long0+g*(1-w/6*(1+2*y+v-w/20*(5+28*y+24*m+8*v*y+6*v-w/42*(61+662*y+1320*m+720*m*y))))/h)}else n=T*vl(s),i=0;else{var o=Math.exp(a/this.k0),l=.5*(o-1/o),u=this.lat0+s/this.k0,c=Math.cos(u);t=Math.sqrt((1-Math.pow(c,2))/(1+Math.pow(l,2))),n=Math.asin(t),s<0&&(n=-n),l===0&&c===0?i=0:i=R(Math.atan2(l,c)+this.long0)}return e.x=i,e.y=n,e}var sj=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Gu={init:nj,forward:ij,inverse:aj,names:sj};function VS(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function It(e,t){e=Math.abs(e),t=Math.abs(t);var r=Math.max(e,t),n=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function oj(e){var t=1+e,r=t-1;return r===0?e:e*Math.log(t)/r}function lj(e){var t=Math.abs(e);return t=oj(t*(1+t/(It(1,t)+1))),e<0?-t:t}function Hp(e,t){for(var r=2*Math.cos(2*t),n=e.length-1,i=e[n],a=0,s;--n>=0;)s=-a+r*i+e[n],a=i,i=s;return t+s*Math.sin(2*t)}function uj(e,t){for(var r=2*Math.cos(t),n=e.length-1,i=e[n],a=0,s;--n>=0;)s=-a+r*i+e[n],a=i,i=s;return Math.sin(t)*s}function cj(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function YS(e,t,r){for(var n=Math.sin(t),i=Math.cos(t),a=VS(r),s=cj(r),o=2*i*s,l=-2*n*a,u=e.length-1,c=e[u],f=0,h=0,d=0,v,p;--u>=0;)v=h,p=f,h=c,f=d,c=-v+o*h-l*f+e[u],d=-p+l*h+o*f;return o=n*s,l=i*a,[o*c-l*d,o*d+l*c]}function fj(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Gu.init.apply(this),this.forward=Gu.forward,this.inverse=Gu.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),r=r*t,this.cgb[1]=r*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),r=r*t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=r*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),r=r*t,this.cgb[3]=r*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=r*(1237/630+t*(-12/5+t*(-24832/14175))),r=r*t,this.cgb[4]=r*(4174/315+t*(-144838/6237)),this.cbg[4]=r*(-734/315+t*(109598/31185)),r=r*t,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=r*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),r=r*t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),r=r*t,this.utg[3]=r*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=r*(49561/161280+t*(-179/168+t*(6601661/7257600))),r=r*t,this.utg[4]=r*(-4583/161280+t*(108847/3991680)),this.gtu[4]=r*(34729/80640+t*(-3418889/1995840)),r=r*t,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=Hp(this.cbg,this.lat0);this.Zb=-this.Qn*(n+uj(this.gtu,2*n))}function hj(e){var t=R(e.x-this.long0),r=e.y;r=Hp(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),a=Math.sin(t),s=Math.cos(t);r=Math.atan2(n,s*i),t=Math.atan2(a*i,It(n,i*s)),t=lj(Math.tan(t));var o=YS(this.gtu,2*r,2*t);r=r+o[0],t=t+o[1];var l,u;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,u=this.a*(this.Qn*r+this.Zb)+this.y0):(l=1/0,u=1/0),e.x=l,e.y=u,e}function dj(e){var t=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,t=t/this.Qn;var n,i;if(Math.abs(t)<=2.623395162778){var a=YS(this.utg,2*r,2*t);r=r+a[0],t=t+a[1],t=Math.atan(VS(t));var s=Math.sin(r),o=Math.cos(r),l=Math.sin(t),u=Math.cos(t);r=Math.atan2(s*u,It(l,u*o)),t=Math.atan2(l,u*o),n=R(t+this.long0),i=Hp(this.cgb,r)}else n=1/0,i=1/0;return e.x=n,e.y=i,e}var vj=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Uu={init:fj,forward:hj,inverse:dj,names:vj};function pj(e,t){if(e===void 0){if(e=Math.floor((R(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var gj="etmerc";function mj(){var e=pj(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*at,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Uu.init.apply(this),this.forward=Uu.forward,this.inverse=Uu.inverse}var yj=["Universal Transverse Mercator System","utm"];const wj={init:mj,names:yj,dependsOn:gj};function Vp(e,t){return Math.pow((1-e)/(1+e),t)}var bj=20;function _j(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+se)/(Math.pow(Math.tan(.5*this.lat0+se),this.C)*Vp(this.e*e,this.ratexp))}function xj(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+se),this.C)*Vp(this.e*Math.sin(r),this.ratexp))-T,e.x=this.C*t,e}function Sj(e){for(var t=1e-14,r=e.x/this.C,n=e.y,i=Math.pow(Math.tan(.5*n+se)/this.K,1/this.C),a=bj;a>0&&(n=2*Math.atan(i*Vp(this.e*Math.sin(e.y),-.5*this.e))-T,!(Math.abs(n-e.y)<t));--a)e.y=n;return a?(e.x=r,e.y=n,e):null}var Pj=["gauss"];const Yp={init:_j,forward:xj,inverse:Sj,names:Pj};function Ej(){Yp.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Mj(e){var t,r,n,i;return e.x=R(e.x-this.long0),Yp.forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),n=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*n),e.x=i*r*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*r*n),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function kj(e){var t,r,n,i,a;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,a=It(e.x,e.y)){var s=2*Math.atan2(a,this.R2);t=Math.sin(s),r=Math.cos(s),i=Math.asin(r*this.sinc0+e.y*t*this.cosc0/a),n=Math.atan2(e.x*t,a*this.cosc0*r-e.y*this.sinc0*t)}else i=this.phic0,n=0;return e.x=n,e.y=i,Yp.inverse.apply(this,[e]),e.x=R(e.x+this.long0),e}var Aj=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Oj={init:Ej,forward:Mj,inverse:kj,names:Aj};function Xp(e,t,r){return t*=r,Math.tan(.5*(T+e))*Math.pow((1-t)/(1+t),.5*r)}function Cj(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=D&&(this.k0=.5*(1+vl(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=D&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=D&&Math.abs(Math.cos(this.lat_ts))>D&&(this.k0=.5*this.cons*Vr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/$r(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Vr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(Xp(this.lat0,this.sinlat0,this.e))-T,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Tj(e){var t=e.x,r=e.y,n=Math.sin(r),i=Math.cos(r),a,s,o,l,u,c,f=R(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=D&&Math.abs(r+this.lat0)<=D?(e.x=NaN,e.y=NaN,e):this.sphere?(a=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(f)),e.x=this.a*a*i*Math.sin(f)+this.x0,e.y=this.a*a*(this.coslat0*n-this.sinlat0*i*Math.cos(f))+this.y0,e):(s=2*Math.atan(Xp(r,n,this.e))-T,l=Math.cos(s),o=Math.sin(s),Math.abs(this.coslat0)<=D?(u=$r(this.e,r*this.con,this.con*n),c=2*this.a*this.k0*u/this.cons,e.x=this.x0+c*Math.sin(t-this.long0),e.y=this.y0-this.con*c*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<D?(a=2*this.a*this.k0/(1+l*Math.cos(f)),e.y=a*o):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(f))),e.y=a*(this.cosX0*o-this.sinX0*l*Math.cos(f))+this.y0),e.x=a*l*Math.sin(f)+this.x0,e))}function jj(e){e.x-=this.x0,e.y-=this.y0;var t,r,n,i,a,s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,r=this.lat0,s<=D?(e.x=t,e.y=r,e):(r=Math.asin(Math.cos(o)*this.sinlat0+e.y*Math.sin(o)*this.coslat0/s),Math.abs(this.coslat0)<D?this.lat0>0?t=R(this.long0+Math.atan2(e.x,-1*e.y)):t=R(this.long0+Math.atan2(e.x,e.y)):t=R(this.long0+Math.atan2(e.x*Math.sin(o),s*this.coslat0*Math.cos(o)-e.y*this.sinlat0*Math.sin(o))),e.x=t,e.y=r,e)}else if(Math.abs(this.coslat0)<=D){if(s<=D)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,n=s*this.cons/(2*this.a*this.k0),r=this.con*qo(this.e,n),t=this.con*R(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=D?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/s),t=R(this.long0+Math.atan2(e.x*Math.sin(i),s*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),r=-1*qo(this.e,Math.tan(.5*(T+a)));return e.x=t,e.y=r,e}var Nj=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const Ij={init:Cj,forward:Tj,inverse:jj,names:Nj,ssfn_:Xp};function $j(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,n=this.rf,i=1/n,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*r*Math.sqrt(1-a)/(1-a*Math.pow(t,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),u=Math.log((1+s*t)/(1-s*t));this.K=o-this.alpha*l+this.alpha*s/2*u}function Dj(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),n=-this.alpha*(t+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return e.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,e.x=this.R*s+this.x0,e}function Rj(e){for(var t=e.x-this.x0,r=e.y-this.y0,n=t/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+s/this.alpha,l=0,u=a,c=-1e3,f=0;Math.abs(u-c)>1e-7;){if(++f>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=o,e.y=u,e}var Lj=["somerc"];const Gj={init:$j,forward:Dj,inverse:Rj,names:Lj};var _a=1e-7;function Uj(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof e.projName=="object"?Object.keys(e.projName)[0]:e.projName;return"no_uoff"in e||"no_off"in e||t.indexOf(r)!==-1||t.indexOf(RS(r))!==-1}function Bj(){var e,t,r,n,i,a,s,o,l,u,c=0,f,h=0,d=0,v=0,p=0,y=0,m=0;this.no_off=Uj(this),this.no_rot="no_rot"in this;var g=!1;"alpha"in this&&(g=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),g&&(m=this.alpha),w&&(c=this.rectified_grid_angle),g||w)h=this.longc;else if(d=this.long1,p=this.lat1,v=this.long2,y=this.lat2,Math.abs(p-y)<=_a||(e=Math.abs(p))<=_a||Math.abs(e-T)<=_a||Math.abs(Math.abs(this.lat0)-T)<=_a||Math.abs(Math.abs(y)-T)<=_a)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>D?(o=Math.sin(this.lat0),r=Math.cos(this.lat0),e=1-this.es*o*o,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,n=this.B*t/(r*Math.sqrt(e)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow($r(this.e,this.lat0,o),this.B)):(this.B=1/t,this.A=this.k0,this.E=n=i=1),g||w?(g?(f=Math.asin(Math.sin(m)/n),w||(c=m)):(f=c,m=Math.asin(n*Math.sin(f))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(f))/this.B):(a=Math.pow($r(this.e,p,Math.sin(p)),this.B),s=Math.pow($r(this.e,y,Math.sin(y)),this.B),i=this.E/a,l=(s-a)/(s+a),u=this.E*this.E,u=(u-s*a)/(u+s*a),e=d-v,e<-Math.PI?v-=Wo:e>Math.PI&&(v+=Wo),this.lam0=R(.5*(d+v)-Math.atan(u*Math.tan(.5*this.B*(d-v))/l)/this.B),f=Math.atan(2*Math.sin(this.B*R(d-this.lam0))/(i-1/i)),c=m=Math.asin(n*Math.sin(f))),this.singam=Math.sin(f),this.cosgam=Math.cos(f),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(m))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*f,this.v_pole_n=this.ArB*Math.log(Math.tan(se-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(se+i))}function zj(e){var t={},r,n,i,a,s,o,l,u;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-T)>D){if(s=this.E/Math.pow($r(this.e,e.y,Math.sin(e.y)),this.B),o=1/s,r=.5*(s-o),n=.5*(s+o),a=Math.sin(this.B*e.x),i=(r*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(i)-1)<D)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*e.x),Math.abs(o)<_a?l=this.A*e.x:l=this.ArB*Math.atan2(r*this.cosgam+a*this.singam,o)}else u=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=u):(l-=this.u_0,t.x=u*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-u*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Fj(e){var t,r,n,i,a,s,o,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),i=.5*(n-1/n),a=.5*(n+1/n),s=Math.sin(this.BrA*t),o=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(o)-1)<D)l.x=0,l.y=o<0?-T:T;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=qo(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var Wj=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Kj={init:Bj,forward:zj,inverse:Fj,names:Wj};function qj(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<D)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),n=Vr(this.e,t,r),i=$r(this.e,this.lat1,t),a=Math.sin(this.lat2),s=Math.cos(this.lat2),o=Vr(this.e,a,s),l=$r(this.e,this.lat2,a),u=Math.abs(Math.abs(this.lat0)-T)<D?0:$r(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>D?this.ns=Math.log(n/o)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Hj(e){var t=e.x,r=e.y;Math.abs(2*Math.abs(r)-Math.PI)<=D&&(r=vl(r)*(T-2*D));var n=Math.abs(Math.abs(r)-T),i,a;if(n>D)i=$r(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(n=r*this.ns,n<=0)return null;a=0}var s=this.ns*R(t-this.long0);return e.x=this.k0*(a*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,e}function Vj(e){var t,r,n,i,a,s=(e.x-this.x0)/this.k0,o=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+o*o),r=1):(t=-Math.sqrt(s*s+o*o),r=-1);var l=0;if(t!==0&&(l=Math.atan2(r*s,r*o)),t!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(t/(this.a*this.f0),r),i=qo(this.e,n),i===-9999)return null}else i=-T;return a=R(l/this.ns+this.long0),e.x=a,e.y=i,e}var Yj=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Xj={init:qj,forward:Hj,inverse:Vj,names:Yj};function Qj(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Jj(e){var t,r,n,i,a,s,o,l=e.x,u=e.y,c=R(l-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),n=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),s=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=o*Math.cos(s)/1,e.x=o*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e}function Zj(e){var t,r,n,i,a,s,o,l,u=e.x;e.x=e.y,e.y=u,this.czech||(e.y*=-1,e.x*=-1),s=Math.sqrt(e.x*e.x+e.y*e.y),a=Math.atan2(e.y,e.x),i=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(t)),e.x=this.long0-r/this.alfa,o=t,l=0;var c=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-e.y)<1e-10&&(l=1),o=e.y,c+=1;while(l===0&&c<15);return c>=15?null:e}var e5=["Krovak","krovak"];const t5={init:Qj,forward:Jj,inverse:Zj,names:e5};function Pt(e,t,r,n,i){return e*i-t*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function pl(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function gl(e){return .375*e*(1+.25*e*(1+.46875*e))}function ml(e){return .05859375*e*e*(1+.75*e)}function yl(e){return e*e*e*(35/3072)}function Qp(e,t,r){var n=t*r;return e/Math.sqrt(1-n*n)}function vi(e){return Math.abs(e)<T?e:e-vl(e)*Math.PI}function bc(e,t,r,n,i){var a,s;a=e/t;for(var o=0;o<15;o++)if(s=(e-(t*a-r*Math.sin(2*a)+n*Math.sin(4*a)-i*Math.sin(6*a)))/(t-2*r*Math.cos(2*a)+4*n*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function r5(){this.sphere||(this.e0=pl(this.es),this.e1=gl(this.es),this.e2=ml(this.es),this.e3=yl(this.es),this.ml0=this.a*Pt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function n5(e){var t,r,n=e.x,i=e.y;if(n=R(n-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),o=Qp(this.a,this.e,a),l=Math.tan(i)*Math.tan(i),u=n*Math.cos(i),c=u*u,f=this.es*s*s/(1-this.es),h=this.a*Pt(this.e0,this.e1,this.e2,this.e3,i);t=o*u*(1-c*l*(1/6-(8-l+8*f)*c/120)),r=h-this.ml0+o*a/s*c*(.5+(5-l+6*f)*c/24)}return e.x=t+this.x0,e.y=r+this.y0,e}function i5(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,n,i;if(this.sphere){var a=r+this.lat0;n=Math.asin(Math.sin(a)*Math.cos(t)),i=Math.atan2(Math.tan(t),Math.cos(a))}else{var s=this.ml0/this.a+r,o=bc(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-T)<=D)return e.x=this.long0,e.y=T,r<0&&(e.y*=-1),e;var l=Qp(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(o),2),f=t*this.a/l,h=f*f;n=o-l*Math.tan(o)/u*f*f*(.5-(1+3*c)*f*f/24),i=f*(1-h*(c/3+(1+3*c)*c*h/15))/Math.cos(o)}return e.x=R(i+this.long0),e.y=vi(n),e}var a5=["Cassini","Cassini_Soldner","cass"];const s5={init:r5,forward:n5,inverse:i5,names:a5};function Zn(e,t){var r;return e>1e-7?(r=e*t,(1-e*e)*(t/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*t}var W0=1,K0=2,q0=3,Bu=4;function o5(){var e=Math.abs(this.lat0);if(Math.abs(e-T)<D?this.mode=this.lat0<0?W0:K0:Math.abs(e)<D?this.mode=q0:this.mode=Bu,this.es>0){var t;switch(this.qp=Zn(this.e,1),this.mmf=.5/(1-this.es),this.apa=g5(this.es),this.mode){case K0:this.dd=1;break;case W0:this.dd=1;break;case q0:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Bu:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Zn(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Bu&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function l5(e){var t,r,n,i,a,s,o,l,u,c,f=e.x,h=e.y;if(f=R(f-this.long0),this.sphere){if(a=Math.sin(h),c=Math.cos(h),n=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+c*n:1+this.sinph0*a+this.cosph0*c*n,r<=D)return null;r=Math.sqrt(2/r),t=r*c*Math.sin(f),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(h+this.lat0)<D)return null;r=se-h*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),t=r*Math.sin(f),r*=n}}else{switch(o=0,l=0,u=0,n=Math.cos(f),i=Math.sin(f),a=Math.sin(h),s=Zn(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=s/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*n;break;case this.EQUIT:u=1+l*n;break;case this.N_POLE:u=T+h,s=this.qp-s;break;case this.S_POLE:u=h-T,s=this.qp+s;break}if(Math.abs(u)<D)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?r=this.ymf*u*(this.cosb1*o-this.sinb1*l*n):r=(u=Math.sqrt(2/(1+l*n)))*o*this.ymf,t=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(u=Math.sqrt(s))*i,r=n*(this.mode===this.S_POLE?u:-u)):t=r=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e}function u5(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,n,i,a,s,o,l,u;if(this.sphere){var c=0,f,h=0;if(f=Math.sqrt(t*t+r*r),i=f*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),c=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(f)<=D?0:Math.asin(r*h/f),t*=h,r=c*f;break;case this.OBLIQ:i=Math.abs(f)<=D?this.lat0:Math.asin(c*this.sinph0+r*h*this.cosph0/f),t*=h*this.cosph0,r=(c-Math.sin(i)*this.sinph0)*f;break;case this.N_POLE:r=-r,i=T-i;break;case this.S_POLE:i-=T;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,r)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,r*=this.dd,l=Math.sqrt(t*t+r*r),l<D)return e.x=this.long0,e.y=this.lat0,e;s=2*Math.asin(.5*l/this.rq),a=Math.cos(s),t*=s=Math.sin(s),this.mode===this.OBLIQ?(u=a*this.sinb1+r*s*this.cosb1/l,o=this.qp*u,r=l*this.cosb1*a-r*this.sinb1*s):(u=r*s/l,o=this.qp*u,r=l*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),o=t*t+r*r,!o)return e.x=this.long0,e.y=this.lat0,e;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}n=Math.atan2(t,r),i=m5(Math.asin(u),this.apa)}return e.x=R(this.long0+n),e.y=i,e}var c5=.3333333333333333,f5=.17222222222222222,h5=.10257936507936508,d5=.06388888888888888,v5=.0664021164021164,p5=.016415012942191543;function g5(e){var t,r=[];return r[0]=e*c5,t=e*e,r[0]+=t*f5,r[1]=t*d5,t*=e,r[0]+=t*h5,r[1]+=t*v5,r[2]=t*p5,r}function m5(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}var y5=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const w5={init:o5,forward:l5,inverse:u5,names:y5,S_POLE:W0,N_POLE:K0,EQUIT:q0,OBLIQ:Bu};function ii(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function b5(){Math.abs(this.lat1+this.lat2)<D||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Vr(this.e3,this.sin_po,this.cos_po),this.qs1=Zn(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Vr(this.e3,this.sin_po,this.cos_po),this.qs2=Zn(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Zn(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>D?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function _5(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=Zn(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*R(t-this.long0),s=i*Math.sin(a)+this.x0,o=this.rh-i*Math.cos(a)+this.y0;return e.x=s,e.y=o,e}function x5(e){var t,r,n,i,a,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),n=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),n=-1),i=0,t!==0&&(i=Math.atan2(n*e.x,n*e.y)),n=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,r)),a=R(i/this.ns0+this.long0),e.x=a,e.y=s,e}function S5(e,t){var r,n,i,a,s,o=ii(.5*t);if(e<D)return o;for(var l=e*e,u=1;u<=25;u++)if(r=Math.sin(o),n=Math.cos(o),i=e*r,a=1-i*i,s=.5*a*a/n*(t/(1-l)-r/a+.5/e*Math.log((1-i)/(1+i))),o=o+s,Math.abs(s)<=1e-7)return o;return null}var P5=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const E5={init:b5,forward:_5,inverse:x5,names:P5,phi1z:S5};function M5(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function k5(e){var t,r,n,i,a,s,o,l,u=e.x,c=e.y;return n=R(u-this.long0),t=Math.sin(c),r=Math.cos(c),i=Math.cos(n),s=this.sin_p14*t+this.cos_p14*r*i,a=1,s>0||Math.abs(s)<=D?(o=this.x0+this.a*a*r*Math.sin(n)/s,l=this.y0+this.a*a*(this.cos_p14*t-this.sin_p14*r*i)/s):(o=this.x0+this.infinity_dist*r*Math.sin(n),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*i)),e.x=o,e.y=l,e}function A5(e){var t,r,n,i,a,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),r=Math.sin(i),n=Math.cos(i),s=ii(n*this.sin_p14+e.y*r*this.cos_p14/t),a=Math.atan2(e.x*r,t*this.cos_p14*n-e.y*this.sin_p14*r),a=R(this.long0+a)):(s=this.phic0,a=0),e.x=a,e.y=s,e}var O5=["gnom"];const C5={init:M5,forward:k5,inverse:A5,names:O5};function T5(e,t){var r=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*T:T;for(var n=Math.asin(.5*t),i,a,s,o,l=0;l<30;l++)if(a=Math.sin(n),s=Math.cos(n),o=e*a,i=Math.pow(1-o*o,2)/(2*s)*(t/(1-e*e)-a/(1-o*o)+.5/e*Math.log((1-o)/(1+o))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function j5(){this.sphere||(this.k0=Vr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function N5(e){var t=e.x,r=e.y,n,i,a=R(t-this.long0);if(this.sphere)n=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Zn(this.e,Math.sin(r));n=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return e.x=n,e.y=i,e}function I5(e){e.x-=this.x0,e.y-=this.y0;var t,r;return this.sphere?(t=R(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=T5(this.e,2*e.y*this.k0/this.a),t=R(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e}var $5=["cea"];const D5={init:j5,forward:N5,inverse:I5,names:$5};function R5(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function L5(e){var t=e.x,r=e.y,n=R(t-this.long0),i=vi(r-this.lat0);return e.x=this.x0+this.a*n*this.rc,e.y=this.y0+this.a*i,e}function G5(e){var t=e.x,r=e.y;return e.x=R(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=vi(this.lat0+(r-this.y0)/this.a),e}var U5=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const B5={init:R5,forward:L5,inverse:G5,names:U5};var J1=20;function z5(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=pl(this.es),this.e1=gl(this.es),this.e2=ml(this.es),this.e3=yl(this.es),this.ml0=this.a*Pt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function F5(e){var t=e.x,r=e.y,n,i,a,s=R(t-this.long0);if(a=s*Math.sin(r),this.sphere)Math.abs(r)<=D?(n=this.a*s,i=-1*this.a*this.lat0):(n=this.a*Math.sin(a)/Math.tan(r),i=this.a*(vi(r-this.lat0)+(1-Math.cos(a))/Math.tan(r)));else if(Math.abs(r)<=D)n=this.a*s,i=-1*this.ml0;else{var o=Qp(this.a,this.e,Math.sin(r))/Math.tan(r);n=o*Math.sin(a),i=this.a*Pt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+o*(1-Math.cos(a))}return e.x=n+this.x0,e.y=i+this.y0,e}function W5(e){var t,r,n,i,a,s,o,l,u;if(n=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=D)t=R(n/this.a+this.long0),r=0;else{s=this.lat0+i/this.a,o=n*n/this.a/this.a+s*s,l=s;var c;for(a=J1;a;--a)if(c=Math.tan(l),u=-1*(s*(l*c+1)-l-.5*(l*l+o)*c)/((l-s)/c-1),l+=u,Math.abs(u)<=D){r=l;break}t=R(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=D)r=0,t=R(this.long0+n/this.a);else{s=(this.ml0+i)/this.a,o=n*n/this.a/this.a+s*s,l=s;var f,h,d,v,p;for(a=J1;a;--a)if(p=this.e*Math.sin(l),f=Math.sqrt(1-p*p)*Math.tan(l),h=this.a*Pt(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=h/this.a,u=(s*(f*v+1)-v-.5*f*(v*v+o))/(this.es*Math.sin(2*l)*(v*v+o-2*s*v)/(4*f)+(s-v)*(f*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=D){r=l;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=R(this.long0+Math.asin(n*f/this.a)/Math.sin(r))}return e.x=t,e.y=r,e}var K5=["Polyconic","American_Polyconic","poly"];const q5={init:z5,forward:F5,inverse:W5,names:K5};function H5(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function V5(e){var t,r=e.x,n=e.y,i=n-this.lat0,a=r-this.long0,s=i/yo*1e-5,o=a,l=1,u=0;for(t=1;t<=10;t++)l=l*s,u=u+this.A[t]*l;var c=u,f=o,h=1,d=0,v,p,y=0,m=0;for(t=1;t<=6;t++)v=h*c-d*f,p=d*c+h*f,h=v,d=p,y=y+this.B_re[t]*h-this.B_im[t]*d,m=m+this.B_im[t]*h+this.B_re[t]*d;return e.x=m*this.a+this.x0,e.y=y*this.a+this.y0,e}function Y5(e){var t,r=e.x,n=e.y,i=r-this.x0,a=n-this.y0,s=a/this.a,o=i/this.a,l=1,u=0,c,f,h=0,d=0;for(t=1;t<=6;t++)c=l*s-u*o,f=u*s+l*o,l=c,u=f,h=h+this.C_re[t]*l-this.C_im[t]*u,d=d+this.C_im[t]*l+this.C_re[t]*u;for(var v=0;v<this.iterations;v++){var p=h,y=d,m,g,w=s,_=o;for(t=2;t<=6;t++)m=p*h-y*d,g=y*h+p*d,p=m,y=g,w=w+(t-1)*(this.B_re[t]*p-this.B_im[t]*y),_=_+(t-1)*(this.B_im[t]*p+this.B_re[t]*y);p=1,y=0;var P=this.B_re[1],S=this.B_im[1];for(t=2;t<=6;t++)m=p*h-y*d,g=y*h+p*d,p=m,y=g,P=P+t*(this.B_re[t]*p-this.B_im[t]*y),S=S+t*(this.B_im[t]*p+this.B_re[t]*y);var E=P*P+S*S;h=(w*P+_*S)/E,d=(_*P-w*S)/E}var M=h,A=d,O=1,C=0;for(t=1;t<=9;t++)O=O*M,C=C+this.D[t]*O;var j=this.lat0+C*yo*1e5,G=this.long0+A;return e.x=G,e.y=j,e}var X5=["New_Zealand_Map_Grid","nzmg"];const Q5={init:H5,forward:V5,inverse:Y5,names:X5};function J5(){}function Z5(e){var t=e.x,r=e.y,n=R(t-this.long0),i=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=i,e.y=a,e}function eN(e){e.x-=this.x0,e.y-=this.y0;var t=R(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e}var tN=["Miller_Cylindrical","mill"];const rN={init:J5,forward:Z5,inverse:eN,names:tN};var nN=20;function iN(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Kp(this.es)}function aN(e){var t,r,n=e.x,i=e.y;if(n=R(n-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=nN;s;--s){var o=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<D)break}t=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);r=this.a*bs(i,l,u,this.en),t=this.a*n*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=r,e}function sN(e){var t,r,n,i;return e.x-=this.x0,n=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(t))),this.m?t=ii((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=ii(Math.sin(t)/this.n)),n=R(n+this.long0),t=vi(t)):(t=qp(e.y/this.a,this.es,this.en),i=Math.abs(t),i<T?(i=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),n=R(r)):i-D<T&&(n=this.long0)),e.x=n,e.y=t,e}var oN=["Sinusoidal","sinu"];const lN={init:iN,forward:aN,inverse:sN,names:oN};function uN(){}function cN(e){for(var t=e.x,r=e.y,n=R(t-this.long0),i=r,a=Math.PI*Math.sin(r);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<D)break}i/=2,Math.PI/2-Math.abs(r)<D&&(n=0);var o=.900316316158*this.a*n*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=o,e.y=l,e}function fN(e){var t,r;e.x-=this.x0,e.y-=this.y0,r=e.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),t=Math.asin(r);var n=R(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*t+Math.sin(2*t))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return e.x=n,e.y=i,e}var hN=["Mollweide","moll"];const dN={init:uN,forward:cN,inverse:fN,names:hN};function vN(){Math.abs(this.lat1+this.lat2)<D||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=pl(this.es),this.e1=gl(this.es),this.e2=ml(this.es),this.e3=yl(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Vr(this.e,this.sin_phi,this.cos_phi),this.ml1=Pt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<D?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Vr(this.e,this.sin_phi,this.cos_phi),this.ml2=Pt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Pt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function pN(e){var t=e.x,r=e.y,n;if(this.sphere)n=this.a*(this.g-r);else{var i=Pt(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-i)}var a=this.ns*R(t-this.long0),s=this.x0+n*Math.sin(a),o=this.y0+this.rh-n*Math.cos(a);return e.x=s,e.y=o,e}function gN(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,r,n,i;this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var a=0;if(r!==0&&(a=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=R(this.long0+a/this.ns),n=vi(this.g-r/this.a),e.x=i,e.y=n,e;var s=this.g-r/this.a;return n=bc(s,this.e0,this.e1,this.e2,this.e3),i=R(this.long0+a/this.ns),e.x=i,e.y=n,e}var mN=["Equidistant_Conic","eqdc"];const yN={init:vN,forward:pN,inverse:gN,names:mN};function wN(){this.R=this.a}function bN(e){var t=e.x,r=e.y,n=R(t-this.long0),i,a;Math.abs(r)<=D&&(i=this.x0+this.R*n,a=this.y0);var s=ii(2*Math.abs(r/Math.PI));(Math.abs(n)<=D||Math.abs(Math.abs(r)-T)<=D)&&(i=this.x0,r>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/n-n/Math.PI),l=o*o,u=Math.sin(s),c=Math.cos(s),f=c/(u+c-1),h=f*f,d=f*(2/u-1),v=d*d,p=Math.PI*this.R*(o*(f-v)+Math.sqrt(l*(f-v)*(f-v)-(v+l)*(h-v)))/(v+l);n<0&&(p=-p),i=this.x0+p;var y=l+f;return p=Math.PI*this.R*(d*y-o*Math.sqrt((v+l)*(l+1)-y*y))/(v+l),r>=0?a=this.y0+p:a=this.y0-p,e.x=i,e.y=a,e}function _N(e){var t,r,n,i,a,s,o,l,u,c,f,h,d;return e.x-=this.x0,e.y-=this.y0,f=Math.PI*this.R,n=e.x/f,i=e.y/f,a=n*n+i*i,s=-Math.abs(i)*(1+a),o=s-2*i*i+n*n,l=-2*s+1+2*i*i+a*a,d=i*i/l+(2*o*o*o/l/l/l-9*s*o/l/l)/27,u=(s-o*o/3/l)/l,c=2*Math.sqrt(-u/3),f=3*d/u/c,Math.abs(f)>1&&(f>=0?f=1:f=-1),h=Math.acos(f)/3,e.y>=0?r=(-c*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:r=-(-c*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(n)<D?t=this.long0:t=R(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n),e.x=t,e.y=r,e}var xN=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const SN={init:wN,forward:bN,inverse:_N,names:xN};function PN(e,t,r,n,i,a){const s=n-t,o=Math.atan((1-a)*Math.tan(e)),l=Math.atan((1-a)*Math.tan(r)),u=Math.sin(o),c=Math.cos(o),f=Math.sin(l),h=Math.cos(l);let d=s,v,p=100,y,m,g,w,_,P,S,E,M,A,O,C,j,G;do{if(y=Math.sin(d),m=Math.cos(d),g=Math.sqrt(h*y*(h*y)+(c*f-u*h*m)*(c*f-u*h*m)),g===0)return{azi1:0,s12:0};w=u*f+c*h*m,_=Math.atan2(g,w),P=c*h*y/g,S=1-P*P,E=S!==0?w-2*u*f/S:0,M=a/16*S*(4+a*(4-3*S)),v=d,d=s+(1-M)*a*P*(_+M*g*(E+M*w*(-1+2*E*E)))}while(Math.abs(d-v)>1e-12&&--p>0);return p===0?{azi1:NaN,s12:NaN}:(A=S*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),O=1+A/16384*(4096+A*(-768+A*(320-175*A))),C=A/1024*(256+A*(-128+A*(74-47*A))),j=C*g*(E+C/4*(w*(-1+2*E*E)-C/6*E*(-3+4*g*g)*(-3+4*E*E))),G=i*(1-a)*O*(_-j),{azi1:Math.atan2(h*y,c*f-u*h*m),s12:G})}function EN(e,t,r,n,i,a){const s=Math.atan((1-a)*Math.tan(e)),o=Math.sin(s),l=Math.cos(s),u=Math.sin(r),c=Math.cos(r),f=Math.atan2(o,l*c),h=l*u,d=1-h*h,v=d*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),p=1+v/16384*(4096+v*(-768+v*(320-175*v))),y=v/1024*(256+v*(-128+v*(74-47*v)));let m=n/(i*(1-a)*p),g,w=100,_,P,S,E;do _=Math.cos(2*f+m),P=Math.sin(m),S=Math.cos(m),E=y*P*(_+y/4*(S*(-1+2*_*_)-y/6*_*(-3+4*P*P)*(-3+4*_*_))),g=m,m=n/(i*(1-a)*p)+E;while(Math.abs(m-g)>1e-12&&--w>0);if(w===0)return{lat2:NaN,lon2:NaN};const M=o*P-l*S*c,A=Math.atan2(o*S+l*P*c,(1-a)*Math.sqrt(h*h+M*M)),O=Math.atan2(P*u,l*S-o*P*c),C=a/16*d*(4+a*(4-3*d)),j=O-(1-C)*a*h*(m+C*P*(_+C*S*(-1+2*_*_))),G=t+j;return{lat2:A,lon2:G}}function MN(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function kN(e){var t=e.x,r=e.y,n=Math.sin(e.y),i=Math.cos(e.y),a=R(t-this.long0),s,o,l,u,c,f,h,d,v,p,y;return this.sphere?Math.abs(this.sin_p12-1)<=D?(e.x=this.x0+this.a*(T-r)*Math.sin(a),e.y=this.y0-this.a*(T-r)*Math.cos(a),e):Math.abs(this.sin_p12+1)<=D?(e.x=this.x0+this.a*(T+r)*Math.sin(a),e.y=this.y0+this.a*(T+r)*Math.cos(a),e):(v=this.sin_p12*n+this.cos_p12*i*Math.cos(a),h=Math.acos(v),d=h?h/Math.sin(h):1,e.x=this.x0+this.a*d*i*Math.sin(a),e.y=this.y0+this.a*d*(this.cos_p12*n-this.sin_p12*i*Math.cos(a)),e):(s=pl(this.es),o=gl(this.es),l=ml(this.es),u=yl(this.es),Math.abs(this.sin_p12-1)<=D?(c=this.a*Pt(s,o,l,u,T),f=this.a*Pt(s,o,l,u,r),e.x=this.x0+(c-f)*Math.sin(a),e.y=this.y0-(c-f)*Math.cos(a),e):Math.abs(this.sin_p12+1)<=D?(c=this.a*Pt(s,o,l,u,T),f=this.a*Pt(s,o,l,u,r),e.x=this.x0+(c+f)*Math.sin(a),e.y=this.y0+(c+f)*Math.cos(a),e):Math.abs(t)<D&&Math.abs(r-this.lat0)<D?(e.x=e.y=0,e):(p=PN(this.lat0,this.long0,r,t,this.a,this.f),y=p.azi1,e.x=p.s12*Math.sin(y),e.y=p.s12*Math.cos(y),e))}function AN(e){e.x-=this.x0,e.y-=this.y0;var t,r,n,i,a,s,o,l,u,c,f,h,d,v,p,y;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*T*this.a?void 0:(r=t/this.a,n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(t)<=D?s=this.lat0:(s=ii(i*this.sin_p12+e.y*n*this.cos_p12/t),o=Math.abs(this.lat0)-T,Math.abs(o)<=D?this.lat0>=0?a=R(this.long0+Math.atan2(e.x,-e.y)):a=R(this.long0-Math.atan2(-e.x,e.y)):a=R(this.long0+Math.atan2(e.x*n,t*this.cos_p12*i-e.y*this.sin_p12*n))),e.x=a,e.y=s,e)):(l=pl(this.es),u=gl(this.es),c=ml(this.es),f=yl(this.es),Math.abs(this.sin_p12-1)<=D?(h=this.a*Pt(l,u,c,f,T),t=Math.sqrt(e.x*e.x+e.y*e.y),d=h-t,s=bc(d/this.a,l,u,c,f),a=R(this.long0+Math.atan2(e.x,-1*e.y)),e.x=a,e.y=s,e):Math.abs(this.sin_p12+1)<=D?(h=this.a*Pt(l,u,c,f,T),t=Math.sqrt(e.x*e.x+e.y*e.y),d=t-h,s=bc(d/this.a,l,u,c,f),a=R(this.long0+Math.atan2(e.x,e.y)),e.x=a,e.y=s,e):(v=Math.atan2(e.x,e.y),p=Math.sqrt(e.x*e.x+e.y*e.y),y=EN(this.lat0,this.long0,v,p,this.a,this.f),e.x=y.lon2,e.y=y.lat2,e))}var ON=["Azimuthal_Equidistant","aeqd"];const CN={init:MN,forward:kN,inverse:AN,names:ON};function TN(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function jN(e){var t,r,n,i,a,s,o,l,u=e.x,c=e.y;return n=R(u-this.long0),t=Math.sin(c),r=Math.cos(c),i=Math.cos(n),s=this.sin_p14*t+this.cos_p14*r*i,a=1,(s>0||Math.abs(s)<=D)&&(o=this.a*a*r*Math.sin(n),l=this.y0+this.a*a*(this.cos_p14*t-this.sin_p14*r*i)),e.x=o,e.y=l,e}function NN(e){var t,r,n,i,a,s,o;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=ii(t/this.a),n=Math.sin(r),i=Math.cos(r),s=this.long0,Math.abs(t)<=D?(o=this.lat0,e.x=s,e.y=o,e):(o=ii(i*this.sin_p14+e.y*n*this.cos_p14/t),a=Math.abs(this.lat0)-T,Math.abs(a)<=D?(this.lat0>=0?s=R(this.long0+Math.atan2(e.x,-e.y)):s=R(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=o,e):(s=R(this.long0+Math.atan2(e.x*n,t*this.cos_p14*i-e.y*this.sin_p14*n)),e.x=s,e.y=o,e))}var IN=["ortho"];const $N={init:TN,forward:jN,inverse:NN,names:IN};var Me={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},oe={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function DN(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=T-se/2?this.face=Me.TOP:this.lat0<=-(T-se/2)?this.face=Me.BOTTOM:Math.abs(this.long0)<=se?this.face=Me.FRONT:Math.abs(this.long0)<=T+se?this.face=this.long0>0?Me.RIGHT:Me.LEFT:this.face=Me.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function RN(e){var t={x:0,y:0},r,n,i,a,s,o,l={value:0};if(e.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):r=e.y,n=e.x,this.face===Me.TOP)a=T-r,n>=se&&n<=T+se?(l.value=oe.AREA_0,i=n-T):n>T+se||n<=-(T+se)?(l.value=oe.AREA_1,i=n>0?n-Ie:n+Ie):n>-(T+se)&&n<=-se?(l.value=oe.AREA_2,i=n+T):(l.value=oe.AREA_3,i=n);else if(this.face===Me.BOTTOM)a=T+r,n>=se&&n<=T+se?(l.value=oe.AREA_0,i=-n+T):n<se&&n>=-se?(l.value=oe.AREA_1,i=-n):n<-se&&n>=-(T+se)?(l.value=oe.AREA_2,i=-n-T):(l.value=oe.AREA_3,i=n>0?-n+Ie:-n-Ie);else{var u,c,f,h,d,v,p;this.face===Me.RIGHT?n=Va(n,+T):this.face===Me.BACK?n=Va(n,+Ie):this.face===Me.LEFT&&(n=Va(n,-T)),h=Math.sin(r),d=Math.cos(r),v=Math.sin(n),p=Math.cos(n),u=d*p,c=d*v,f=h,this.face===Me.FRONT?(a=Math.acos(u),i=uu(a,f,c,l)):this.face===Me.RIGHT?(a=Math.acos(c),i=uu(a,f,-u,l)):this.face===Me.BACK?(a=Math.acos(-u),i=uu(a,f,-c,l)):this.face===Me.LEFT?(a=Math.acos(-c),i=uu(a,f,u,l)):(a=i=0,l.value=oe.AREA_0)}return o=Math.atan(12/Ie*(i+Math.acos(Math.sin(i)*Math.cos(se))-T)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===oe.AREA_1?o+=T:l.value===oe.AREA_2?o+=Ie:l.value===oe.AREA_3&&(o+=1.5*Ie),t.x=s*Math.cos(o),t.y=s*Math.sin(o),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function LN(e){var t={lam:0,phi:0},r,n,i,a,s,o,l,u,c,f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),r=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=oe.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=oe.AREA_1,r-=T):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=oe.AREA_2,r=r<0?r+Ie:r-Ie):(f.value=oe.AREA_3,r+=T),c=Ie/12*Math.tan(r),s=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),o=Math.atan(s),i=Math.cos(r),a=Math.tan(n),l=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===Me.TOP)u=Math.acos(l),t.phi=T-u,f.value===oe.AREA_0?t.lam=o+T:f.value===oe.AREA_1?t.lam=o<0?o+Ie:o-Ie:f.value===oe.AREA_2?t.lam=o-T:t.lam=o;else if(this.face===Me.BOTTOM)u=Math.acos(l),t.phi=u-T,f.value===oe.AREA_0?t.lam=-o+T:f.value===oe.AREA_1?t.lam=-o:f.value===oe.AREA_2?t.lam=-o-T:t.lam=o<0?-o-Ie:-o+Ie;else{var h,d,v;h=l,c=h*h,c>=1?v=0:v=Math.sqrt(1-c)*Math.sin(o),c+=v*v,c>=1?d=0:d=Math.sqrt(1-c),f.value===oe.AREA_1?(c=d,d=-v,v=c):f.value===oe.AREA_2?(d=-d,v=-v):f.value===oe.AREA_3&&(c=d,d=v,v=-c),this.face===Me.RIGHT?(c=h,h=-d,d=c):this.face===Me.BACK?(h=-h,d=-d):this.face===Me.LEFT&&(c=h,h=d,d=-c),t.phi=Math.acos(-v)-T,t.lam=Math.atan2(d,h),this.face===Me.RIGHT?t.lam=Va(t.lam,-T):this.face===Me.BACK?t.lam=Va(t.lam,-Ie):this.face===Me.LEFT&&(t.lam=Va(t.lam,+T))}if(this.es!==0){var p,y,m;p=t.phi<0?1:0,y=Math.tan(t.phi),m=this.b/Math.sqrt(y*y+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-m*m)/(this.one_minus_f*m)),p&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function uu(e,t,r,n){var i;return e<D?(n.value=oe.AREA_0,i=0):(i=Math.atan2(t,r),Math.abs(i)<=se?n.value=oe.AREA_0:i>se&&i<=T+se?(n.value=oe.AREA_1,i-=T):i>T+se||i<=-(T+se)?(n.value=oe.AREA_2,i=i>=0?i-Ie:i+Ie):(n.value=oe.AREA_3,i+=T)),i}function Va(e,t){var r=e+t;return r<-Ie?r+=Wo:r>+Ie&&(r-=Wo),r}var GN=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const UN={init:DN,forward:RN,inverse:LN,names:GN};var H0=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ro=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],XS=.8487,QS=1.3523,JS=Fr/5,BN=1/JS,Ga=18,_c=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},zN=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function FN(e,t,r,n){for(var i=t;n;--n){var a=e(i);if(i-=a,Math.abs(a)<r)break}return i}function WN(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function KN(e){var t=R(e.x-this.long0),r=Math.abs(e.y),n=Math.floor(r*JS);n<0?n=0:n>=Ga&&(n=Ga-1),r=Fr*(r-BN*n);var i={x:_c(H0[n],r)*t,y:_c(ro[n],r)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*XS+this.x0,i.y=i.y*this.a*QS+this.y0,i}function qN(e){var t={x:(e.x-this.x0)/(this.a*XS),y:Math.abs(e.y-this.y0)/(this.a*QS)};if(t.y>=1)t.x/=H0[Ga][0],t.y=e.y<0?-T:T;else{var r=Math.floor(t.y*Ga);for(r<0?r=0:r>=Ga&&(r=Ga-1);;)if(ro[r][0]>t.y)--r;else if(ro[r+1][0]<=t.y)++r;else break;var n=ro[r],i=5*(t.y-n[0])/(ro[r+1][0]-n[0]);i=FN(function(a){return(_c(n,a)-t.y)/zN(n,a)},i,D,100),t.x/=_c(H0[r],i),t.y=(5*r+i)*at,e.y<0&&(t.y=-t.y)}return t.x=R(t.x+this.long0),t}var HN=["Robinson","robin"];const VN={init:WN,forward:KN,inverse:qN,names:HN};function YN(){this.name="geocent"}function XN(e){var t=GS(e,this.es,this.a);return t}function QN(e){var t=US(e,this.es,this.a,this.b);return t}var JN=["Geocentric","geocentric","geocent","Geocent"];const ZN={init:YN,forward:XN,inverse:QN,names:JN};var pt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Us={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function eI(){if(Object.keys(Us).forEach((function(r){if(typeof this[r]>"u")this[r]=Us[r].def;else{if(Us[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);Us[r].num&&(this[r]=parseFloat(this[r]))}Us[r].degrees&&(this[r]=this[r]*at)}).bind(this)),Math.abs(Math.abs(this.lat0)-T)<D?this.mode=this.lat0<0?pt.S_POLE:pt.N_POLE:Math.abs(this.lat0)<D?this.mode=pt.EQUIT:(this.mode=pt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function tI(e){e.x-=this.long0;var t=Math.sin(e.y),r=Math.cos(e.y),n=Math.cos(e.x),i,a;switch(this.mode){case pt.OBLIQ:a=this.sinph0*t+this.cosph0*r*n;break;case pt.EQUIT:a=r*n;break;case pt.S_POLE:a=-t;break;case pt.N_POLE:a=t;break}switch(a=this.pn1/(this.p-a),i=a*r*Math.sin(e.x),this.mode){case pt.OBLIQ:a*=this.cosph0*t-this.sinph0*r*n;break;case pt.EQUIT:a*=t;break;case pt.N_POLE:a*=-(r*n);break;case pt.S_POLE:a*=r*n;break}var s,o;return s=a*this.cg+i*this.sg,o=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*o,a=s*o,e.x=i*this.a,e.y=a*this.a,e}function rI(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},r,n,i;i=1/(this.pn1-e.y*this.sw),r=this.pn1*e.x*i,n=this.pn1*e.y*this.cw*i,e.x=r*this.cg+n*this.sg,e.y=n*this.cg-r*this.sg;var a=It(e.x,e.y);if(Math.abs(a)<D)t.x=0,t.y=e.y;else{var s,o;switch(o=1-a*a*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-o*o),this.mode){case pt.OBLIQ:t.y=Math.asin(s*this.sinph0+e.y*o*this.cosph0/a),e.y=(s-this.sinph0*Math.sin(t.y))*a,e.x*=o*this.cosph0;break;case pt.EQUIT:t.y=Math.asin(e.y*o/a),e.y=s*a,e.x*=o;break;case pt.N_POLE:t.y=Math.asin(s),e.y=-e.y;break;case pt.S_POLE:t.y=-Math.asin(s);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var nI=["Tilted_Perspective","tpers"];const iI={init:eI,forward:tI,inverse:rI,names:nI};function aI(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function sI(e){var t=e.x,r=e.y,n,i,a,s;if(t=t-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var o=this.radius_p/It(this.radius_p*Math.cos(r),Math.sin(r));if(i=o*Math.cos(t)*Math.cos(r),a=o*Math.sin(t)*Math.cos(r),s=o*Math.sin(r),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;n=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/It(s,n)),e.y=this.radius_g_1*Math.atan(s/n)):(e.x=this.radius_g_1*Math.atan(a/n),e.y=this.radius_g_1*Math.atan(s/It(a,n)))}else this.shape==="sphere"&&(n=Math.cos(r),i=Math.cos(t)*n,a=Math.sin(t)*n,s=Math.sin(r),n=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/It(s,n)),e.y=this.radius_g_1*Math.atan(s/n)):(e.x=this.radius_g_1*Math.atan(a/n),e.y=this.radius_g_1*Math.atan(s/It(a,n))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function oI(e){var t=-1,r=0,n=0,i,a,s,o;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*It(1,n)):(r=Math.tan(e.x/this.radius_g_1),n=Math.tan(e.y/this.radius_g_1)*It(1,r));var l=n/this.radius_p;if(i=r*r+l*l+t*t,a=2*this.radius_g*t,s=a*a-4*i*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-a-Math.sqrt(s))/(2*i),t=this.radius_g+o*t,r*=o,n*=o,e.x=Math.atan2(r,t),e.y=Math.atan(n*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(e.x/this.radius_g_1),n=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+r*r)),i=r*r+n*n+t*t,a=2*this.radius_g*t,s=a*a-4*i*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-a-Math.sqrt(s))/(2*i),t=this.radius_g+o*t,r*=o,n*=o,e.x=Math.atan2(r,t),e.y=Math.atan(n*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var lI=["Geostationary Satellite View","Geostationary_Satellite","geos"];const uI={init:aI,forward:sI,inverse:oI,names:lI};var wo=1.340264,bo=-.081106,_o=893e-6,xo=.003796,xc=Math.sqrt(3)/2;function cI(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function fI(e){var t=R(e.x-this.long0),r=e.y,n=Math.asin(xc*Math.sin(r)),i=n*n,a=i*i*i;return e.x=t*Math.cos(n)/(xc*(wo+3*bo*i+a*(7*_o+9*xo*i))),e.y=n*(wo+bo*i+a*(_o+xo*i)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function hI(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,r=12,n=e.y,i,a,s,o,l,u;for(u=0;u<r&&(i=n*n,a=i*i*i,s=n*(wo+bo*i+a*(_o+xo*i))-e.y,o=wo+3*bo*i+a*(7*_o+9*xo*i),n-=l=s/o,!(Math.abs(l)<t));++u);return i=n*n,a=i*i*i,e.x=xc*e.x*(wo+3*bo*i+a*(7*_o+9*xo*i))/Math.cos(n),e.y=Math.asin(Math.sin(n)/xc),e.x=R(e.x+this.long0),e}var dI=["eqearth","Equal Earth","Equal_Earth"];const vI={init:cI,forward:fI,inverse:hI,names:dI};var Ho=1e-10;function pI(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Ho)throw new Error;this.es?(this.en=Kp(this.es),this.m1=bs(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=mI,this.forward=gI):(Math.abs(this.phi1)+Ho>=T?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=wI,this.forward=yI)}function gI(e){var t=R(e.x-(this.long0||0)),r=e.y,n,i,a;return n=this.am1+this.m1-bs(r,i=Math.sin(r),a=Math.cos(r),this.en),i=a*t/(n*Math.sqrt(1-this.es*i*i)),e.x=n*Math.sin(i),e.y=this.am1-n*Math.cos(i),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function mI(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,n,i;if(r=It(e.x,e.y=this.am1-e.y),i=qp(this.am1+this.m1-r,this.es,this.en),(t=Math.abs(i))<T)t=Math.sin(i),n=r*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(i);else if(Math.abs(t-T)<=Ho)n=0;else throw new Error;return e.x=R(n+(this.long0||0)),e.y=vi(i),e}function yI(e){var t=R(e.x-(this.long0||0)),r=e.y,n,i;return i=this.cphi1+this.phi1-r,Math.abs(i)>Ho?(e.x=i*Math.sin(n=t*Math.cos(r)/i),e.y=this.cphi1-i*Math.cos(n)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function wI(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,n=It(e.x,e.y=this.cphi1-e.y);if(r=this.cphi1+this.phi1-n,Math.abs(r)>T)throw new Error;return Math.abs(Math.abs(r)-T)<=Ho?t=0:t=n*Math.atan2(e.x,e.y)/Math.cos(r),e.x=R(t+(this.long0||0)),e.y=vi(r),e}var bI=["bonne","Bonne (Werner lat_1=90)"];const _I={init:pI,names:bI};function xI(e){e.Proj.projections.add(Gu),e.Proj.projections.add(Uu),e.Proj.projections.add(wj),e.Proj.projections.add(Oj),e.Proj.projections.add(Ij),e.Proj.projections.add(Gj),e.Proj.projections.add(Kj),e.Proj.projections.add(Xj),e.Proj.projections.add(t5),e.Proj.projections.add(s5),e.Proj.projections.add(w5),e.Proj.projections.add(E5),e.Proj.projections.add(C5),e.Proj.projections.add(D5),e.Proj.projections.add(B5),e.Proj.projections.add(q5),e.Proj.projections.add(Q5),e.Proj.projections.add(rN),e.Proj.projections.add(lN),e.Proj.projections.add(dN),e.Proj.projections.add(yN),e.Proj.projections.add(SN),e.Proj.projections.add(CN),e.Proj.projections.add($N),e.Proj.projections.add(UN),e.Proj.projections.add(VN),e.Proj.projections.add(ZN),e.Proj.projections.add(iI),e.Proj.projections.add(uI),e.Proj.projections.add(vI),e.Proj.projections.add(_I)}const SI=Object.assign(DT,{defaultDatum:"WGS84",Proj:Dr,WGS84:new Dr("WGS84"),Point:as,toPoint:BS,defs:_t,nadgrid:yT,transform:wc,mgrs:RT,version:"__VERSION__"});xI(SI);var PI,Z1=()=>new DecompressionStream("deflate-raw");try{Z1(),PI=async e=>{let t=Z1(),r=t.writable.getWriter(),n=t.readable.getReader(),i,a=[],s=0,o=0,l;for(r.write(e),r.close();!(l=await n.read()).done;)i=l.value,a.push(i),s+=i.length;return!a[1]&&i||(i=new Uint8Array(s),a.map(u=>(i.set(u,o),o+=u.length))),i}}catch{}new TextDecoder;new TextDecoder;function EI({onReportIssue:e}){const t=b.useRef(null),r=b.useRef(null),n=b.useRef(null),{layers:i}=MS(),[a,s]=b.useState([]),o=b.useRef([]),l=b.useRef([]);b.useState(!1);const[u,c]=b.useState([]),f=b.useRef(null);b.useEffect(()=>!t.current||n.current?void 0:(new ji({apiKey:"AIzaSyD3FwPb18eONEW_K7Gt6obV3k-QWifMz7k",version:"weekly",libraries:["places","marker"]}).load().then(()=>{n.current=new google.maps.Map(t.current,{center:{lat:-9.19,lng:-75.015},zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP,mapId:"DEMO_MAP_ID"}),f.current=new google.maps.Geocoder,n.current.addListener("click",w=>{w.latLng&&e(w.latLng.lat(),w.latLng.lng())}),n.current.addListener("idle",()=>{i.find(_=>_.type==="temperature"&&_.is_active)&&d()})}),()=>{n.current&&(n.current=null),p()}),[e]);const h=()=>{if(!f.current||!r.current||!n.current)return;const g=r.current.value;g&&f.current.geocode({address:g},(w,_)=>{if(_==="OK"&&w&&w[0]){const P=w[0].geometry.location;n.current.setCenter(P),n.current.setZoom(15)}else alert("No se encontró la dirección o coordenadas.")})};b.useEffect(()=>{y(),console.log("Layers loaded:",i),console.log("Active temperature layer present:",i.some(w=>w.type==="temperature"&&w.is_active));const g=Le.channel("issues_changes").on("postgres_changes",{event:"*",schema:"public",table:"issues"},()=>{y()}).subscribe();return()=>{g.unsubscribe()}},[i]),b.useEffect(()=>{console.log("🌡️ Temperature effect triggered. Layers:",i.map(w=>({name:w.name,type:w.type,active:w.is_active})));const g=i.find(w=>w.type==="temperature");console.log("🔍 Temperature layer found:",g),g&&g.is_active&&n.current?(console.log("✅ Temperature layer is active - loading data"),d()):(console.log("❌ Temperature layer not active or no map - clearing markers"),p(),c([]))},[i]);const d=async()=>{if(console.log("🌡️ loadTemperatureData called"),!n.current){console.log("❌ No map instance available");return}try{const g=n.current.getBounds();if(!g){console.log("❌ No map bounds available");return}const w=g.getNorthEast(),_=g.getSouthWest();console.log("📍 Loading temperature data for bounds:",{sw:{lat:_.lat(),lng:_.lng()},ne:{lat:w.lat(),lng:w.lng()}}),console.log("🔄 Calling meteomaticsService.getTemperatureGrid...");const P=await M6.getTemperatureGrid(_.lat(),w.lat(),_.lng(),w.lng());console.log("📊 Temperature data loaded:",P.length,"points"),console.log("📋 Sample data points:",P.slice(0,3)),c(P),v(P)}catch(g){console.error("❌ Error loading temperature data:",g)}},v=async g=>{if(!n.current)return;p();const{AdvancedMarkerElement:w}=await google.maps.importLibrary("marker");g.forEach(_=>{const P=document.createElement("div");P.innerHTML=`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: rgba(59, 130, 246, 0.8);
          border: 2px solid white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          font-weight: bold;
          color: white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        ">
          ${Math.round(_.temperature)}°C
        </div>
      `;const S=new w({position:{lat:_.lat,lng:_.lng},map:n.current,content:P});l.current.push(S)})},p=()=>{l.current.forEach(g=>{"setMap"in g?g.setMap(null):g.map=null}),l.current=[]},y=async()=>{const{data:g}=await Le.from("issues").select("*").order("created_at",{ascending:!1}).limit(100);g&&(s(g),m(g))},m=async g=>{if(!n.current)return;o.current.forEach(_=>_.setMap(null)),o.current=[];const{AdvancedMarkerElement:w}=await google.maps.importLibrary("marker");g.forEach(_=>{if(!n.current)return;const S={low:"#10b981",medium:"#f59e0b",high:"#f97316",critical:"#ef4444"}[_.priority]||"#6b7280",E=document.createElement("div");E.innerHTML=`
        <div style="
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background: ${S};
          border: 3px solid white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        "></div>
      `;const M=new w({position:{lat:_.latitude,lng:_.longitude},map:n.current,content:E}),A=new google.maps.InfoWindow({content:`
          <div style="padding: 8px;">
            <h3 style="font-weight: bold; font-size: 14px; margin-bottom: 4px;">${_.title}</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">${_.description}</p>
            <div style="display: flex; gap: 8px; font-size: 12px;">
              <span style="padding: 4px 8px; background: #f3f4f6; border-radius: 4px;">${_.category}</span>
              <span style="padding: 4px 8px; background: ${_.priority==="critical"?"#fee2e2":_.priority==="high"?"#fed7aa":"#dbeafe"}; border-radius: 4px;">${_.priority}</span>
            </div>
          </div>
        `});M.addListener("click",()=>{A.open(n.current,M)}),o.current.push(M)})};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"relative w-full h-full",children:[x.jsxs("div",{className:"absolute top-4 left-96 z-20 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[x.jsx("input",{ref:r,type:"text",placeholder:"Buscar dirección o coordenadas",className:"border border-gray-300 rounded px-2 py-1 text-sm w-64",onKeyDown:g=>{g.key==="Enter"&&h()}}),x.jsx("button",{onClick:h,className:"bg-blue-600 text-white rounded px-3 py-1 text-sm hover:bg-blue-700",children:"Buscar"})]}),x.jsx("div",{ref:t,className:"absolute inset-0"}),x.jsxs("div",{className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-4 z-10",children:[x.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Legend"}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),x.jsx("span",{className:"text-xs text-gray-700",children:"Low Priority"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),x.jsx("span",{className:"text-xs text-gray-700",children:"Medium Priority"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),x.jsx("span",{className:"text-xs text-gray-700",children:"High Priority"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),x.jsx("span",{className:"text-xs text-gray-700",children:"Critical"})]})]})]})]})})}function ZS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=ZS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ae(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=ZS(e))&&(n&&(n+=" "),n+=t);return n}var Cf={},eP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(eP);var Jp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Jp);var Zp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Zp);var Tf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];o?u==="\\"&&a+1<i?(a++,s+=r[a]):u===o?o="":s+=u:l?u==='"'||u==="'"?o=u:u==="]"?(l=!1,n.push(s),s=""):s+=u:u==="["?(l=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,a++}return s&&n.push(s),n}e.toPath=t})(Tf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP,r=Jp,n=Zp,i=Tf;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(Cf);var MI=Cf.get;const Zi=_n(MI);var tP={exports:{}},he={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.transitional.element"),tg=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),$f=Symbol.for("react.consumer"),Df=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Uf=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy"),kI=Symbol.for("react.view_transition"),AI=Symbol.for("react.client.reference");function _r(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eg:switch(e=e.type,e){case jf:case If:case Nf:case Lf:case Gf:case kI:return e;default:switch(e=e&&e.$$typeof,e){case Df:case Rf:case Bf:case Uf:return e;case $f:return e;default:return t}}case tg:return t}}}he.ContextConsumer=$f;he.ContextProvider=Df;he.Element=eg;he.ForwardRef=Rf;he.Fragment=jf;he.Lazy=Bf;he.Memo=Uf;he.Portal=tg;he.Profiler=If;he.StrictMode=Nf;he.Suspense=Lf;he.SuspenseList=Gf;he.isContextConsumer=function(e){return _r(e)===$f};he.isContextProvider=function(e){return _r(e)===Df};he.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eg};he.isForwardRef=function(e){return _r(e)===Rf};he.isFragment=function(e){return _r(e)===jf};he.isLazy=function(e){return _r(e)===Bf};he.isMemo=function(e){return _r(e)===Uf};he.isPortal=function(e){return _r(e)===tg};he.isProfiler=function(e){return _r(e)===If};he.isStrictMode=function(e){return _r(e)===Nf};he.isSuspense=function(e){return _r(e)===Lf};he.isSuspenseList=function(e){return _r(e)===Gf};he.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jf||e===If||e===Nf||e===Lf||e===Gf||typeof e=="object"&&e!==null&&(e.$$typeof===Bf||e.$$typeof===Uf||e.$$typeof===Df||e.$$typeof===$f||e.$$typeof===Rf||e.$$typeof===AI||e.getModuleId!==void 0)};he.typeOf=_r;tP.exports=he;var OI=tP.exports,Ze=e=>e===0?0:e>0?1:-1,er=e=>typeof e=="number"&&e!=+e,Di=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,q=e=>(typeof e=="number"||e instanceof Number)&&!er(e),Yr=e=>q(e)||typeof e=="string",CI=0,Vo=e=>{var t=++CI;return"".concat(e||"").concat(t)},yt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!q(t)&&typeof t!="string")return n;var a;if(Di(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return er(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},rP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function je(e,t,r){return q(e)&&q(t)?e+r*(t-e):t}function nP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Zi(n,t))===r)}var Pe=e=>e===null||typeof e>"u",wl=e=>Pe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),TI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rg(e){if(typeof e!="string")return!1;var t=TI;return t.includes(e)}var jI=["viewBox","children"],ew=["points","pathLength"],ud={svg:jI,polygon:ew,polyline:ew},ng=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{rg(i)&&(n[i]=a=>r[i](r,a))}),n},NI=(e,t,r)=>n=>(e(t,r,n),null),zf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];rg(i)&&typeof a=="function"&&(n||(n={}),n[i]=NI(a,t,r))}),n},II=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function iP(e){if(typeof e!="string")return!1;var t=II;return t.includes(e)}function Qr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return iP(n)});return Object.fromEntries(t)}var tw=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",rw=null,cd=null,aP=e=>{if(e===rw&&Array.isArray(cd))return cd;var t=[];return b.Children.forEach(e,r=>{Pe(r)||(OI.isFragment(r)?t=t.concat(aP(r.props.children)):t.push(r))}),cd=t,rw=e,t};function ig(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>tw(i)):n=[tw(t)],aP(e).forEach(i=>{var a=Zi(i,"type.displayName")||Zi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var sP=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,$I=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(ud==null?void 0:ud[n]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&a.includes(t)||iP(t)),l=!!r&&rg(t);return s||o||l},Ce=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;$I((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},DI=["children","width","height","viewBox","className","style","title","desc"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(null,arguments)}function RI(e,t){if(e==null)return{};var r,n,i=LI(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oP=b.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=RI(e,DI),f=a||{width:n,height:i,x:0,y:0},h=ae("recharts-surface",s);return b.createElement("svg",V0({},Ce(c,!0,"svg"),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,l),b.createElement("desc",null,u),r)}),GI=["children","className"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function UI(e,t){if(e==null)return{};var r,n,i=BI(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ut=b.forwardRef((e,t)=>{var{children:r,className:n}=e,i=UI(e,GI),a=ae("recharts-layer",n);return b.createElement("g",Y0({className:a},Ce(i,!0),{ref:t}),r)}),zI=b.createContext(null);function pe(e){return function(){return e}}const lP=Math.cos,Sc=Math.sin,Lr=Math.sqrt,Pc=Math.PI,Ff=2*Pc,X0=Math.PI,Q0=2*X0,Ai=1e-6,FI=Q0-Ai;function uP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uP;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class KI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uP:WI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,f=o-r,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ai)if(!(Math.abs(f*l-u*c)>Ai)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,v=i-o,p=l*l+u*u,y=d*d+v*v,m=Math.sqrt(p),g=Math.sqrt(h),w=a*Math.tan((X0-Math.acos((p+h-y)/(2*m*g)))/2),_=w/g,P=w/m;Math.abs(_-1)>Ai&&this._append`L${t+_*c},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*d>c*v)},${this._x1=t+P*l},${this._y1=r+P*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ai||Math.abs(this._y1-c)>Ai)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%Q0+Q0),h>FI?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:h>Ai&&this._append`A${n},${n},0,${+(h>=X0)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ag(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new KI(t)}function sg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cP(e){this._context=e}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wf(e){return new cP(e)}function fP(e){return e[0]}function hP(e){return e[1]}function dP(e,t){var r=pe(!0),n=null,i=Wf,a=null,s=ag(o);e=typeof e=="function"?e:e===void 0?fP:pe(e),t=typeof t=="function"?t:t===void 0?hP:pe(t);function o(l){var u,c=(l=sg(l)).length,f,h=!1,d;for(n==null&&(a=i(d=s())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(d)return a=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:pe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:pe(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:pe(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function cu(e,t,r){var n=null,i=pe(!0),a=null,s=Wf,o=null,l=ag(u);e=typeof e=="function"?e:e===void 0?fP:pe(+e),t=typeof t=="function"?t:pe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?hP:pe(+r);function u(f){var h,d,v,p=(f=sg(f)).length,y,m=!1,g,w=new Array(p),_=new Array(p);for(a==null&&(o=s(g=l())),h=0;h<=p;++h){if(!(h<p&&i(y=f[h],h,f))===m)if(m=!m)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=d;--v)o.point(w[v],_[v]);o.lineEnd(),o.areaEnd()}m&&(w[h]=+e(y,h,f),_[h]=+t(y,h,f),o.point(n?+n(y,h,f):w[h],r?+r(y,h,f):_[h]))}if(g)return o=null,g+""||null}function c(){return dP().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:pe(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:pe(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pe(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:pe(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:pe(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pe(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:pe(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class vP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qI(e){return new vP(e,!0)}function HI(e){return new vP(e,!1)}const og={draw(e,t){const r=Lr(t/Pc);e.moveTo(r,0),e.arc(0,0,r,0,Ff)}},VI={draw(e,t){const r=Lr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},pP=Lr(1/3),YI=pP*2,XI={draw(e,t){const r=Lr(t/YI),n=r*pP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},QI={draw(e,t){const r=Lr(t),n=-r/2;e.rect(n,n,r,r)}},JI=.8908130915292852,gP=Sc(Pc/10)/Sc(7*Pc/10),ZI=Sc(Ff/10)*gP,e7=-lP(Ff/10)*gP,t7={draw(e,t){const r=Lr(t*JI),n=ZI*r,i=e7*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Ff*a/5,o=lP(s),l=Sc(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},fd=Lr(3),r7={draw(e,t){const r=-Lr(t/(fd*3));e.moveTo(0,r*2),e.lineTo(-fd*r,-r),e.lineTo(fd*r,-r),e.closePath()}},sr=-.5,or=Lr(3)/2,J0=1/Lr(12),n7=(J0/2+1)*3,i7={draw(e,t){const r=Lr(t/n7),n=r/2,i=r*J0,a=n,s=r*J0+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(sr*n-or*i,or*n+sr*i),e.lineTo(sr*a-or*s,or*a+sr*s),e.lineTo(sr*o-or*l,or*o+sr*l),e.lineTo(sr*n+or*i,sr*i-or*n),e.lineTo(sr*a+or*s,sr*s-or*a),e.lineTo(sr*o+or*l,sr*l-or*o),e.closePath()}};function a7(e,t){let r=null,n=ag(i);e=typeof e=="function"?e:pe(e||og),t=typeof t=="function"?t:pe(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:pe(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:pe(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ec(){}function Mc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mP(e){this._context=e}mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s7(e){return new mP(e)}function yP(e){this._context=e}yP.prototype={areaStart:Ec,areaEnd:Ec,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o7(e){return new yP(e)}function wP(e){this._context=e}wP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l7(e){return new wP(e)}function bP(e){this._context=e}bP.prototype={areaStart:Ec,areaEnd:Ec,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u7(e){return new bP(e)}function nw(e){return e<0?-1:1}function iw(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(nw(a)+nw(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function aw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hd(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function kc(e){this._context=e}kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hd(this,this._t0,aw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hd(this,aw(this,r=iw(this,e,t)),r);break;default:hd(this,this._t0,r=iw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _P(e){this._context=new xP(e)}(_P.prototype=Object.create(kc.prototype)).point=function(e,t){kc.prototype.point.call(this,t,e)};function xP(e){this._context=e}xP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function c7(e){return new kc(e)}function f7(e){return new _P(e)}function SP(e){this._context=e}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=sw(e),i=sw(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sw(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function h7(e){return new SP(e)}function Kf(e,t){this._context=e,this._t=t}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function d7(e){return new Kf(e,.5)}function v7(e){return new Kf(e,0)}function p7(e){return new Kf(e,1)}function ss(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Z0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function g7(e,t){return e[t]}function m7(e){const t=[];return t.key=e,t}function y7(){var e=pe([]),t=Z0,r=ss,n=g7;function i(a){var s=Array.from(e.apply(this,arguments),m7),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,c=sg(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:pe(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:pe(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Z0:typeof a=="function"?a:pe(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ss,i):r},i}function w7(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}ss(e,t)}}function b7(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}ss(e,t)}}function _7(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[n][1]||0,h=c[n-1][1]||0,d=(f-h)/2,v=0;v<o;++v){var p=e[t[v]],y=p[n][1]||0,m=p[n-1][1]||0;d+=y-m}l+=f,u+=d*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,ss(e,t)}}var x7=["type","size","sizeType"];function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){S7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S7(e,t,r){return(t=P7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M7(e,t){if(e==null)return{};var r,n,i=k7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PP={symbolCircle:og,symbolCross:VI,symbolDiamond:XI,symbolSquare:QI,symbolStar:t7,symbolTriangle:r7,symbolWye:i7},A7=Math.PI/180,O7=e=>{var t="symbol".concat(wl(e));return PP[t]||og},C7=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*A7;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},T7=(e,t)=>{PP["symbol".concat(wl(e))]=t},EP=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=M7(e,x7),a=lw(lw({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=O7(s),d=a7().type(h).size(C7(r,n,s));return d()},{className:l,cx:u,cy:c}=a,f=Ce(a,!0);return u===+u&&c===+c&&r===+r?b.createElement("path",ev({},f,{className:ae("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};EP.registerSymbol=T7;var MP={},kP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(kP);var lg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(lg);var AP={},qf={},OP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(OP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(qf);var CP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(CP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qf,r=CP;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(AP);var TP={},jP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cf;function r(n){return function(i){return t.get(i,n)}}e.property=r})(jP);var NP={},dd={},vd={},ug={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(ug);var cg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(cg);var fg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(fg);var uw;function j7(){return uw||(uw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hg(),r=ug,n=cg,i=fg;function a(f,h,d){return typeof d!="function"?t.isMatch(f,h):s(f,h,function v(p,y,m,g,w,_){const P=d(p,y,m,g,w,_);return P!==void 0?!!P:s(p,y,v,_)},new Map)}function s(f,h,d,v){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,d,v);case"function":return Object.keys(h).length>0?s(f,{...h},d,v):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function o(f,h,d,v){if(h==null)return!0;if(Array.isArray(h))return u(f,h,d,v);if(h instanceof Map)return l(f,h,d,v);if(h instanceof Set)return c(f,h,d,v);const p=Object.keys(h);if(f==null)return p.length===0;if(p.length===0)return!0;if(v&&v.has(h))return v.get(h)===f;v&&v.set(h,f);try{for(let y=0;y<p.length;y++){const m=p[y];if(!n.isPrimitive(f)&&!(m in f)||h[m]===void 0&&f[m]!==void 0||h[m]===null&&f[m]!==null||!d(f[m],h[m],m,f,h,v))return!1}return!0}finally{v&&v.delete(h)}}function l(f,h,d,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[p,y]of h.entries()){const m=f.get(p);if(d(m,y,p,f,h,v)===!1)return!1}return!0}function u(f,h,d,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const p=new Set;for(let y=0;y<h.length;y++){const m=h[y];let g=!1;for(let w=0;w<f.length;w++){if(p.has(w))continue;const _=f[w];let P=!1;if(d(_,m,y,f,h,v)&&(P=!0),P){p.add(w),g=!0;break}}if(!g)return!1}return!0}function c(f,h,d,v){return h.size===0?!0:f instanceof Set?u([...f],[...h],d,v):!1}e.isMatchWith=a,e.isSetMatch=c}(vd)),vd}var cw;function hg(){return cw||(cw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(dd)),dd}var IP={},dg={},$P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})($P);var vg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(vg);var pg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",d="[object Object]",v="[object Error]",p="[object DataView]",y="[object Uint8Array]",m="[object Uint8ClampedArray]",g="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",P="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",M="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=p,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=E,e.int8ArrayTag=P,e.mapTag=l,e.numberTag=n,e.objectTag=d,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=g,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=m})(pg);var DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(DP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$P,r=vg,n=pg,i=cg,a=DP;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,h,d=new Map,v=void 0){const p=v==null?void 0:v(c,f,h,d);if(p!==void 0)return p;if(i.isPrimitive(c))return c;if(d.has(c))return d.get(c);if(Array.isArray(c)){const y=new Array(c.length);d.set(c,y);for(let m=0;m<c.length;m++)y[m]=o(c[m],m,h,d,v);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;d.set(c,y);for(const[m,g]of c)y.set(m,o(g,m,h,d,v));return y}if(c instanceof Set){const y=new Set;d.set(c,y);for(const m of c)y.add(o(m,void 0,h,d,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);d.set(c,y);for(let m=0;m<c.length;m++)y[m]=o(c[m],m,h,d,v);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return d.set(c,y),l(y,c,h,d,v),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return d.set(c,y),l(y,c,h,d,v),y}if(c instanceof Blob){const y=new Blob([c],{type:c.type});return d.set(c,y),l(y,c,h,d,v),y}if(c instanceof Error){const y=new c.constructor;return d.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,h,d,v),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return d.set(c,y),l(y,c,h,d,v),y}return c}function l(c,f,h=c,d,v){const p=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<p.length;y++){const m=p[y],g=Object.getOwnPropertyDescriptor(c,m);(g==null||g.writable)&&(c[m]=o(f[m],m,h,d,v))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(dg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dg;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(IP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hg(),r=IP;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(NP);var RP={},LP={},GP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dg,r=pg;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(GP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(LP);var UP={},gg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(gg);var BP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vg;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(BP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jp,r=gg,n=BP,i=Tf;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(UP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hg(),r=Zp,n=LP,i=Cf,a=UP;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(RP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lg,r=jP,n=NP,i=RP;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(TP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP,r=lg,n=AP,i=TP;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(MP);var N7=MP.uniqBy;const fw=_n(N7);function I7(e,t,r){return t===!0?fw(e,r):typeof t=="function"?fw(e,t):e}var zP={exports:{}},FP={},WP={exports:{}},KP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=b;function $7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D7=typeof Object.is=="function"?Object.is:$7,R7=os.useState,L7=os.useEffect,G7=os.useLayoutEffect,U7=os.useDebugValue;function B7(e,t){var r=t(),n=R7({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return G7(function(){i.value=r,i.getSnapshot=t,pd(i)&&a({inst:i})},[e,r,t]),L7(function(){return pd(i)&&a({inst:i}),e(function(){pd(i)&&a({inst:i})})},[e]),U7(r),r}function pd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!D7(e,r)}catch{return!0}}function z7(e,t){return t()}var F7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z7:B7;KP.useSyncExternalStore=os.useSyncExternalStore!==void 0?os.useSyncExternalStore:F7;WP.exports=KP;var W7=WP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=b,K7=W7;function q7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H7=typeof Object.is=="function"?Object.is:q7,V7=K7.useSyncExternalStore,Y7=Hf.useRef,X7=Hf.useEffect,Q7=Hf.useMemo,J7=Hf.useDebugValue;FP.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Y7(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Q7(function(){function l(d){if(!u){if(u=!0,c=d,d=n(d),i!==void 0&&s.hasValue){var v=s.value;if(i(v,d))return f=v}return f=d}if(v=f,H7(c,d))return v;var p=n(d);return i!==void 0&&i(v,p)?(c=d,v):(c=d,f=p)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=V7(e,a[0],a[1]);return X7(function(){s.hasValue=!0,s.value=o},[o]),J7(o),o};zP.exports=FP;var Z7=zP.exports,mg=b.createContext(null),e9=e=>e,De=()=>{var e=b.useContext(mg);return e?e.store.dispatch:e9},zu=()=>{},t9=()=>zu,r9=(e,t)=>e===t;function W(e){var t=b.useContext(mg);return Z7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:t9,t?t.store.getState:zu,t?t.store.getState:zu,t?e:zu,r9)}function n9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function i9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function a9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var hw=e=>Array.isArray(e)?e:[e];function s9(e){const t=Array.isArray(e[0])?e[0]:e;return a9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function o9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var l9=class{constructor(e){this.value=e}deref(){return this.value}},u9=typeof WeakRef<"u"?WeakRef:l9,c9=0,dw=1;function fu(){return{s:c9,v:void 0,o:null,p:null}}function qP(e,t={}){let r=fu();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,d=l;h<d;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const y=p.get(v);y===void 0?(o=fu(),p.set(v,o)):o=y}else{let p=o.p;p===null&&(o.p=p=new Map);const y=p.get(v);y===void 0?(o=fu(),p.set(v,o)):o=y}}const u=o;let c;if(o.s===dw)c=o.v;else if(c=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new u9(c):c}return u.s=dw,u.v=c,c}return s.clearCache=()=>{r=fu(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function f9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),n9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:d=qP,argsMemoizeOptions:v=[],devModeChecks:p={}}=c,y=hw(h),m=hw(v),g=s9(i),w=f(function(){return a++,u.apply(null,arguments)},...y),_=d(function(){s++;const S=o9(g,arguments);return o=w.apply(null,S),o},...m);return Object.assign(_,{resultFunc:u,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:d})};return Object.assign(n,{withTypes:()=>n}),n}var k=f9(qP),h9=Object.assign((e,t=k)=>{i9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>h9}),HP={},VP={},YP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(YP);var XP={},yg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(yg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(XP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP,r=XP,n=Tf;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(d=>String(d));const u=(d,v)=>{let p=d;for(let y=0;y<v.length&&p!=null;++y)p=p[v[y]];return p},c=(d,v)=>v==null||d==null?v:typeof d=="object"&&"key"in d?Object.hasOwn(v,d.key)?v[d.key]:u(v,d.path):typeof d=="function"?d(v):Array.isArray(d)?u(v,d):typeof v=="object"?v[d]:v,f=s.map(d=>(Array.isArray(d)&&d.length===1&&(d=d[0]),d==null||typeof d=="function"||Array.isArray(d)||r.isKey(d)?d:{key:d,path:n.toPath(d)}));return a.map(d=>({original:d,criteria:f.map(v=>c(v,d))})).slice().sort((d,v)=>{for(let p=0;p<f.length;p++){const y=t.compareValues(d.criteria[p],v.criteria[p],o[p]);if(y!==0)return y}return 0}).map(d=>d.original)}e.orderBy=i})(VP);var QP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(QP);var wg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gg,r=qf,n=ug,i=fg;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(wg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP,r=QP,n=wg;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(HP);var d9=HP.sortBy;const Vf=_n(d9);var JP=e=>e.legend.settings,v9=e=>e.legend.size,p9=e=>e.legend.payload;k([p9,JP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Vf(n,r):n});var hu=1;function g9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>hu||Math.abs(s.left-t.left)>hu||Math.abs(s.top-t.top)>hu||Math.abs(s.width-t.width)>hu)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function nt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var m9=typeof Symbol=="function"&&Symbol.observable||"@@observable",vw=m9,gd=()=>Math.random().toString(36).substring(7).split("").join("."),y9={INIT:`@@redux/INIT${gd()}`,REPLACE:`@@redux/REPLACE${gd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gd()}`},Ac=y9;function bg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ZP(e,t,r){if(typeof e!="function")throw new Error(nt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(nt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(nt(1));return r(ZP)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((y,m)=>{s.set(m,y)}))}function c(){if(l)throw new Error(nt(3));return i}function f(y){if(typeof y!="function")throw new Error(nt(4));if(l)throw new Error(nt(5));let m=!0;u();const g=o++;return s.set(g,y),function(){if(m){if(l)throw new Error(nt(6));m=!1,u(),s.delete(g),a=null}}}function h(y){if(!bg(y))throw new Error(nt(7));if(typeof y.type>"u")throw new Error(nt(8));if(typeof y.type!="string")throw new Error(nt(17));if(l)throw new Error(nt(9));try{l=!0,i=n(i,y)}finally{l=!1}return(a=s).forEach(g=>{g()}),y}function d(y){if(typeof y!="function")throw new Error(nt(10));n=y,h({type:Ac.REPLACE})}function v(){const y=f;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(nt(11));function g(){const _=m;_.next&&_.next(c())}return g(),{unsubscribe:y(g)}},[vw](){return this}}}return h({type:Ac.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:d,[vw]:v}}function w9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ac.INIT})>"u")throw new Error(nt(12));if(typeof r(void 0,{type:Ac.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nt(13))})}function eE(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{w9(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const f=n[c],h=r[f],d=s[f],v=h(d,o);if(typeof v>"u")throw o&&o.type,new Error(nt(14));u[f]=v,l=l||v!==d}return l=l||n.length!==Object.keys(s).length,l?u:s}}function Oc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function b9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(nt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Oc(...o)(i.dispatch),{...i,dispatch:a}}}function tE(e){return bg(e)&&"type"in e&&typeof e.type=="string"}var rE=Symbol.for("immer-nothing"),pw=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function Tr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ls=Object.getPrototypeOf;function ea(e){return!!e&&!!e[tr]}function mn(e){var t;return e?nE(e)||Array.isArray(e)||!!e[pw]||!!((t=e.constructor)!=null&&t[pw])||bl(e)||Xf(e):!1}var _9=Object.prototype.constructor.toString();function nE(e){if(!e||typeof e!="object")return!1;const t=ls(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===_9}function Cc(e,t){Yf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Yf(e){const t=e[tr];return t?t.type_:Array.isArray(e)?1:bl(e)?2:Xf(e)?3:0}function tv(e,t){return Yf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iE(e,t,r){const n=Yf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function x9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bl(e){return e instanceof Map}function Xf(e){return e instanceof Set}function Oi(e){return e.copy_||e.base_}function rv(e,t){if(bl(e))return new Map(e);if(Xf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(ls(e),n)}else{const n=ls(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function _g(e,t=!1){return Qf(e)||ea(e)||!mn(e)||(Yf(e)>1&&Object.defineProperties(e,{set:{value:du},add:{value:du},clear:{value:du},delete:{value:du}}),Object.freeze(e),t&&Object.values(e).forEach(r=>_g(r,!0))),e}function du(){Tr(2)}function Qf(e){return Object.isFrozen(e)}var S9={};function ta(e){const t=S9[e];return t||Tr(0,e),t}var Yo;function aE(){return Yo}function P9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gw(e,t){t&&(ta("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nv(e){iv(e),e.drafts_.forEach(E9),e.drafts_=null}function iv(e){e===Yo&&(Yo=e.parent_)}function mw(e){return Yo=P9(Yo,e)}function E9(e){const t=e[tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tr].modified_&&(nv(t),Tr(4)),mn(e)&&(e=Tc(t,e),t.parent_||jc(t,e)),t.patches_&&ta("Patches").generateReplacementPatches_(r[tr].base_,e,t.patches_,t.inversePatches_)):e=Tc(t,r,[]),nv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rE?e:void 0}function Tc(e,t,r){if(Qf(t))return t;const n=t[tr];if(!n)return Cc(t,(i,a)=>ww(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return jc(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),Cc(a,(o,l)=>ww(e,n,i,o,l,r,s)),jc(e,i,!1),r&&e.patches_&&ta("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function ww(e,t,r,n,i,a,s){if(ea(i)){const o=a&&t&&t.type_!==3&&!tv(t.assigned_,n)?a.concat(n):void 0,l=Tc(e,i,o);if(iE(r,n,l),ea(l))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(mn(i)&&!Qf(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Tc(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(bl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&jc(e,i)}}function jc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_g(t,r)}function M9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:aE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=xg;r&&(i=[n],a=Xo);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var xg={get(e,t){if(t===tr)return e;const r=Oi(e);if(!tv(r,t))return k9(e,r,t);const n=r[t];return e.finalized_||!mn(n)?n:n===md(e.base_,t)?(yd(e),e.copy_[t]=sv(n,e)):n},has(e,t){return t in Oi(e)},ownKeys(e){return Reflect.ownKeys(Oi(e))},set(e,t,r){const n=sE(Oi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=md(Oi(e),t),a=i==null?void 0:i[tr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(x9(r,i)&&(r!==void 0||tv(e.base_,t)))return!0;yd(e),av(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return md(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,yd(e),av(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Oi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Tr(11)},getPrototypeOf(e){return ls(e.base_)},setPrototypeOf(){Tr(12)}},Xo={};Cc(xg,(e,t)=>{Xo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xo.deleteProperty=function(e,t){return Xo.set.call(this,e,t,void 0)};Xo.set=function(e,t,r){return xg.set.call(this,e[0],t,r,e[0])};function md(e,t){const r=e[tr];return(r?Oi(r):e)[t]}function k9(e,t,r){var i;const n=sE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function sE(e,t){if(!(t in e))return;let r=ls(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ls(r)}}function av(e){e.modified_||(e.modified_=!0,e.parent_&&av(e.parent_))}function yd(e){e.copy_||(e.copy_=rv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var A9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Tr(6),n!==void 0&&typeof n!="function"&&Tr(7);let i;if(mn(t)){const a=mw(this),s=sv(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?nv(a):iv(a)}return gw(a,n),yw(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===rE&&(i=void 0),this.autoFreeze_&&_g(i,!0),n){const a=[],s=[];ta("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Tr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){mn(e)||Tr(8),ea(e)&&(e=fn(e));const t=mw(this),r=sv(e,void 0);return r[tr].isManual_=!0,iv(t),r}finishDraft(e,t){const r=e&&e[tr];(!r||!r.isManual_)&&Tr(9);const{scope_:n}=r;return gw(n,t),yw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ta("Patches").applyPatches_;return ea(e)?n(e,t):this.produce(e,i=>n(i,t))}};function sv(e,t){const r=bl(e)?ta("MapSet").proxyMap_(e,t):Xf(e)?ta("MapSet").proxySet_(e,t):M9(e,t);return(t?t.scope_:aE()).drafts_.push(r),r}function fn(e){return ea(e)||Tr(10,e),oE(e)}function oE(e){if(!mn(e)||Qf(e))return e;const t=e[tr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=rv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=rv(e,!0);return Cc(r,(n,i)=>{iE(r,n,oE(i))}),t&&(t.finalized_=!1),r}var O9=new A9,lE=O9.produce;function uE(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var C9=uE(),T9=uE,j9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Oc:Oc.apply(null,arguments)};function wr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Jt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>tE(n)&&n.type===e,r}var cE=class no extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,no.prototype)}static get[Symbol.species](){return no}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new no(...t[0].concat(this)):new no(...t.concat(this))}};function bw(e){return mn(e)?lE(e,()=>{}):e}function vu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function N9(e){return typeof e=="boolean"}var I9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new cE;return r&&(N9(r)?s.push(C9):s.push(T9(r.extraArgument))),s},$9="RTK_autoBatch",_w=e=>t=>{setTimeout(t,e)},D9=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_w(10):e.type==="callback"?e.queueNotification:_w(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const f=()=>i&&c(),h=n.subscribe(f);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[$9]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},R9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new cE(e);return n&&i.push(D9(typeof n=="object"?n:void 0)),i};function L9(e){const t=I9(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(bg(r))l=eE(r);else throw new Error(Jt(1));let u;typeof n=="function"?u=n(t):u=t();let c=Oc;i&&(c=j9({trace:!1,...typeof i=="object"&&i}));const f=b9(...u),h=R9(f);let d=typeof o=="function"?o(h):h();const v=c(...d);return ZP(l,s,v)}function fE(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Jt(28));if(o in t)throw new Error(Jt(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function G9(e){return typeof e=="function"}function U9(e,t){let[r,n,i]=fE(t),a;if(G9(e))a=()=>bw(e());else{const o=bw(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(ea(c)){const d=f(c,l);return d===void 0?c:d}else{if(mn(c))return lE(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return s.getInitialState=a,s}var B9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z9=(e=21)=>{let t="",r=e;for(;r--;)t+=B9[Math.random()*64|0];return t},F9=Symbol.for("rtk-slice-createasyncthunk");function W9(e,t){return`${e}/${t}`}function K9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[F9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Jt(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(H9()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,P){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(Jt(12));if(S in u.sliceCaseReducersByType)throw new Error(Jt(13));return u.sliceCaseReducersByType[S]=P,c},addMatcher(_,P){return u.sliceMatchers.push({matcher:_,reducer:P}),c},exposeAction(_,P){return u.actionCreators[_]=P,c},exposeCaseReducer(_,P){return u.sliceCaseReducersByName[_]=P,c}};l.forEach(_=>{const P=o[_],S={reducerName:_,type:W9(a,_),createNotation:typeof i.reducers=="function"};Y9(P)?Q9(S,P,c,t):V9(S,P,c)});function f(){const[_={},P=[],S=void 0]=typeof i.extraReducers=="function"?fE(i.extraReducers):[i.extraReducers],E={..._,...u.sliceCaseReducersByType};return U9(i.initialState,M=>{for(let A in E)M.addCase(A,E[A]);for(let A of u.sliceMatchers)M.addMatcher(A.matcher,A.reducer);for(let A of P)M.addMatcher(A.matcher,A.reducer);S&&M.addDefaultCase(S)})}const h=_=>_,d=new Map,v=new WeakMap;let p;function y(_,P){return p||(p=f()),p(_,P)}function m(){return p||(p=f()),p.getInitialState()}function g(_,P=!1){function S(M){let A=M[_];return typeof A>"u"&&P&&(A=vu(v,S,m)),A}function E(M=h){const A=vu(d,P,()=>new WeakMap);return vu(A,M,()=>{const O={};for(const[C,j]of Object.entries(i.selectors??{}))O[C]=q9(j,M,()=>vu(v,M,m),P);return O})}return{reducerPath:_,getSelectors:E,get selectors(){return E(S)},selectSlice:S}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:m,...g(s),injectInto(_,{reducerPath:P,...S}={}){const E=P??s;return _.inject({reducerPath:E,reducer:y},S),{...w,...g(E,!0)}}};return w}}function q9(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var ar=K9();function H9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function V9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!X9(n))throw new Error(Jt(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?wr(e,s):wr(e))}function Y9(e){return e._reducerDefinitionType==="asyncThunk"}function X9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Q9({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Jt(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,f=i(e,a,c);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||pu,pending:o||pu,rejected:l||pu,settled:u||pu})}function pu(){}var J9="task",hE="listener",dE="completed",Sg="cancelled",Z9=`task-${Sg}`,e$=`task-${dE}`,ov=`${hE}-${Sg}`,t$=`${hE}-${dE}`,Jf=class{constructor(e){Sh(this,"name","TaskAbortError");Sh(this,"message");this.code=e,this.message=`${J9} ${Sg} (reason: ${e})`}},Pg=(e,t)=>{if(typeof e!="function")throw new TypeError(Jt(32))},Nc=()=>{},vE=(e,t=Nc)=>(e.catch(t),e),pE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Fi=e=>{if(e.aborted){const{reason:t}=e;throw new Jf(t)}};function gE(e,t){let r=Nc;return new Promise((n,i)=>{const a=()=>i(new Jf(e.reason));if(e.aborted){a();return}r=pE(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Nc})}var r$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Jf?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ic=e=>t=>vE(gE(e,t).then(r=>(Fi(e),r))),mE=e=>{const t=Ic(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ya}=Object,xw={},Zf="listenerMiddleware",n$=(e,t)=>{const r=n=>pE(e,()=>zi(n,e.reason));return(n,i)=>{Pg(n);const a=new AbortController;r(a);const s=r$(async()=>{Fi(e),Fi(a.signal);const o=await n({pause:Ic(a.signal),delay:mE(a.signal),signal:a.signal});return Fi(a.signal),o},()=>zi(a,e$));return i!=null&&i.autoJoin&&t.push(s.catch(Nc)),{result:Ic(e)(s),cancel(){zi(a,Z9)}}}},i$=(e,t)=>{const r=async(n,i)=>{Fi(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await gE(t,Promise.race(o));return Fi(t),l}finally{a()}};return(n,i)=>vE(r(n,i))},yE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=wr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Jt(21));return Pg(a),{predicate:i,type:t,effect:a}},wE=Ya(e=>{const{type:t,predicate:r,effect:n}=yE(e);return{id:z9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Jt(22))}}},{withTypes:()=>wE}),Sw=(e,t)=>{const{type:r,effect:n,predicate:i}=yE(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},lv=e=>{e.pending.forEach(t=>{zi(t,ov)})},a$=e=>()=>{e.forEach(lv),e.clear()},Pw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},bE=Ya(wr(`${Zf}/add`),{withTypes:()=>bE}),s$=wr(`${Zf}/removeAll`),_E=Ya(wr(`${Zf}/remove`),{withTypes:()=>_E}),o$=(...e)=>{console.error(`${Zf}/error`,...e)},_l=(e={})=>{const t=new Map,{extra:r,onError:n=o$}=e;Pg(n);const i=c=>(c.unsubscribe=()=>t.delete(c.id),t.set(c.id,c),f=>{c.unsubscribe(),f!=null&&f.cancelActive&&lv(c)}),a=c=>{const f=Sw(t,c)??wE(c);return i(f)};Ya(a,{withTypes:()=>a});const s=c=>{const f=Sw(t,c);return f&&(f.unsubscribe(),c.cancelActive&&lv(f)),!!f};Ya(s,{withTypes:()=>s});const o=async(c,f,h,d)=>{const v=new AbortController,p=i$(a,v.signal),y=[];try{c.pending.add(v),await Promise.resolve(c.effect(f,Ya({},h,{getOriginalState:d,condition:(m,g)=>p(m,g).then(Boolean),take:p,delay:mE(v.signal),pause:Ic(v.signal),extra:r,signal:v.signal,fork:n$(v.signal,y),unsubscribe:c.unsubscribe,subscribe:()=>{t.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((m,g,w)=>{m!==v&&(zi(m,ov),w.delete(m))})},cancel:()=>{zi(v,ov),c.pending.delete(v)},throwIfCancelled:()=>{Fi(v.signal)}})))}catch(m){m instanceof Jf||Pw(n,m,{raisedBy:"effect"})}finally{await Promise.all(y),zi(v,t$),c.pending.delete(v)}},l=a$(t);return{middleware:c=>f=>h=>{if(!tE(h))return f(h);if(bE.match(h))return a(h.payload);if(s$.match(h)){l();return}if(_E.match(h))return s(h.payload);let d=c.getState();const v=()=>{if(d===xw)throw new Error(Jt(23));return d};let p;try{if(p=f(h),t.size>0){const y=c.getState(),m=Array.from(t.values());for(const g of m){let w=!1;try{w=g.predicate(h,y,d)}catch(_){w=!1,Pw(n,_,{raisedBy:"predicate"})}w&&o(g,h,c,v)}}}finally{d=xw}return p},startListening:a,stopListening:s,clearListeners:l}};function Jt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var l$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xE=ar({name:"chartLayout",initialState:l$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:u$,setLayout:c$,setChartSize:f$,setScale:h$}=xE.actions,d$=xE.reducer;function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){v$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$(e,t,r){return(t=p$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=g$(e,"string");return typeof t=="symbol"?t:t+""}function g$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $c=Math.PI/180,m$=e=>e*180/Math.PI,Ue=(e,t,r,n)=>({x:e+Math.cos(-$c*n)*r,y:t+Math.sin(-$c*n)*r}),SE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},y$=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},w$=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=y$({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:m$(l),angleInRadian:l}},b$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},_$=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},x$=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=w$({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=b$(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?Mw(Mw({},t),{},{radius:i,angle:_$(c,t)}):null};function PE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){S$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$(e,t,r){return(t=P$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P$(e){var t=E$(e,"string");return typeof t=="symbol"?t:t+""}function E$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function me(e,t,r){return Pe(e)||Pe(t)?r:Yr(t)?Zi(e,t,r):typeof t=="function"?t(e):r}var M$=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,c=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Ze(c-u)!==Ze(f-c)){var d=[];if(Ze(f-c)===Ze(i[1]-i[0])){h=f;var v=c+i[1]-i[0];d[0]=Math.min(v,(v+u)/2),d[1]=Math.max(v,(v+u)/2)}else{h=u;var p=f+i[1]-i[0];d[0]=Math.min(c,(p+c)/2),d[1]=Math.max(c,(p+c)/2)}var y=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(e>y[0]&&e<=y[1]||e>=d[0]&&e<=d[1]){({index:s}=r[l]);break}}else{var m=Math.min(u,f),g=Math.max(u,f);if(e>(m+c)/2&&e<=(g+c)/2){({index:s}=r[l]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},k$=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&q(e[a]))return hr(hr({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&q(e[s]))return hr(hr({},e),{},{[s]:e[s]+(i||0)})}return e},pi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",EE=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},ME=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:d}=e;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,p=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(p=d==="angleAxis"&&a&&a.length>=2?Ze(a[0]-a[1])*2*p:p,f||h){var y=(f||h||[]).map((m,g)=>{var w=n?n.indexOf(m):m;return{coordinate:s(w)+p,value:m,offset:p,index:g}});return y.filter(m=>!er(m.coordinate))}return l&&u?u.map((m,g)=>({coordinate:s(m)+p,value:m,index:g,offset:p})):s.ticks&&!r&&c!=null?s.ticks(c).map((m,g)=>({coordinate:s(m)+p,value:m,offset:p,index:g})):s.domain().map((m,g)=>({coordinate:s(m)+p,value:n?n[m]:m,index:g,offset:p}))},Aw=1e-4,A$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Aw,a=Math.max(n[0],n[1])+Aw,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},O$=(e,t)=>{if(!t||t.length!==2||!q(t[0])||!q(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!q(e[0])||e[0]<r)&&(i[0]=r),(!q(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},C$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=er(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},T$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=er(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},j$={sign:C$,expand:w7,none:ss,silhouette:b7,wiggle:_7,positive:T$},N$=(e,t,r)=>{var n=j$[r],i=y7().keys(t).value((a,s)=>+me(a,s,0)).order(Z0).offset(n);return i(e)};function I$(e){return e==null?void 0:String(e)}function Ow(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Pe(i[t.dataKey])){var o=nP(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=me(i,Pe(s)?t.dataKey:s);return Pe(l)?null:t.scale(l)}var Cw=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=me(a,t.dataKey,t.scale.domain()[s]);return Pe(o)?null:t.scale(o)-i/2+n},$$=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},D$=e=>{var t=e.flat(2).filter(q);return[Math.min(...t),Math.max(...t)]},R$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],L$=(e,t,r)=>{if(e!=null)return R$(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=PE(u,t,r),f=D$(c);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Tw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Vf(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Nw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return hr(hr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function _s(e,t){if(e)return String(e);if(typeof t=="string")return t}function G$(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?x$({x:e,y:t},n):null}var U$=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return hr(hr(hr({},n),Ue(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return hr(hr(hr({},n),Ue(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},B$=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Pn=e=>e.layout.width,En=e=>e.layout.height,z$=e=>e.layout.scale,kE=e=>e.layout.margin,eh=k(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),th=k(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AE="data-recharts-item-index",OE="data-recharts-item-data-key",xl=60;function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){F$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F$(e,t,r){return(t=W$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$(e){var t=K$(e,"string");return typeof t=="symbol"?t:t+""}function K$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q$=e=>e.brush.height;function H$(e){var t=th(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:xl;return r+i}return r},0)}function V$(e){var t=th(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:xl;return r+i}return r},0)}function Y$(e){var t=eh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function X$(e){var t=eh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ve=k([Pn,En,kE,q$,H$,V$,Y$,X$,JP,v9],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=gu(gu({},f),c),d=h.bottom;h.bottom+=n,h=k$(h,l,u);var v=e-h.left-h.right,p=t-h.top-h.bottom;return gu(gu({brushBottom:d},h),{},{width:Math.max(v,0),height:Math.max(p,0)})}),Q$=k(Ve,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Eg=k(Pn,En,(e,t)=>({x:0,y:0,width:e,height:t})),J$=b.createContext(null),Bt=()=>b.useContext(J$)!=null,rh=e=>e.brush,nh=k([rh,Ve,kE],(e,t,r)=>({height:e.height,x:q(e.x)?e.x:t.left,y:q(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:q(e.width)?e.width:t.width})),Mg=()=>{var e,t=Bt(),r=W(Q$),n=W(nh),i=(e=W(rh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Z$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CE=()=>{var e;return(e=W(Ve))!==null&&e!==void 0?e:Z$},TE=()=>W(Pn),jE=()=>W(En),te=e=>e.layout.layoutType,ih=()=>W(te),eD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NE=ar({name:"legend",initialState:eD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=fn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:VY,setLegendSettings:YY,addLegendPayload:IE,removeLegendPayload:$E}=NE.actions,tD=NE.reducer;function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){rD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rD(e,t,r){return(t=nD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nD(e){var t=iD(e,"string");return typeof t=="symbol"?t:t+""}function iD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aD(e){return Array.isArray(e)&&Yr(e[0])&&Yr(e[1])?e.join(" ~ "):e}var sD=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=!1}=e,d=()=>{if(a&&a.length){var P={padding:0,margin:0},S=(o?Vf(a,o):a).map((E,M)=>{if(E.type==="none")return null;var A=E.formatter||s||aD,{value:O,name:C}=E,j=O,G=C;if(A){var F=A(O,C,E,M,a);if(Array.isArray(F))[j,G]=F;else if(F!=null)j=F;else return null}var Y=wd({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:Y},Yr(G)?b.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Yr(G)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},j),b.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:P},S)}return null},v=wd({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=wd({margin:0},i),y=!Pe(c),m=y?c:"",g=ae("recharts-default-tooltip",l),w=ae("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(m=f(c,a));var _=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",uv({className:g,style:v},_),b.createElement("p",{className:w,style:p},b.isValidElement(m)?m:"".concat(m)),d())},Bs="recharts-tooltip-wrapper",oD={visibility:"hidden"};function lD(e){var{coordinate:t,translateX:r,translateY:n}=e;return ae(Bs,{["".concat(Bs,"-right")]:q(r)&&t&&q(t.x)&&r>=t.x,["".concat(Bs,"-left")]:q(r)&&t&&q(t.x)&&r<t.x,["".concat(Bs,"-bottom")]:q(n)&&t&&q(t.y)&&n>=t.y,["".concat(Bs,"-top")]:q(n)&&t&&q(t.y)&&n<t.y})}function Dw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&q(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?c:f;var h=l[n];if(h==null)return 0;if(s[n]){var d=c,v=h;return d<v?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var p=f+o,y=h+u;return p>y?Math.max(c,h):Math.max(f,h)}function uD(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cD(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,f;return s.height>0&&s.width>0&&r?(c=Dw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Dw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=uD({translateX:c,translateY:f,useTranslate3d:o})):u=oD,{cssProperties:u,cssClasses:lD({translateX:c,translateY:f,coordinate:r})}}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cv(e,t,r){return(t=fD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fD(e){var t=hD(e,"string");return typeof t=="symbol"?t:t+""}function hD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dD extends b.PureComponent{constructor(){super(...arguments),cv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:d,wrapperStyle:v,lastBoundingBox:p,innerRef:y,hasPortalFromProps:m}=this.props,{cssClasses:g,cssProperties:w}=cD({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:p.height,width:p.width},useTranslate3d:h,viewBox:d}),_=m?{}:mu(mu({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=mu(mu({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:P,ref:y},a)}}var vD=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gi={devToolsEnabled:!1,isSsr:vD()},DE=()=>W(e=>e.rootProps.accessibilityLayer);function rr(e){return Number.isFinite(e)}function us(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){pD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pD(e,t,r){return(t=gD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gD(e){var t=mD(e,"string");return typeof t=="symbol"?t:t+""}function mD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uw={curveBasisClosed:o7,curveBasisOpen:l7,curveBasis:s7,curveBumpX:qI,curveBumpY:HI,curveLinearClosed:u7,curveLinear:Wf,curveMonotoneX:c7,curveMonotoneY:f7,curveNatural:h7,curveStep:d7,curveStepAfter:p7,curveStepBefore:v7},yu=e=>rr(e.x)&&rr(e.y),zs=e=>e.x,Fs=e=>e.y,yD=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(wl(e));return(r==="curveMonotone"||r==="curveBump")&&t?Uw["".concat(r).concat(t==="vertical"?"Y":"X")]:Uw[r]||Wf},wD=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=yD(t,i),o=a?r.filter(yu):r,l;if(Array.isArray(n)){var u=a?n.filter(f=>yu(f)):n,c=o.map((f,h)=>Gw(Gw({},f),{},{base:u[h]}));return i==="vertical"?l=cu().y(Fs).x1(zs).x0(f=>f.base.x):l=cu().x(zs).y1(Fs).y0(f=>f.base.y),l.defined(yu).curve(s),l(c)}return i==="vertical"&&q(n)?l=cu().y(Fs).x1(zs).x0(n):q(n)?l=cu().x(zs).y1(Fs).y0(n):l=dP().x(zs).y(Fs),l.defined(yu).curve(s),l(o)},kg=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?wD(e):n;return b.createElement("path",fv({},Qr(e),ng(e),{className:ae("recharts-curve",t),d:a===null?void 0:a,ref:i}))},bD=["x","y","top","left","width","height","className"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){xD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xD(e,t,r){return(t=SD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SD(e){var t=PD(e,"string");return typeof t=="symbol"?t:t+""}function PD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ED(e,t){if(e==null)return{};var r,n,i=MD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kD=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),AD=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=ED(e,bD),u=_D({x:t,y:r,top:n,left:i,width:a,height:s},l);return!q(t)||!q(r)||!q(a)||!q(s)||!q(n)||!q(i)?null:b.createElement("path",hv({},Ce(u,!0),{className:ae("recharts-cross",o),d:kD(t,r,a,s,n,i)}))};function OD(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){TD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TD(e,t,r){return(t=jD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jD(e){var t=ND(e,"string");return typeof t=="symbol"?t:t+""}function ND(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e,t){var r=CD({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function ID(){}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){$D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $D(e,t,r){return(t=DD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DD(e){var t=RD(e,"string");return typeof t=="symbol"?t:t+""}function RD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LD=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RE=(e,t,r)=>e.map(n=>"".concat(LD(n)," ").concat(t,"ms ").concat(r)).join(","),GD=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Jo=(e,t)=>Object.keys(t).reduce((r,n)=>Ww(Ww({},r),{},{[n]:e(n,t[n])}),{});function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){UD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UD(e,t,r){return(t=BD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BD(e){var t=zD(e,"string");return typeof t=="symbol"?t:t+""}function zD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dc=(e,t,r)=>e+(t-e)*r,dv=e=>{var{from:t,to:r}=e;return t!==r},LE=(e,t,r)=>{var n=Jo((i,a)=>{if(dv(a)){var[s,o]=e(a.from,a.to,a.velocity);return st(st({},a),{},{from:s,velocity:o})}return a},t);return r<1?Jo((i,a)=>dv(a)?st(st({},a),{},{velocity:Dc(a.velocity,n[i].velocity,r),from:Dc(a.from,n[i].from,r)}):a,t):LE(e,n,r-1)};function FD(e,t,r,n,i,a){var s,o=n.reduce((h,d)=>st(st({},h),{},{[d]:{from:e[d],velocity:0,to:t[d]}}),{}),l=()=>Jo((h,d)=>d.from,o),u=()=>!Object.values(o).filter(dv).length,c=null,f=h=>{s||(s=h);var d=h-s,v=d/r.dt;o=LE(r,o,v),i(st(st(st({},e),t),l())),s=h,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{c()})}function WD(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,h)=>st(st({},f),{},{[h]:[e[h],t[h]]}),{}),u,c=f=>{u||(u=f);var h=(f-u)/n,d=Jo((p,y)=>Dc(...y,r(h)),l);if(a(st(st(st({},e),t),d)),h<1)o=s.setTimeout(c);else{var v=Jo((p,y)=>Dc(...y,r(1)),l);a(st(st(st({},e),t),v))}};return()=>(o=s.setTimeout(c),()=>{o()})}const KD=(e,t,r,n,i,a)=>{var s=GD(e,t);return r.isStepper===!0?FD(e,t,r,s,i,a):WD(e,t,r,n,s,i,a)};var Rc=1e-4,GE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],UE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),qw=(e,t)=>r=>{var n=GE(e,t);return UE(n,r)},qD=(e,t)=>r=>{var n=GE(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return UE(i,r)},Hw=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else s.length===4&&([t,n,r,i]=s);var u=qw(t,r),c=qw(n,i),f=qD(t,r),h=v=>v>1?1:v<0?0:v,d=v=>{for(var p=v>1?1:v,y=p,m=0;m<8;++m){var g=u(y)-p,w=f(y);if(Math.abs(g-p)<Rc||w<Rc)return c(y);y=h(y-g/w)}return c(y)};return d.isStepper=!1,d},HD=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<Rc&&Math.abs(f)<Rc?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},VD=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hw(e);case"spring":return HD();default:if(e.split("(")[0]==="cubic-bezier")return Hw(e)}return typeof e=="function"?e:null};function YD(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class XD{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function QD(){return YD(new XD)}var JD=b.createContext(QD);function ZD(e,t){var r=b.useContext(JD);return b.useMemo(()=>t??r(e),[e,t,r])}var eR={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vw={t:0},bd={t:1};function Sl(e){var t=ct(e,eR),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=ZD(t.animationId,t.animationManager),[f,h]=b.useState(r?Vw:bd),d=b.useRef(null);return b.useEffect(()=>{r||h(bd)},[r]),b.useEffect(()=>{if(!r||!n)return ID;var v=KD(Vw,bd,VD(a),i,h,c.getTimeoutController()),p=()=>{d.current=v()};return c.start([l,s,p,i,o]),()=>{c.stop(),d.current&&d.current(),o()}},[r,n,i,a,s,l,o,c]),u(f.t)}function Pl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Vo(t)),n=b.useRef(e);return n.current!==e&&(r.current=Vo(t),n.current=e),r.current}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){tR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tR(e,t,r){return(t=rR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rR(e){var t=nR(e,"string");return typeof t=="symbol"?t:t+""}function nR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(null,arguments)}var Qw=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],f=0,h=4;f<h;f++)c[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+o*c[0],",").concat(t)),u+="L ".concat(e+r-o*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*c[1])),u+="L ".concat(e+r,",").concat(t+n-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-o*c[2],",").concat(t+n)),u+="L ".concat(e+o*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);u="M ".concat(e,",").concat(t+s*d,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e+o*d,",").concat(t,`
            L `).concat(e+r-o*d,",").concat(t,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*d,`
            L `).concat(e+r,",").concat(t+n-s*d,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e+r-o*d,",").concat(t+n,`
            L `).concat(e+o*d,",").concat(t+n,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*d," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},iR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BE=e=>{var t=ct(e,iR),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:h,animationBegin:d,isAnimationActive:v,isUpdateAnimationActive:p}=t,y=b.useRef(o),m=b.useRef(l),g=b.useRef(a),w=b.useRef(s),_=b.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),P=Pl(_,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=ae("recharts-rectangle",c);if(!p)return b.createElement("path",Lc({},Ce(t,!0),{className:S,d:Qw(a,s,o,l,u)}));var E=y.current,M=m.current,A=g.current,O=w.current,C="0px ".concat(n===-1?1:n,"px"),j="".concat(n,"px 0px"),G=RE(["strokeDasharray"],h,typeof f=="string"?f:void 0);return b.createElement(Sl,{animationId:P,key:P,canBegin:n>0,duration:h,easing:f,isActive:p,begin:d},F=>{var Y=je(E,o,F),Z=je(M,l,F),V=je(A,a,F),$=je(O,s,F);r.current&&(y.current=Y,m.current=Z,g.current=V,w.current=$);var L;return v?F>0?L={transition:G,strokeDasharray:j}:L={strokeDasharray:C}:L={strokeDasharray:j},b.createElement("path",Lc({},Ce(t,!0),{className:S,d:Qw(V,$,Y,Z,u),ref:r,style:Xw(Xw({},L),t.style)}))})};function zE(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=Ue(t,r,n,i),o=Ue(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}var aR=(e,t)=>{var r=Ze(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},wu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/$c,f=l?i:i+a*c,h=Ue(t,r,u,f),d=Ue(t,r,n,f),v=l?i-a*c:i,p=Ue(t,r,u*Math.cos(c*$c),v);return{center:h,circleTangency:d,lineTangency:p,theta:c}},FE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=aR(a,s),l=a+o,u=Ue(t,r,i,a),c=Ue(t,r,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var h=Ue(t,r,n,a),d=Ue(t,r,n,l);f+="L ".concat(d.x,",").concat(d.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},sR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=Ze(u-l),{circleTangency:f,lineTangency:h,theta:d}=wu({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:p,theta:y}=wu({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),m=o?Math.abs(l-u):Math.abs(l-u)-d-y;if(m<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):FE({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var g="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:_,theta:P}=wu({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:E,theta:M}=wu({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),A=o?Math.abs(l-u):Math.abs(l-u)-P-M;if(A<0&&a===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+="L".concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,"Z")}else g+="L".concat(t,",").concat(r,"Z");return g},oR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WE=e=>{var t=ct(e,oR),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var h=ae("recharts-sector",f),d=a-i,v=yt(s,d,0,!0),p;return v>0&&Math.abs(u-c)<360?p=sR({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,d/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):p=FE({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),b.createElement("path",vv({},Ce(t,!0),{className:h,d:p}))};function lR(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:c,angle:f}=t,h=Ue(o,l,u,f),d=Ue(o,l,c,f);n=h.x,i=h.y,a=d.x,s=d.y}else return zE(t);return[{x:n,y:i},{x:a,y:s}]}var KE={},qE={},HE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(HE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HE;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(qE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wg,r=qE;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(KE);var uR=KE.range;const VE=_n(uR);function ei(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cR(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ag(e){let t,r,n;e.length!==2?(t=ei,r=(o,l)=>ei(e(o),l),n=(o,l)=>e(o)-l):(t=e===ei||e===cR?e:fR,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function fR(){return 0}function YE(e){return e===null?NaN:+e}function*hR(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dR=Ag(ei),El=dR.right;Ag(YE).center;class Jw extends Map{constructor(t,r=gR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Zw(this,t))}has(t){return super.has(Zw(this,t))}set(t,r){return super.set(vR(this,t),r)}delete(t){return super.delete(pR(this,t))}}function Zw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function vR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pR({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mR(e=ei){if(e===ei)return XE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function XE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yR=Math.sqrt(50),wR=Math.sqrt(10),bR=Math.sqrt(2);function Gc(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=yR?10:a>=wR?5:a>=bR?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?Gc(e,t,r*2):[o,l,u]}function pv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Gc(t,e,r):Gc(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function gv(e,t,r){return t=+t,e=+e,r=+r,Gc(e,t,r)[2]}function mv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?gv(t,e,r):gv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function eb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QE(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?XE:mR(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),d=Math.max(r,Math.floor(t-u*f/l+h)),v=Math.min(n,Math.floor(t+(l-u)*f/l+h));QE(e,t,d,v,i)}const a=e[t];let s=r,o=n;for(Ws(e,r,t),i(e[n],a)>0&&Ws(e,r,n);s<o;){for(Ws(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Ws(e,r,o):(++o,Ws(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ws(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _R(e,t,r){if(e=Float64Array.from(hR(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return tb(e);if(t>=1)return eb(e);var n,i=(n-1)*t,a=Math.floor(i),s=eb(QE(e,a).subarray(0,a+1)),o=tb(e.subarray(a+1));return s+(o-s)*(i-a)}}function xR(e,t,r=YE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function SR(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yv=Symbol("implicit");function Og(){var e=new Jw,t=[],r=[],n=yv;function i(a){let s=e.get(a);if(s===void 0){if(n!==yv)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Jw;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Og(t,r).unknown(n)},xr.apply(i,arguments),i}function Cg(){var e=Og().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,d=i<n,v=d?i:n,p=d?n:i;a=(p-v)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),v+=(p-v-a*(h-l))*c,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var y=SR(h).map(function(m){return v+a*m});return r(d?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return Cg(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},xr.apply(f(),arguments)}function JE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JE(t())},e}function PR(){return JE(Cg.apply(null,arguments).paddingInner(1))}function Tg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ZE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ml(){}var Zo=.7,Uc=1/Zo,Xa="\\s*([+-]?\\d+)\\s*",el="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ER=/^#([0-9a-f]{3,8})$/,MR=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),kR=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),AR=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${el}\\)$`),OR=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${el}\\)$`),CR=new RegExp(`^hsl\\(${el},${Hr},${Hr}\\)$`),TR=new RegExp(`^hsla\\(${el},${Hr},${Hr},${el}\\)$`),rb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tg(Ml,tl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nb,formatHex:nb,formatHex8:jR,formatHsl:NR,formatRgb:ib,toString:ib});function nb(){return this.rgb().formatHex()}function jR(){return this.rgb().formatHex8()}function NR(){return e4(this).formatHsl()}function ib(){return this.rgb().formatRgb()}function tl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ER.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ab(t):r===3?new Dt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MR.exec(e))?new Dt(t[1],t[2],t[3],1):(t=kR.exec(e))?new Dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AR.exec(e))?bu(t[1],t[2],t[3],t[4]):(t=OR.exec(e))?bu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CR.exec(e))?lb(t[1],t[2]/100,t[3]/100,1):(t=TR.exec(e))?lb(t[1],t[2]/100,t[3]/100,t[4]):rb.hasOwnProperty(e)?ab(rb[e]):e==="transparent"?new Dt(NaN,NaN,NaN,0):null}function ab(e){return new Dt(e>>16&255,e>>8&255,e&255,1)}function bu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Dt(e,t,r,n)}function IR(e){return e instanceof Ml||(e=tl(e)),e?(e=e.rgb(),new Dt(e.r,e.g,e.b,e.opacity)):new Dt}function wv(e,t,r,n){return arguments.length===1?IR(e):new Dt(e,t,r,n??1)}function Dt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Tg(Dt,wv,ZE(Ml,{brighter(e){return e=e==null?Uc:Math.pow(Uc,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dt(Wi(this.r),Wi(this.g),Wi(this.b),Bc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sb,formatHex:sb,formatHex8:$R,formatRgb:ob,toString:ob}));function sb(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}`}function $R(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}${Ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function ob(){const e=Bc(this.opacity);return`${e===1?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${e===1?")":`, ${e})`}`}function Bc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ri(e){return e=Wi(e),(e<16?"0":"")+e.toString(16)}function lb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new jr(e,t,r,n)}function e4(e){if(e instanceof jr)return new jr(e.h,e.s,e.l,e.opacity);if(e instanceof Ml||(e=tl(e)),!e)return new jr;if(e instanceof jr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new jr(s,o,l,e.opacity)}function DR(e,t,r,n){return arguments.length===1?e4(e):new jr(e,t,r,n??1)}function jr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Tg(jr,DR,ZE(Ml,{brighter(e){return e=e==null?Uc:Math.pow(Uc,e),new jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Dt(_d(e>=240?e-240:e+120,i,n),_d(e,i,n),_d(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new jr(ub(this.h),_u(this.s),_u(this.l),Bc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bc(this.opacity);return`${e===1?"hsl(":"hsla("}${ub(this.h)}, ${_u(this.s)*100}%, ${_u(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ub(e){return e=(e||0)%360,e<0?e+360:e}function _u(e){return Math.max(0,Math.min(1,e||0))}function _d(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jg=e=>()=>e;function RR(e,t){return function(r){return e+r*t}}function LR(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GR(e){return(e=+e)==1?t4:function(t,r){return r-t?LR(t,r,e):jg(isNaN(t)?r:t)}}function t4(e,t){var r=t-e;return r?RR(e,r):jg(isNaN(e)?t:e)}const cb=function e(t){var r=GR(t);function n(i,a){var s=r((i=wv(i)).r,(a=wv(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=t4(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function UR(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function BR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zR(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=xs(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function FR(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function WR(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=xs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var bv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xd=new RegExp(bv.source,"g");function KR(e){return function(){return e}}function qR(e){return function(t){return e(t)+""}}function HR(e,t){var r=bv.lastIndex=xd.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=bv.exec(e))&&(i=xd.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:zc(n,i)})),r=xd.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?qR(l[0].x):KR(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function xs(e,t){var r=typeof t,n;return t==null||r==="boolean"?jg(t):(r==="number"?zc:r==="string"?(n=tl(t))?(t=n,cb):HR:t instanceof tl?cb:t instanceof Date?FR:BR(t)?UR:Array.isArray(t)?zR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WR:zc)(e,t)}function Ng(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VR(e,t){t===void 0&&(t=e,e=xs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function YR(e){return function(){return e}}function Fc(e){return+e}var fb=[0,1];function Et(e){return e}function _v(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:YR(isNaN(t)?NaN:.5)}function XR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QR(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=_v(i,n),a=r(s,a)):(n=_v(n,i),a=r(a,s)),function(o){return a(n(o))}}function JR(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=_v(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=El(e,o,1,n)-1;return a[l](i[l](o))}}function kl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ah(){var e=fb,t=fb,r=xs,n,i,a,s=Et,o,l,u;function c(){var h=Math.min(e.length,t.length);return s!==Et&&(s=XR(e[0],e[h-1])),o=h>2?JR:QR,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),zc)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Fc),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Ng,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Et,c()):s!==Et},f.interpolate=function(h){return arguments.length?(r=h,c()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return n=h,i=d,c()}}function Ig(){return ah()(Et,Et)}function ZR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wc(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cs(e){return e=Wc(Math.abs(e)),e?e[1]:NaN}function eL(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function tL(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rl(e){if(!(t=rL.exec(e)))throw new Error("invalid format: "+e);var t;return new $g({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rl.prototype=$g.prototype;function $g(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$g.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nL(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var r4;function iL(e,t){var r=Wc(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(r4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Wc(e,Math.max(0,t+a-1))[0]}function hb(e,t){var r=Wc(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const db={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hb(e*100,t),r:hb,s:iL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vb(e){return e}var pb=Array.prototype.map,gb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aL(e){var t=e.grouping===void 0||e.thousands===void 0?vb:eL(pb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?vb:tL(pb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=rl(f);var h=f.fill,d=f.align,v=f.sign,p=f.symbol,y=f.zero,m=f.width,g=f.comma,w=f.precision,_=f.trim,P=f.type;P==="n"?(g=!0,P="g"):db[P]||(w===void 0&&(w=12),_=!0,P="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=p==="$"?n:/[%p]/.test(P)?s:"",M=db[P],A=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(C){var j=S,G=E,F,Y,Z;if(P==="c")G=M(C)+G,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?l:M(Math.abs(C),w),_&&(C=nL(C)),V&&+C==0&&v!=="+"&&(V=!1),j=(V?v==="("?v:o:v==="-"||v==="("?"":v)+j,G=(P==="s"?gb[8+r4/3]:"")+G+(V&&v==="("?")":""),A){for(F=-1,Y=C.length;++F<Y;)if(Z=C.charCodeAt(F),48>Z||Z>57){G=(Z===46?i+C.slice(F+1):C.slice(F))+G,C=C.slice(0,F);break}}}g&&!y&&(C=t(C,1/0));var $=j.length+C.length+G.length,L=$<m?new Array(m-$+1).join(h):"";switch(g&&y&&(C=t(L+C,L.length?m-G.length:1/0),L=""),d){case"<":C=j+C+G+L;break;case"=":C=j+L+C+G;break;case"^":C=L.slice(0,$=L.length>>1)+j+C+G+L.slice($);break;default:C=L+j+C+G;break}return a(C)}return O.toString=function(){return f+""},O}function c(f,h){var d=u((f=rl(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(cs(h)/3)))*3,p=Math.pow(10,-v),y=gb[8+v/3];return function(m){return d(p*m)+y}}return{format:u,formatPrefix:c}}var xu,Dg,n4;sL({thousands:",",grouping:[3],currency:["$",""]});function sL(e){return xu=aL(e),Dg=xu.format,n4=xu.formatPrefix,xu}function oL(e){return Math.max(0,-cs(Math.abs(e)))}function lL(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cs(t)/3)))*3-cs(Math.abs(e)))}function uL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cs(t)-cs(e))+1}function i4(e,t,r,n){var i=mv(e,t,r),a;switch(n=rl(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=lL(i,s))&&(n.precision=a),n4(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=uL(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=oL(i))&&(n.precision=a-(n.type==="%")*2);break}}return Dg(n)}function mi(e){var t=e.domain;return e.ticks=function(r){var n=t();return pv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return i4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=gv(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function a4(){var e=Ig();return e.copy=function(){return kl(e,a4())},xr.apply(e,arguments),mi(e)}function s4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Fc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return s4(e).unknown(t)},e=arguments.length?Array.from(e,Fc):[0,1],mi(r)}function o4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function mb(e){return Math.log(e)}function yb(e){return Math.exp(e)}function cL(e){return-Math.log(-e)}function fL(e){return-Math.exp(-e)}function hL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dL(e){return e===10?hL:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vL(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wb(e){return(t,r)=>-e(-t,r)}function Rg(e){const t=e(mb,yb),r=t.domain;let n=10,i,a;function s(){return i=vL(n),a=dL(n),r()[0]<0?(i=wb(i),a=wb(a),e(cL,fL)):e(mb,yb),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),v,p;const y=o==null?10:+o;let m=[];if(!(n%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(v=1;v<n;++v)if(p=h<0?v/a(-h):v*a(h),!(p<u)){if(p>c)break;m.push(p)}}else for(;h<=d;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/a(-h):v*a(h),!(p<u)){if(p>c)break;m.push(p)}m.length*2<y&&(m=pv(u,c,y))}else m=pv(h,d,Math.min(d-h,y)).map(a);return f?m.reverse():m},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=rl(l)).precision==null&&(l.trim=!0),l=Dg(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},t.nice=()=>r(o4(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function l4(){const e=Rg(ah()).domain([1,10]);return e.copy=()=>kl(e,l4()).base(e.base()),xr.apply(e,arguments),e}function bb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _b(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lg(e){var t=1,r=e(bb(t),_b(t));return r.constant=function(n){return arguments.length?e(bb(t=+n),_b(t)):t},mi(r)}function u4(){var e=Lg(ah());return e.copy=function(){return kl(e,u4()).constant(e.constant())},xr.apply(e,arguments)}function xb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pL(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gL(e){return e<0?-e*e:e*e}function Gg(e){var t=e(Et,Et),r=1;function n(){return r===1?e(Et,Et):r===.5?e(pL,gL):e(xb(r),xb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},mi(t)}function Ug(){var e=Gg(ah());return e.copy=function(){return kl(e,Ug()).exponent(e.exponent())},xr.apply(e,arguments),e}function mL(){return Ug.apply(null,arguments).exponent(.5)}function Sb(e){return Math.sign(e)*e*e}function yL(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c4(){var e=Ig(),t=[0,1],r=!1,n;function i(a){var s=yL(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(Sb(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Fc)).map(Sb)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return c4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xr.apply(i,arguments),mi(i)}function f4(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=xR(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[El(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ei),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return f4().domain(e).range(t).unknown(n)},xr.apply(a,arguments)}function h4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[El(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return h4().domain([e,t]).range(i).unknown(a)},xr.apply(mi(s),arguments)}function d4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[El(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return d4().domain(e).range(t).unknown(r)},xr.apply(i,arguments)}const Sd=new Date,Pd=new Date;function Ye(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Ye(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Sd.setTime(+a),Pd.setTime(+s),e(Sd),e(Pd),Math.floor(r(Sd,Pd))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Kc=Ye(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ye(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kc);Kc.range;const ln=1e3,vr=ln*60,un=vr*60,yn=un*24,Bg=yn*7,Pb=yn*30,Ed=yn*365,Li=Ye(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getUTCSeconds());Li.range;const zg=Ye(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln)},(e,t)=>{e.setTime(+e+t*vr)},(e,t)=>(t-e)/vr,e=>e.getMinutes());zg.range;const Fg=Ye(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vr)},(e,t)=>(t-e)/vr,e=>e.getUTCMinutes());Fg.range;const Wg=Ye(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln-e.getMinutes()*vr)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getHours());Wg.range;const Kg=Ye(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCHours());Kg.range;const Al=Ye(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vr)/yn,e=>e.getDate()-1);Al.range;const sh=Ye(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yn,e=>e.getUTCDate()-1);sh.range;const v4=Ye(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yn,e=>Math.floor(e/yn));v4.range;function la(e){return Ye(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vr)/Bg)}const oh=la(0),qc=la(1),wL=la(2),bL=la(3),fs=la(4),_L=la(5),xL=la(6);oh.range;qc.range;wL.range;bL.range;fs.range;_L.range;xL.range;function ua(e){return Ye(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Bg)}const lh=ua(0),Hc=ua(1),SL=ua(2),PL=ua(3),hs=ua(4),EL=ua(5),ML=ua(6);lh.range;Hc.range;SL.range;PL.range;hs.range;EL.range;ML.range;const qg=Ye(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qg.range;const Hg=Ye(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hg.range;const wn=Ye(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ye(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wn.range;const bn=Ye(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ye(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bn.range;function p4(e,t,r,n,i,a){const s=[[Li,1,ln],[Li,5,5*ln],[Li,15,15*ln],[Li,30,30*ln],[a,1,vr],[a,5,5*vr],[a,15,15*vr],[a,30,30*vr],[i,1,un],[i,3,3*un],[i,6,6*un],[i,12,12*un],[n,1,yn],[n,2,2*yn],[r,1,Bg],[t,1,Pb],[t,3,3*Pb],[e,1,Ed]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const d=f&&typeof f.range=="function"?f:l(u,c,f),v=d?d.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,d=Ag(([,,y])=>y).right(s,h);if(d===s.length)return e.every(mv(u/Ed,c/Ed,f));if(d===0)return Kc.every(Math.max(mv(u,c,f),1));const[v,p]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return v.every(p)}return[o,l]}const[kL,AL]=p4(bn,Hg,lh,v4,Kg,Fg),[OL,CL]=p4(wn,qg,oh,Al,Wg,zg);function Md(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ks(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TL(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=qs(i),c=Hs(i),f=qs(a),h=Hs(a),d=qs(s),v=Hs(s),p=qs(o),y=Hs(o),m=qs(l),g=Hs(l),w={a:V,A:$,b:L,B:H,c:null,d:Cb,e:Cb,f:eG,g:cG,G:hG,H:QL,I:JL,j:ZL,L:g4,m:tG,M:rG,p:ce,q:K,Q:Nb,s:Ib,S:nG,u:iG,U:aG,V:sG,w:oG,W:lG,x:null,X:null,y:uG,Y:fG,Z:dG,"%":jb},_={a:Cn,A:Sr,b:ft,B:Jr,c:null,d:Tb,e:Tb,f:mG,g:kG,G:OG,H:vG,I:pG,j:gG,L:y4,m:yG,M:wG,p:fa,q:oA,Q:Nb,s:Ib,S:bG,u:_G,U:xG,V:SG,w:PG,W:EG,x:null,X:null,y:MG,Y:AG,Z:CG,"%":jb},P={a:O,A:C,b:j,B:G,c:F,d:Ab,e:Ab,f:HL,g:kb,G:Mb,H:Ob,I:Ob,j:FL,L:qL,m:zL,M:WL,p:A,q:BL,Q:YL,s:XL,S:KL,u:DL,U:RL,V:LL,w:$L,W:GL,x:Y,X:Z,y:kb,Y:Mb,Z:UL,"%":VL};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(z,ee){return function(ne){var I=[],Ot=-1,de=0,zt=z.length,Ft,bi,ny;for(ne instanceof Date||(ne=new Date(+ne));++Ot<zt;)z.charCodeAt(Ot)===37&&(I.push(z.slice(de,Ot)),(bi=Eb[Ft=z.charAt(++Ot)])!=null?Ft=z.charAt(++Ot):bi=Ft==="e"?" ":"0",(ny=ee[Ft])&&(Ft=ny(ne,bi)),I.push(Ft),de=Ot+1);return I.push(z.slice(de,Ot)),I.join("")}}function E(z,ee){return function(ne){var I=Ks(1900,void 0,1),Ot=M(I,z,ne+="",0),de,zt;if(Ot!=ne.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(ee&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(de=kd(Ks(I.y,0,1)),zt=de.getUTCDay(),de=zt>4||zt===0?Hc.ceil(de):Hc(de),de=sh.offset(de,(I.V-1)*7),I.y=de.getUTCFullYear(),I.m=de.getUTCMonth(),I.d=de.getUTCDate()+(I.w+6)%7):(de=Md(Ks(I.y,0,1)),zt=de.getDay(),de=zt>4||zt===0?qc.ceil(de):qc(de),de=Al.offset(de,(I.V-1)*7),I.y=de.getFullYear(),I.m=de.getMonth(),I.d=de.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),zt="Z"in I?kd(Ks(I.y,0,1)).getUTCDay():Md(Ks(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(zt+5)%7:I.w+I.U*7-(zt+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,kd(I)):Md(I)}}function M(z,ee,ne,I){for(var Ot=0,de=ee.length,zt=ne.length,Ft,bi;Ot<de;){if(I>=zt)return-1;if(Ft=ee.charCodeAt(Ot++),Ft===37){if(Ft=ee.charAt(Ot++),bi=P[Ft in Eb?ee.charAt(Ot++):Ft],!bi||(I=bi(z,ne,I))<0)return-1}else if(Ft!=ne.charCodeAt(I++))return-1}return I}function A(z,ee,ne){var I=u.exec(ee.slice(ne));return I?(z.p=c.get(I[0].toLowerCase()),ne+I[0].length):-1}function O(z,ee,ne){var I=d.exec(ee.slice(ne));return I?(z.w=v.get(I[0].toLowerCase()),ne+I[0].length):-1}function C(z,ee,ne){var I=f.exec(ee.slice(ne));return I?(z.w=h.get(I[0].toLowerCase()),ne+I[0].length):-1}function j(z,ee,ne){var I=m.exec(ee.slice(ne));return I?(z.m=g.get(I[0].toLowerCase()),ne+I[0].length):-1}function G(z,ee,ne){var I=p.exec(ee.slice(ne));return I?(z.m=y.get(I[0].toLowerCase()),ne+I[0].length):-1}function F(z,ee,ne){return M(z,t,ee,ne)}function Y(z,ee,ne){return M(z,r,ee,ne)}function Z(z,ee,ne){return M(z,n,ee,ne)}function V(z){return s[z.getDay()]}function $(z){return a[z.getDay()]}function L(z){return l[z.getMonth()]}function H(z){return o[z.getMonth()]}function ce(z){return i[+(z.getHours()>=12)]}function K(z){return 1+~~(z.getMonth()/3)}function Cn(z){return s[z.getUTCDay()]}function Sr(z){return a[z.getUTCDay()]}function ft(z){return l[z.getUTCMonth()]}function Jr(z){return o[z.getUTCMonth()]}function fa(z){return i[+(z.getUTCHours()>=12)]}function oA(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var ee=S(z+="",w);return ee.toString=function(){return z},ee},parse:function(z){var ee=E(z+="",!1);return ee.toString=function(){return z},ee},utcFormat:function(z){var ee=S(z+="",_);return ee.toString=function(){return z},ee},utcParse:function(z){var ee=E(z+="",!0);return ee.toString=function(){return z},ee}}}var Eb={"-":"",_:" ",0:"0"},tt=/^\s*\d+/,jL=/^%/,NL=/[\\^$*+?|[\]().{}]/g;function ie(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function IL(e){return e.replace(NL,"\\$&")}function qs(e){return new RegExp("^(?:"+e.map(IL).join("|")+")","i")}function Hs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $L(e,t,r){var n=tt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function DL(e,t,r){var n=tt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function RL(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LL(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GL(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Mb(e,t,r){var n=tt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function kb(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function UL(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BL(e,t,r){var n=tt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zL(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ab(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function FL(e,t,r){var n=tt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ob(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function WL(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function KL(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qL(e,t,r){var n=tt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function HL(e,t,r){var n=tt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VL(e,t,r){var n=jL.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YL(e,t,r){var n=tt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XL(e,t,r){var n=tt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Cb(e,t){return ie(e.getDate(),t,2)}function QL(e,t){return ie(e.getHours(),t,2)}function JL(e,t){return ie(e.getHours()%12||12,t,2)}function ZL(e,t){return ie(1+Al.count(wn(e),e),t,3)}function g4(e,t){return ie(e.getMilliseconds(),t,3)}function eG(e,t){return g4(e,t)+"000"}function tG(e,t){return ie(e.getMonth()+1,t,2)}function rG(e,t){return ie(e.getMinutes(),t,2)}function nG(e,t){return ie(e.getSeconds(),t,2)}function iG(e){var t=e.getDay();return t===0?7:t}function aG(e,t){return ie(oh.count(wn(e)-1,e),t,2)}function m4(e){var t=e.getDay();return t>=4||t===0?fs(e):fs.ceil(e)}function sG(e,t){return e=m4(e),ie(fs.count(wn(e),e)+(wn(e).getDay()===4),t,2)}function oG(e){return e.getDay()}function lG(e,t){return ie(qc.count(wn(e)-1,e),t,2)}function uG(e,t){return ie(e.getFullYear()%100,t,2)}function cG(e,t){return e=m4(e),ie(e.getFullYear()%100,t,2)}function fG(e,t){return ie(e.getFullYear()%1e4,t,4)}function hG(e,t){var r=e.getDay();return e=r>=4||r===0?fs(e):fs.ceil(e),ie(e.getFullYear()%1e4,t,4)}function dG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ie(t/60|0,"0",2)+ie(t%60,"0",2)}function Tb(e,t){return ie(e.getUTCDate(),t,2)}function vG(e,t){return ie(e.getUTCHours(),t,2)}function pG(e,t){return ie(e.getUTCHours()%12||12,t,2)}function gG(e,t){return ie(1+sh.count(bn(e),e),t,3)}function y4(e,t){return ie(e.getUTCMilliseconds(),t,3)}function mG(e,t){return y4(e,t)+"000"}function yG(e,t){return ie(e.getUTCMonth()+1,t,2)}function wG(e,t){return ie(e.getUTCMinutes(),t,2)}function bG(e,t){return ie(e.getUTCSeconds(),t,2)}function _G(e){var t=e.getUTCDay();return t===0?7:t}function xG(e,t){return ie(lh.count(bn(e)-1,e),t,2)}function w4(e){var t=e.getUTCDay();return t>=4||t===0?hs(e):hs.ceil(e)}function SG(e,t){return e=w4(e),ie(hs.count(bn(e),e)+(bn(e).getUTCDay()===4),t,2)}function PG(e){return e.getUTCDay()}function EG(e,t){return ie(Hc.count(bn(e)-1,e),t,2)}function MG(e,t){return ie(e.getUTCFullYear()%100,t,2)}function kG(e,t){return e=w4(e),ie(e.getUTCFullYear()%100,t,2)}function AG(e,t){return ie(e.getUTCFullYear()%1e4,t,4)}function OG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hs(e):hs.ceil(e),ie(e.getUTCFullYear()%1e4,t,4)}function CG(){return"+0000"}function jb(){return"%"}function Nb(e){return+e}function Ib(e){return Math.floor(+e/1e3)}var ya,b4,_4;TG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TG(e){return ya=TL(e),b4=ya.format,ya.parse,_4=ya.utcFormat,ya.utcParse,ya}function jG(e){return new Date(e)}function NG(e){return e instanceof Date?+e:+new Date(+e)}function Vg(e,t,r,n,i,a,s,o,l,u){var c=Ig(),f=c.invert,h=c.domain,d=u(".%L"),v=u(":%S"),p=u("%I:%M"),y=u("%I %p"),m=u("%a %d"),g=u("%b %d"),w=u("%B"),_=u("%Y");function P(S){return(l(S)<S?d:o(S)<S?v:s(S)<S?p:a(S)<S?y:n(S)<S?i(S)<S?m:g:r(S)<S?w:_)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?h(Array.from(S,NG)):h().map(jG)},c.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},c.tickFormat=function(S,E){return E==null?P:u(E)},c.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(o4(E,S)):c},c.copy=function(){return kl(c,Vg(e,t,r,n,i,a,s,o,l,u))},c}function IG(){return xr.apply(Vg(OL,CL,wn,qg,oh,Al,Wg,zg,Li,b4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $G(){return xr.apply(Vg(kL,AL,bn,Hg,lh,sh,Kg,Fg,Li,_4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uh(){var e=0,t=1,r,n,i,a,s=Et,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var d,v;return arguments.length?([d,v]=h,s=f(d,v),u):[s(0),s(1)]}}return u.range=c(xs),u.rangeRound=c(Ng),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function yi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function x4(){var e=mi(uh()(Et));return e.copy=function(){return yi(e,x4())},Mn.apply(e,arguments)}function S4(){var e=Rg(uh()).domain([1,10]);return e.copy=function(){return yi(e,S4()).base(e.base())},Mn.apply(e,arguments)}function P4(){var e=Lg(uh());return e.copy=function(){return yi(e,P4()).constant(e.constant())},Mn.apply(e,arguments)}function Yg(){var e=Gg(uh());return e.copy=function(){return yi(e,Yg()).exponent(e.exponent())},Mn.apply(e,arguments)}function DG(){return Yg.apply(null,arguments).exponent(.5)}function E4(){var e=[],t=Et;function r(n){if(n!=null&&!isNaN(n=+n))return t((El(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ei),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>_R(e,a/n))},r.copy=function(){return E4(t).domain(e)},Mn.apply(r,arguments)}function ch(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=Et,c,f=!1,h;function d(p){return isNaN(p=+p)?h:(p=.5+((p=+c(p))-a)*(n*p<n*a?o:l),u(f?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t,r]=p,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,d):[e,t,r]},d.clamp=function(p){return arguments.length?(f=!!p,d):f},d.interpolator=function(p){return arguments.length?(u=p,d):u};function v(p){return function(y){var m,g,w;return arguments.length?([m,g,w]=y,u=VR(p,[m,g,w]),d):[u(0),u(.5),u(1)]}}return d.range=v(xs),d.rangeRound=v(Ng),d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return c=p,i=p(e),a=p(t),s=p(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,d}}function M4(){var e=mi(ch()(Et));return e.copy=function(){return yi(e,M4())},Mn.apply(e,arguments)}function k4(){var e=Rg(ch()).domain([.1,1,10]);return e.copy=function(){return yi(e,k4()).base(e.base())},Mn.apply(e,arguments)}function A4(){var e=Lg(ch());return e.copy=function(){return yi(e,A4()).constant(e.constant())},Mn.apply(e,arguments)}function Xg(){var e=Gg(ch());return e.copy=function(){return yi(e,Xg()).exponent(e.exponent())},Mn.apply(e,arguments)}function RG(){return Xg.apply(null,arguments).exponent(.5)}const io=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cg,scaleDiverging:M4,scaleDivergingLog:k4,scaleDivergingPow:Xg,scaleDivergingSqrt:RG,scaleDivergingSymlog:A4,scaleIdentity:s4,scaleImplicit:yv,scaleLinear:a4,scaleLog:l4,scaleOrdinal:Og,scalePoint:PR,scalePow:Ug,scaleQuantile:f4,scaleQuantize:h4,scaleRadial:c4,scaleSequential:x4,scaleSequentialLog:S4,scaleSequentialPow:Yg,scaleSequentialQuantile:E4,scaleSequentialSqrt:DG,scaleSequentialSymlog:P4,scaleSqrt:mL,scaleSymlog:u4,scaleThreshold:d4,scaleTime:IG,scaleUtc:$G,tickFormat:i4},Symbol.toStringTag,{value:"Module"}));var wi=e=>e.chartData,Qg=k([wi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fh=(e,t,r,n)=>n?Qg(e):wi(e);function ds(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(rr(t)&&rr(r))return!0}return!1}function $b(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function LG(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(rr(r))i=r;else if(typeof r=="function")return;if(rr(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(ds(s))return s}}function GG(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ds(n))return $b(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(q(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Tw.test(i)){var l=Tw.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(q(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&jw.test(a)){var c=jw.exec(a);if(c==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ds(h))return t==null?h:$b(h,t,r)}}}var Ss=1e9,UG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zg,Se=!0,br="[DecimalError] ",Ki=br+"Invalid argument: ",Jg=br+"Exponent out of range: ",Ps=Math.floor,Ci=Math.pow,BG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yt,Qe=1e7,we=7,O4=9007199254740991,Vc=Ps(O4/we),B={};B.absoluteValue=B.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};B.comparedTo=B.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};B.decimalPlaces=B.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*we;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};B.dividedBy=B.div=function(e){return hn(this,new this.constructor(e))};B.dividedToIntegerBy=B.idiv=function(e){var t=this,r=t.constructor;return fe(hn(t,new r(e),0,1),r.precision)};B.equals=B.eq=function(e){return!this.cmp(e)};B.exponent=function(){return Be(this)};B.greaterThan=B.gt=function(e){return this.cmp(e)>0};B.greaterThanOrEqualTo=B.gte=function(e){return this.cmp(e)>=0};B.isInteger=B.isint=function(){return this.e>this.d.length-2};B.isNegative=B.isneg=function(){return this.s<0};B.isPositive=B.ispos=function(){return this.s>0};B.isZero=function(){return this.s===0};B.lessThan=B.lt=function(e){return this.cmp(e)<0};B.lessThanOrEqualTo=B.lte=function(e){return this.cmp(e)<1};B.logarithm=B.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yt))throw Error(br+"NaN");if(r.s<1)throw Error(br+(r.s?"NaN":"-Infinity"));return r.eq(Yt)?new n(0):(Se=!1,t=hn(nl(r,a),nl(e,a),a),Se=!0,fe(t,i))};B.minus=B.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j4(t,e):C4(t,(e.s=-e.s,e))};B.modulo=B.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(br+"NaN");return r.s?(Se=!1,t=hn(r,e,0,1).times(e),Se=!0,r.minus(t)):fe(new n(r),i)};B.naturalExponential=B.exp=function(){return T4(this)};B.naturalLogarithm=B.ln=function(){return nl(this)};B.negated=B.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};B.plus=B.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C4(t,e):j4(t,(e.s=-e.s,e))};B.precision=B.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ki+e);if(t=Be(i)+1,n=i.d.length-1,r=n*we+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};B.squareRoot=B.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(br+"NaN")}for(e=Be(o),Se=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Wr(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ps((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(hn(o,a,s+2)).times(.5),Wr(a.d).slice(0,s)===(t=Wr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(fe(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Se=!0,fe(n,r)};B.times=B.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,f=c.constructor,h=c.d,d=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,r=c.e+e.e,l=h.length,u=d.length,l<u&&(a=h,h=d,d=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+d[n]*h[i-n-1]+t,a[i--]=o%Qe|0,t=o/Qe|0;a[i]=(a[i]+t)%Qe|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Se?fe(e,f.precision):e};B.toDecimalPlaces=B.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xr(e,0,Ss),t===void 0?t=n.rounding:Xr(t,0,8),fe(r,e+Be(r)+1,t))};B.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ra(n,!0):(Xr(e,0,Ss),t===void 0?t=i.rounding:Xr(t,0,8),n=fe(new i(n),e+1,t),r=ra(n,!0,e+1)),r};B.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ra(i):(Xr(e,0,Ss),t===void 0?t=a.rounding:Xr(t,0,8),n=fe(new a(i),e+Be(i)+1,t),r=ra(n.abs(),!1,e+Be(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};B.toInteger=B.toint=function(){var e=this,t=e.constructor;return fe(new t(e),Be(e)+1,t.rounding)};B.toNumber=function(){return+this};B.toPower=B.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Yt);if(o=new l(o),!o.s){if(e.s<1)throw Error(br+"Infinity");return o}if(o.eq(Yt))return o;if(n=l.precision,e.eq(Yt))return fe(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=O4){for(i=new l(Yt),t=Math.ceil(n/we+4),Se=!1;r%2&&(i=i.times(o),Rb(i.d,t)),r=Ps(r/2),r!==0;)o=o.times(o),Rb(o.d,t);return Se=!0,e.s<0?new l(Yt).div(i):fe(i,n)}}else if(a<0)throw Error(br+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Se=!1,i=e.times(nl(o,n+u)),Se=!0,i=T4(i),i.s=a,i};B.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Be(i),n=ra(i,r<=a.toExpNeg||r>=a.toExpPos)):(Xr(e,1,Ss),t===void 0?t=a.rounding:Xr(t,0,8),i=fe(new a(i),e,t),r=Be(i),n=ra(i,e<=r||r<=a.toExpNeg,e)),n};B.toSignificantDigits=B.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xr(e,1,Ss),t===void 0?t=n.rounding:Xr(t,0,8)),fe(new n(r),e,t)};B.toString=B.valueOf=B.val=B.toJSON=B[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Be(e),r=e.constructor;return ra(e,t<=r.toExpNeg||t>=r.toExpPos)};function C4(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Se?fe(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/we),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Qe|0,l[a]%=Qe;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Se?fe(t,f):t}function Xr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ki+e)}function Wr(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=we-n.length,r&&(a+=Dn(r)),a+=n;s=e[t],n=s+"",r=we-n.length,r&&(a+=Dn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var hn=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Qe|0,s=a/Qe|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Qe+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,f,h,d,v,p,y,m,g,w,_,P,S,E,M,A=n.constructor,O=n.s==i.s?1:-1,C=n.d,j=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(br+"Division by zero");for(l=n.e-i.e,E=j.length,P=C.length,d=new A(O),v=d.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,a==null?g=a=A.precision:s?g=a+(Be(n)-Be(i))+1:g=a,g<0)return new A(0);if(g=g/we+2|0,u=0,E==1)for(c=0,j=j[0],g++;(u<P||c)&&g--;u++)w=c*Qe+(C[u]||0),v[u]=w/j|0,c=w%j|0;else{for(c=Qe/(j[0]+1)|0,c>1&&(j=e(j,c),C=e(C,c),E=j.length,P=C.length),_=E,p=C.slice(0,E),y=p.length;y<E;)p[y++]=0;M=j.slice(),M.unshift(0),S=j[0],j[1]>=Qe/2&&++S;do c=0,o=t(j,p,E,y),o<0?(m=p[0],E!=y&&(m=m*Qe+(p[1]||0)),c=m/S|0,c>1?(c>=Qe&&(c=Qe-1),f=e(j,c),h=f.length,y=p.length,o=t(f,p,h,y),o==1&&(c--,r(f,E<h?M:j,h))):(c==0&&(o=c=1),f=j.slice()),h=f.length,h<y&&f.unshift(0),r(p,f,y),o==-1&&(y=p.length,o=t(j,p,E,y),o<1&&(c++,r(p,E<y?M:j,y))),y=p.length):o===0&&(c++,p=[0]),v[u++]=c,o&&p[0]?p[y++]=C[_]||0:(p=[C[_]],y=1);while((_++<P||p[0]!==void 0)&&g--)}return v[0]||v.shift(),d.e=l,fe(d,s?a+Be(d)+1:a)}}();function T4(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(Be(e)>16)throw Error(Jg+Be(e));if(!e.s)return new c(Yt);for(t==null?(Se=!1,o=f):o=t,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ci(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(Yt),c.precision=o;;){if(i=fe(i.times(e),o),r=r.times(++l),s=a.plus(hn(i,r,o)),Wr(s.d).slice(0,o)===Wr(a.d).slice(0,o)){for(;u--;)a=fe(a.times(a),o);return c.precision=f,t==null?(Se=!0,fe(a,f)):a}a=s}}function Be(e){for(var t=e.e*we,r=e.d[0];r>=10;r/=10)t++;return t}function Ad(e,t,r){if(t>e.LN10.sd())throw Se=!0,r&&(e.precision=r),Error(br+"LN10 precision limit exceeded");return fe(new e(e.LN10),t)}function Dn(e){for(var t="";e--;)t+="0";return t}function nl(e,t){var r,n,i,a,s,o,l,u,c,f=1,h=10,d=e,v=d.d,p=d.constructor,y=p.precision;if(d.s<1)throw Error(br+(d.s?"NaN":"-Infinity"));if(d.eq(Yt))return new p(0);if(t==null?(Se=!1,u=y):u=t,d.eq(10))return t==null&&(Se=!0),Ad(p,u);if(u+=h,p.precision=u,r=Wr(v),n=r.charAt(0),a=Be(d),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Wr(d.d),n=r.charAt(0),f++;a=Be(d),n>1?(d=new p("0."+r),a++):d=new p(n+"."+r.slice(1))}else return l=Ad(p,u+2,y).times(a+""),d=nl(new p(n+"."+r.slice(1)),u-h).plus(l),p.precision=y,t==null?(Se=!0,fe(d,y)):d;for(o=s=d=hn(d.minus(Yt),d.plus(Yt),u),c=fe(d.times(d),u),i=3;;){if(s=fe(s.times(c),u),l=o.plus(hn(s,new p(i),u)),Wr(l.d).slice(0,u)===Wr(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Ad(p,u+2,y).times(a+""))),o=hn(o,new p(f),u),p.precision=y,t==null?(Se=!0,fe(o,y)):o;o=l,i+=2}}function Db(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ps(r/we),e.d=[],n=(r+1)%we,r<0&&(n+=we),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=we;n<i;)e.d.push(+t.slice(n,n+=we));t=t.slice(n),n=we-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Se&&(e.e>Vc||e.e<-Vc))throw Error(Jg+r)}else e.s=0,e.e=0,e.d=[0];return e}function fe(e,t,r){var n,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=we,i=t,u=f[c=0];else{if(c=Math.ceil((n+1)/we),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;n%=we,i=n-we+s}if(r!==void 0&&(a=Ci(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Ci(10,s-i):0:f[c-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=Be(e),f.length=1,t=t-a-1,f[0]=Ci(10,(we-t%we)%we),e.e=Ps(-t/we)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=Ci(10,we-n),f[c]=i>0?(u/Ci(10,s-i)%Ci(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Qe&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=Qe)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Se&&(e.e>Vc||e.e<-Vc))throw Error(Jg+Be(e));return e}function j4(e,t){var r,n,i,a,s,o,l,u,c,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Se?fe(t,d):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(d/we),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Qe-1;--l[a],l[i]+=Qe}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Se?fe(t,d):t):new h(0)}function ra(e,t,r){var n,i=Be(e),a=Wr(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Dn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Dn(-i-1)+a,r&&(n=r-s)>0&&(a+=Dn(n))):i>=s?(a+=Dn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Dn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Dn(n))),e.s<0?"-"+a:a}function Rb(e,t){if(e.length>t)return e.length=t,!0}function N4(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ki+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Db(s,a.toString())}else if(typeof a!="string")throw Error(Ki+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,BG.test(a))Db(s,a);else throw Error(Ki+a)}if(i.prototype=B,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N4,i.config=i.set=zG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function zG(e){if(!e||typeof e!="object")throw Error(br+"Object expected");var t,r,n,i=["precision",1,Ss,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ps(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ki+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ki+r+": "+n);return this}var Zg=N4(UG);Yt=new Zg(1);const le=Zg;var FG=e=>e,I4={"@@functional/placeholder":!0},$4=e=>e===I4,Lb=e=>function t(){return arguments.length===0||arguments.length===1&&$4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},D4=(e,t)=>e===1?t:Lb(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==I4).length;return a>=e?t(...n):D4(e-a,Lb(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>$4(c)?o.shift():c);return t(...u,...o)}))}),hh=e=>D4(e.length,e),xv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},WG=hh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),KG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return FG;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Sv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),R4=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=i,r=e(...i)),r}};function L4(e){var t;return e===0?t=1:t=Math.floor(new le(e).abs().log(10).toNumber())+1,t}function G4(e,t,r){for(var n=new le(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}hh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});hh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});hh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var U4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},B4=(e,t,r)=>{if(e.lte(0))return new le(0);var n=L4(e.toNumber()),i=new le(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new le(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new le(l.toNumber()):new le(Math.ceil(l.toNumber()))},qG=(e,t,r)=>{var n=new le(1),i=new le(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new le(10).pow(L4(e)-1),i=new le(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new le(Math.floor(e)))}else e===0?i=new le(Math.floor((t-1)/2)):r||(i=new le(Math.floor(e)));var s=Math.floor((t-1)/2),o=KG(WG(l=>i.add(new le(l-s).mul(n)).toNumber()),xv);return o(0,t)},z4=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new le(0),tickMin:new le(0),tickMax:new le(0)};var s=B4(new le(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new le(0):(o=new le(t).add(r).div(2),o=o.sub(new le(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new le(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?z4(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new le(l).mul(s)),tickMax:o.add(new le(u).mul(s))})};function HG(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=U4([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...xv(0,n-1).map(()=>1/0)]:[...xv(0,n-1).map(()=>-1/0),o];return t>r?Sv(l):l}if(s===o)return qG(s,n,i);var{step:u,tickMin:c,tickMax:f}=z4(s,o,a,i,0),h=G4(c,f.add(new le(.1).mul(u)),u);return t>r?Sv(h):h}function VG(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=U4([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),l=B4(new le(s).sub(a).div(o-1),i,0),u=[...G4(new le(a),new le(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),r>n?Sv(u):u}var YG=R4(HG),XG=R4(VG),F4=e=>e.rootProps.maxBarSize,QG=e=>e.rootProps.barGap,W4=e=>e.rootProps.barCategoryGap,JG=e=>e.rootProps.barSize,Ol=e=>e.rootProps.stackOffset,em=e=>e.options.chartName,tm=e=>e.rootProps.syncId,K4=e=>e.rootProps.syncMethod,rm=e=>e.options.eventEmitter,nn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Ht={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},dh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ZG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:nn.angleAxisId,includeHidden:!1,name:void 0,reversed:nn.reversed,scale:nn.scale,tick:nn.tick,tickCount:void 0,ticks:void 0,type:nn.type,unit:void 0},eU={allowDataOverflow:Ht.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ht.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ht.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ht.scale,tick:Ht.tick,tickCount:Ht.tickCount,ticks:void 0,type:Ht.type,unit:void 0},tU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nn.scale,tick:nn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},rU={allowDataOverflow:Ht.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ht.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ht.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ht.scale,tick:Ht.tick,tickCount:Ht.tickCount,ticks:void 0,type:"category",unit:void 0},nm=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?tU:ZG,im=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?rU:eU,vh=e=>e.polarOptions,am=k([Pn,En,Ve],SE),q4=k([vh,am],(e,t)=>{if(e!=null)return yt(e.innerRadius,t,0)}),H4=k([vh,am],(e,t)=>{if(e!=null)return yt(e.outerRadius,t,t*.8)}),nU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},V4=k([vh],nU);k([nm,V4],dh);var Y4=k([am,q4,H4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});k([im,Y4],dh);var X4=k([te,vh,q4,H4,Pn,En],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:yt(s,i,i/2),cy:yt(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ee=(e,t)=>t,Cl=(e,t,r)=>r;function sm(e){return e==null?void 0:e.id}var Xe=e=>{var t=te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Es=e=>e.tooltip.settings.axisId,rt=e=>{var t=Xe(e),r=Es(e);return Tl(e,t,r)},Q4=k([rt],e=>e==null?void 0:e.dataKey);function J4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=sm(o);u.forEach((f,h)=>{var d=a==null||i?h:String(me(f,a,null)),v=me(f,o.dataKey,0),p;s.has(d)?p=s.get(d):p={},Object.assign(p,{[c]:v}),s.set(d,p)})}}),Array.from(s.values())}function ph(e){return e.stackId!=null&&e.dataKey!=null}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){iU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iU(e,t,r){return(t=aU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=sU(e,"string");return typeof t=="symbol"?t:t+""}function sU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pv=[0,"auto"],Wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Z4=(e,t)=>e.cartesianAxis.xAxis[t],kn=(e,t)=>{var r=Z4(e,t);return r??Wt},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Pv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xl},eM=(e,t)=>e.cartesianAxis.yAxis[t],An=(e,t)=>{var r=eM(e,t);return r??Kt},oU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},om=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??oU},Re=(e,t,r)=>{switch(t){case"xAxis":return kn(e,r);case"yAxis":return An(e,r);case"zAxis":return om(e,r);case"angleAxis":return nm(e,r);case"radiusAxis":return im(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lU=(e,t,r)=>{switch(t){case"xAxis":return kn(e,r);case"yAxis":return An(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Tl=(e,t,r)=>{switch(t){case"xAxis":return kn(e,r);case"yAxis":return An(e,r);case"angleAxis":return nm(e,r);case"radiusAxis":return im(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lm(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var gh=e=>e.graphicalItems.cartesianItems,uU=k([Ee,Cl],lm),um=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),jl=k([gh,Re,uU],um),rM=k([jl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ph)),nM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),iM=k([jl],nM),cm=e=>e.map(t=>t.data).filter(Boolean).flat(1),cU=k([jl],cm),fm=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},hm=k([cU,fh],fm),dm=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:me(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:me(i,n)}))):e.map(n=>({value:n})),mh=k([hm,Re,jl],dm);function aM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ca(e){return e.filter(t=>Yr(t)||t instanceof Date).map(Number).filter(t=>er(t)===!1)}function fU(e,t,r){return!r||typeof t!="number"||er(t)?[]:r.length?ca(r.flatMap(n=>{var i=me(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!rr(a)||!rr(s)))return[t-a,t+s]})):[]}var hU=k([rM,fh,rt],J4),sM=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(sm);return[s,{stackedData:N$(e,l,r),graphicalItems:o}]}))},Ev=k([hU,rM,Ol],sM),oM=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=L$(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},dU=k([Ev,wi,Ee],oM),lM=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var o,l,u=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>aM(i,f)),c=me(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:fU(a,c,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:me(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),yh=e=>e.errorBars,uM=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>aM(r,n));k([iM,yh,Ee],uM);var vU=k([hm,Re,iM,yh,Ee],lM);function pU(e){var{value:t}=e;if(Yr(t)||t instanceof Date)return t}var Ub=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ca(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gU=(e,t,r)=>{var n=e.map(pU).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&rP(n))?VE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},vm=e=>{var t;if(e==null||!("domain"in e))return Pv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ca(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Pv},Xc=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},cM=e=>e.referenceElements.dots,Ms=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),mU=k([cM,Ee,Cl],Ms),fM=e=>e.referenceElements.areas,yU=k([fM,Ee,Cl],Ms),hM=e=>e.referenceElements.lines,wU=k([hM,Ee,Cl],Ms),dM=(e,t)=>{var r=ca(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bU=k(mU,Ee,dM),vM=(e,t)=>{var r=ca(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_U=k([yU,Ee],vM),pM=(e,t)=>{var r=ca(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xU=k(wU,Ee,pM),SU=k(bU,xU,_U,(e,t,r)=>Xc(e,r,t)),gM=k([Re],vm),pm=(e,t,r,n,i,a,s)=>{var o=LG(t,e.allowDataOverflow);if(o!=null)return o;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?Xc(r,i,Ub(n)):Xc(i,Ub(n));return GG(t,u,e.allowDataOverflow)},PU=k([Re,gM,dU,vU,SU,te,Ee],pm),EU=[0,1],gm=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=pi(t,a);return u&&o==null?VE(0,r.length):l==="category"?gU(n,e,u):i==="expand"?EU:s}},mm=k([Re,te,hm,mh,Ol,Ee,PU],gm),mM=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(wl(a));return o in io?o:"point"}}},ks=k([Re,te,tM,em,Ee],mM);function MU(e){if(e!=null){if(e in io)return io[e]();var t="scale".concat(wl(e));if(t in io)return io[t]()}}function ym(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=MU(t);if(i!=null){var a=i.domain(r).range(n);return A$(a),a}}}var wm=(e,t,r)=>{var n=vm(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ds(e))return YG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ds(e))return XG(e,t.tickCount,t.allowDecimals)}},bm=k([mm,Tl,ks],wm),_m=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ds(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},kU=k([Re,mm,bm,Ee],_m),AU=k(mh,Re,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ca(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),yM=k(AU,te,W4,Ve,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!rr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=yt(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),OU=(e,t)=>{var r=kn(e,t);return r==null||typeof r.padding!="string"?0:yM(e,"xAxis",t,r.padding)},CU=(e,t)=>{var r=An(e,t);return r==null||typeof r.padding!="string"?0:yM(e,"yAxis",t,r.padding)},TU=k(kn,OU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),jU=k(An,CU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),NU=k([Ve,TU,nh,rh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),IU=k([Ve,te,jU,nh,rh,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Nl=(e,t,r,n)=>{var i;switch(t){case"xAxis":return NU(e,r,n);case"yAxis":return IU(e,r,n);case"zAxis":return(i=om(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return V4(e);case"radiusAxis":return Y4(e,r);default:return}},wM=k([Re,Nl],dh),As=k([Re,ks,kU,wM],ym);k([jl,yh,Ee],uM);function bM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wh=(e,t)=>t,bh=(e,t,r)=>r,$U=k(eh,wh,bh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bM)),DU=k(th,wh,bh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bM)),_M=(e,t)=>({width:e.width,height:t.height}),RU=(e,t)=>{var r=typeof t.width=="number"?t.width:xl;return{width:r,height:e.height}},xM=k(Ve,kn,_M),LU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},GU=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},UU=k(En,Ve,$U,wh,bh,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=_M(t,o);s==null&&(s=LU(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),BU=k(Pn,Ve,DU,wh,bh,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=RU(t,o);s==null&&(s=GU(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),zU=(e,t)=>{var r=kn(e,t);if(r!=null)return UU(e,r.orientation,r.mirror)},FU=k([Ve,kn,zU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),WU=(e,t)=>{var r=An(e,t);if(r!=null)return BU(e,r.orientation,r.mirror)},KU=k([Ve,An,WU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),SM=k(Ve,An,(e,t)=>{var r=typeof t.width=="number"?t.width:xl;return{width:r,height:e.height}}),Bb=(e,t,r)=>{switch(t){case"xAxis":return xM(e,r).width;case"yAxis":return SM(e,r).height;default:return}},PM=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=pi(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&rP(l))return l}},xm=k([te,mh,Re,Ee],PM),EM=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=pi(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},Sm=k([te,mh,Tl,Ee],EM),zb=k([te,lU,ks,As,xm,Sm,Nl,bm,Ee],(e,t,r,n,i,a,s,o,l)=>{if(t==null)return null;var u=pi(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}),qU=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=pi(e,l),{type:c,ticks:f,tickCount:h}=t,d=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=c==="category"&&n.bandwidth?n.bandwidth()/d:0;v=l==="angleAxis"&&a!=null&&a.length>=2?Ze(a[0]-a[1])*2*v:v;var p=f||i;if(p){var y=p.map((m,g)=>{var w=s?s.indexOf(m):m;return{index:g,coordinate:n(w)+v,value:m,offset:v}});return y.filter(m=>!er(m.coordinate))}return u&&o?o.map((m,g)=>({coordinate:n(m)+v,value:m,index:g,offset:v})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+v,value:m,offset:v})):n.domain().map((m,g)=>({coordinate:n(m)+v,value:s?s[m]:m,index:g,offset:v}))}},MM=k([te,Tl,ks,As,bm,Nl,xm,Sm,Ee],qU),HU=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=pi(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ze(n[0]-n[1])*2*u:u,o&&a?a.map((c,f)=>({coordinate:r(c)+u,value:c,index:f,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,f)=>({coordinate:r(c)+u,value:i?i[c]:c,index:f,offset:u}))}},ai=k([te,Tl,As,Nl,xm,Sm,Ee],HU),si=k(Re,As,(e,t)=>{if(!(e==null||t==null))return Yc(Yc({},e),{},{scale:t})}),VU=k([Re,ks,mm,wM],ym);k((e,t,r)=>om(e,r),VU,(e,t)=>{if(!(e==null||t==null))return Yc(Yc({},e),{},{scale:t})});var YU=k([te,eh,th],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kM=e=>e.options.defaultTooltipEventType,AM=e=>e.options.validateTooltipEventTypes;function OM(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Pm(e,t){var r=kM(e),n=AM(e);return OM(t,r,n)}function XU(e){return W(t=>Pm(t,e))}var CM=(e,t)=>{var r,n=Number(t);if(!(er(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},QU=e=>e.tooltip.settings,Bn={active:!1,index:null,dataKey:void 0,coordinate:void 0},JU={itemInteraction:{click:Bn,hover:Bn},axisInteraction:{click:Bn,hover:Bn},keyboardInteraction:Bn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TM=ar({name:"tooltip",initialState:JU,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=fn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ZU,removeTooltipEntrySettings:eB,setTooltipSettingsState:tB,setActiveMouseOverItemIndex:jM,mouseLeaveItem:rB,mouseLeaveChart:NM,setActiveClickItemIndex:nB,setMouseOverAxisIndex:IM,setMouseClickAxisIndex:iB,setSyncInteraction:Mv,setKeyboardInteraction:kv}=TM.actions,aB=TM.reducer;function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){sB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sB(e,t,r){return(t=oB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oB(e){var t=lB(e,"string");return typeof t=="symbol"?t:t+""}function lB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cB(e){return e.index!=null}var $M=(e,t,r,n)=>{if(t==null)return Bn;var i=uB(e,t,r);if(i==null)return Bn;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(cB(i)){if(a)return Su(Su({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Su(Su({},Bn),{},{coordinate:i.coordinate})},Em=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!rr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},DM=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},RM=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Il=e=>e.options.tooltipPayloadSearcher,Os=e=>e.tooltip;function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return(t=hB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=dB(e,"string");return typeof t=="symbol"?t:t+""}function dB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vB(e,t){return e??t}var LM=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,f=[];return e.reduce((h,d)=>{var v,{dataDefinedOnItem:p,settings:y}=d,m=vB(p,o),g=Array.isArray(m)?PE(m,u,c):m,w=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,_=y==null?void 0:y.nameKey,P;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&s==="axis"?P=nP(g,n,i):P=a(g,t,l,_),Array.isArray(P))P.forEach(E=>{var M=Kb(Kb({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(Nw({tooltipEntrySettings:M,dataKey:E.dataKey,payload:E.payload,value:me(E.payload,E.dataKey),name:E.name}))});else{var S;h.push(Nw({tooltipEntrySettings:y,dataKey:w,payload:P,value:me(P,w),name:(S=me(P,_))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},Mm=k([rt,te,tM,em,Xe],mM),pB=k([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),gB=k([Xe,Es],lm),$l=k([pB,rt,gB],um),mB=k([$l],e=>e.filter(ph)),yB=k([$l],cm),Cs=k([yB,wi],fm),wB=k([mB,wi,rt],J4),km=k([Cs,rt,$l],dm),bB=k([rt],vm),_B=k([$l],e=>e.filter(ph)),xB=k([wB,_B,Ol],sM),SB=k([xB,wi,Xe],oM),PB=k([$l],nM),EB=k([Cs,rt,PB,yh,Xe],lM),MB=k([cM,Xe,Es],Ms),kB=k([MB,Xe],dM),AB=k([fM,Xe,Es],Ms),OB=k([AB,Xe],vM),CB=k([hM,Xe,Es],Ms),TB=k([CB,Xe],pM),jB=k([kB,TB,OB],Xc),NB=k([rt,bB,SB,EB,jB,te,Xe],pm),GM=k([rt,te,Cs,km,Ol,Xe,NB],gm),IB=k([GM,rt,Mm],wm),$B=k([rt,GM,IB,Xe],_m),UM=e=>{var t=Xe(e),r=Es(e),n=!1;return Nl(e,t,r,n)},BM=k([rt,UM],dh),zM=k([rt,Mm,$B,BM],ym),DB=k([te,km,rt,Xe],PM),RB=k([te,km,rt,Xe],EM),LB=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=pi(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ze(i[0]-i[1])*2*f:f,u&&s?s.map((h,d)=>({coordinate:n(h)+f,value:h,index:d,offset:f})):n.domain().map((h,d)=>({coordinate:n(h)+f,value:a?a[h]:h,index:d,offset:f}))}}},On=k([te,rt,Mm,zM,UM,DB,RB,Xe],LB),Am=k([kM,AM,QU],(e,t,r)=>OM(r.shared,e,t)),FM=e=>e.tooltip.settings.trigger,Om=e=>e.tooltip.settings.defaultIndex,_h=k([Os,Am,FM,Om],$M),oi=k([_h,Cs],Em),WM=k([On,oi],CM),KM=k([_h],e=>{if(e)return e.dataKey}),qM=k([Os,Am,FM,Om],RM),GB=k([Pn,En,te,Ve,On,Om,qM,Il],DM),UB=k([_h,GB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),BB=k([_h],e=>e.active),zB=k([qM,oi,wi,Q4,WM,Il,Am],LM),FB=k([zB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){WB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WB(e,t,r){return(t=KB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HB=()=>W(rt),VB=()=>{var e=HB(),t=W(On),r=W(zM);return Qo(Hb(Hb({},e),{},{scale:r}),t)},YB=()=>W(em),Cm=(e,t)=>t,HM=(e,t,r)=>r,Tm=(e,t,r,n)=>n,XB=k(On,e=>Vf(e,t=>t.coordinate)),jm=k([Os,Cm,HM,Tm],$M),VM=k([jm,Cs],Em),QB=(e,t,r)=>{if(t!=null){var n=Os(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},YM=k([Os,Cm,HM,Tm],RM),Qc=k([Pn,En,te,Ve,On,Tm,YM,Il],DM),JB=k([jm,Qc],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),XM=k(On,VM,CM),ZB=k([YM,VM,wi,Q4,XM,Il,Cm],LM),ez=k([jm],e=>({isActive:e.active,activeIndex:e.index})),tz=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a)){var l=G$(e.chartX,e.chartY,t,r,o);if(l){var u=B$(l,t),c=M$(u,s,a,n,i),f=U$(t,a,c,l);return{activeIndex:String(c),activeCoordinate:f}}}};function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function Vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vb(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return(t=nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function az(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:o,tooltipEventType:l,chartName:u}=e,c=t,f=r,h=n;if(!o||!c||u!=="ScatterChart"&&l!=="axis")return null;var d,v;if(u==="ScatterChart")d=c,v=AD;else if(u==="BarChart")d=OD(s,c,i,a),v=BE;else if(s==="radial"){var{cx:p,cy:y,radius:m,startAngle:g,endAngle:w}=zE(c);d={cx:p,cy:y,startAngle:g,endAngle:w,innerRadius:m,outerRadius:m},v=WE}else d={points:lR(s,c,i)},v=kg;var _=typeof o=="object"&&"className"in o?o.className:void 0,P=Pu(Pu(Pu(Pu({stroke:"#ccc",pointerEvents:"none"},i),d),Ce(o,!1)),{},{payload:f,payloadIndex:h,className:ae("recharts-tooltip-cursor",_)});return b.isValidElement(o)?b.cloneElement(o,P):b.createElement(v,P)}function sz(e){var t=VB(),r=CE(),n=ih(),i=YB();return b.createElement(az,Av({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var QM=b.createContext(null),oz=()=>b.useContext(QM),JM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],d]:l._events[v].push(d):(l._events[v]=d,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,v=new Array(d);h<d;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,d,v){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],m=arguments.length,g,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,d),!0;case 6:return y.fn.call(y.context,c,f,h,d,v),!0}for(w=1,g=new Array(m-1);w<m;w++)g[w-1]=arguments[w];y.fn.apply(y.context,g)}else{var _=y.length,P;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),m){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,c);break;case 3:y[w].fn.call(y[w].context,c,f);break;case 4:y[w].fn.call(y[w].context,c,f,h);break;default:if(!g)for(P=1,g=new Array(m-1);P<m;P++)g[P-1]=arguments[P];y[w].fn.apply(y[w].context,g)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var d=r?r+u:u;if(!this._events[d])return this;if(!c)return s(this,d),this;var v=this._events[d];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,d);else{for(var p=0,y=[],m=v.length;p<m;p++)(v[p].fn!==c||h&&!v[p].once||f&&v[p].context!==f)&&y.push(v[p]);y.length?this._events[d]=y.length===1?y[0]:y:s(this,d)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(JM);var lz=JM.exports;const uz=_n(lz);var il=new uz,Ov="recharts.syncEvent.tooltip",Yb="recharts.syncEvent.brush";function Nm(e,t){if(t){var r=Number.parseInt(t,10);if(!er(r))return e==null?void 0:e[r]}}var cz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZM=ar({name:"options",initialState:cz,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fz=ZM.reducer,{createEventEmitter:hz}=ZM.actions;function dz(e){return e.tooltip.syncInteraction}var vz={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ek=ar({name:"chartData",initialState:vz,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Xb,setDataStartEndIndexes:pz,setComputedData:XY}=ek.actions,gz=ek.reducer,mz=["x","y"];function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _z(e,t){if(e==null)return{};var r,n,i=xz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tk=()=>{};function Sz(){var e=W(tm),t=W(rm),r=De(),n=W(K4),i=W(On),a=ih(),s=Mg(),o=W(l=>l.rootProps.className);b.useEffect(()=>{if(e==null)return tk;var l=(u,c,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate){var d=c.payload.coordinate,{x:v,y:p}=d,y=_z(d,mz),m=Si(Si(Si({},y),typeof v=="number"&&{x:Math.max(s.x,Math.min(v,s.x+s.width))}),typeof p=="number"&&{y:Math.max(s.y,Math.min(p,s.y+s.height))}),g=Si(Si({},c),{},{payload:Si(Si({},c.payload),{},{coordinate:m})});r(g)}else r(c);return}if(i!=null){var w;if(typeof n=="function"){var _={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},P=n(i,_);w=i[P]}else n==="value"&&(w=i.find(G=>String(G.value)===c.payload.label));var{coordinate:S}=c.payload;if(w==null||c.payload.active===!1||S==null||s==null){r(Mv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:M}=S,A=Math.min(E,s.x+s.width),O=Math.min(M,s.y+s.height),C={x:a==="horizontal"?w.coordinate:A,y:a==="horizontal"?O:w.coordinate},j=Mv({active:c.payload.active,coordinate:C,dataKey:c.payload.dataKey,index:String(w.index),label:c.payload.label});r(j)}}};return il.on(Ov,l),()=>{il.off(Ov,l)}},[o,r,t,e,n,i,a,s])}function Pz(){var e=W(tm),t=W(rm),r=De();b.useEffect(()=>{if(e==null)return tk;var n=(i,a,s)=>{t!==s&&e===i&&r(pz(a))};return il.on(Yb,n),()=>{il.off(Yb,n)}},[r,t,e])}function Ez(){var e=De();b.useEffect(()=>{e(hz())},[e]),Sz(),Pz()}function Mz(e,t,r,n,i,a){var s=W(h=>QB(h,e,t)),o=W(rm),l=W(tm),u=W(K4),c=W(dz),f=c==null?void 0:c.active;b.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=Mv({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});il.emit(Ov,l,h,o)}},[f,r,s,i,n,o,l,u,a])}function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return(t=Az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Oz(e,"string");return typeof t=="symbol"?t:t+""}function Oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cz(e){return e.dataKey}function Tz(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(sD,t)}var e_=[],jz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!gi.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Od(e){var t=ct(e,jz),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:c,position:f,reverseDirection:h,useTranslate3d:d,wrapperStyle:v,cursor:p,shared:y,trigger:m,defaultIndex:g,portal:w,axisId:_}=t,P=De(),S=typeof g=="number"?String(g):g;b.useEffect(()=>{P(tB({shared:y,trigger:m,axisId:_,active:r,defaultIndex:S}))},[P,y,m,_,r,S]);var E=Mg(),M=DE(),A=XU(y),{activeIndex:O,isActive:C}=W(ft=>ez(ft,A,m,S)),j=W(ft=>ZB(ft,A,m,S)),G=W(ft=>XM(ft,A,m,S)),F=W(ft=>JB(ft,A,m,S)),Y=j,Z=oz(),V=r??C,[$,L]=g9([Y,V]),H=A==="axis"?G:void 0;Mz(A,m,F,H,O,V);var ce=w??Z;if(ce==null)return null;var K=Y??e_;V||(K=e_),o&&K.length&&(K=I7(Y.filter(ft=>ft.value!=null&&(ft.hide!==!0||t.includeHidden)),c,Cz));var Cn=K.length>0,Sr=b.createElement(dD,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:V,coordinate:F,hasPayload:Cn,offset:u,position:f,reverseDirection:h,useTranslate3d:d,viewBox:E,wrapperStyle:v,lastBoundingBox:$,innerRef:L,hasPortalFromProps:!!w},Tz(s,Zb(Zb({},t),{},{payload:K,label:H,active:V,coordinate:F,accessibilityLayer:M})));return b.createElement(b.Fragment,null,Z2.createPortal(Sr,ce),V&&b.createElement(sz,{cursor:p,tooltipEventType:A,coordinate:F,payload:Y,index:O}))}var rk={},nk={},ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),p()};let h=null;const d=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},p=()=>{v(),s=void 0,o=null},y=()=>{c()},m=function(...g){if(i!=null&&i.aborted)return;s=this,o=g;const w=h==null;d(),l&&w&&c()};return m.schedule=d,m.cancel=p,m.flush=y,i==null||i.addEventListener("abort",p,{once:!0}),m}e.debounce=t})(ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ik;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const h=t.debounce(function(...p){c=n.apply(this,p),f=null},i,{edges:u}),d=function(...p){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=n.apply(this,p),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,p),c)},v=()=>(h.flush(),c);return d.cancel=h.cancel,d.flush=v,d}e.debounce=r})(nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nk;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(rk);var Nz=rk.throttle;const Iz=_n(Nz);var So=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){$z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $z(e,t,r){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Rz(e,"string");return typeof t=="symbol"?t:t+""}function Rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:f,className:h,onResize:d,style:v={}}=e,p=b.useRef(null),y=b.useRef();y.current=d,b.useImperativeHandle(t,()=>p.current);var[m,g]=b.useState({containerWidth:n.width,containerHeight:n.height}),w=b.useCallback((P,S)=>{g(E=>{var M=Math.round(P),A=Math.round(S);return E.containerWidth===M&&E.containerHeight===A?E:{containerWidth:M,containerHeight:A}})},[]);b.useEffect(()=>{var P=A=>{var O,{width:C,height:j}=A[0].contentRect;w(C,j),(O=y.current)===null||O===void 0||O.call(y,C,j)};c>0&&(P=Iz(P,c,{trailing:!0,leading:!1}));var S=new ResizeObserver(P),{width:E,height:M}=p.current.getBoundingClientRect();return w(E,M),S.observe(p.current),()=>{S.disconnect()}},[w,c]);var _=b.useMemo(()=>{var{containerWidth:P,containerHeight:S}=m;if(P<0||S<0)return null;So(Di(i)||Di(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),So(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=Di(i)?P:i,M=Di(a)?S:a;return r&&r>0&&(E?M=E/r:M&&(E=M*r),l&&M>l&&(M=l)),So(E>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,M,i,a,s,o,r),b.Children.map(u,A=>b.cloneElement(A,{width:E,height:M,style:Cd({width:E,height:M},A.props.style)}))},[r,u,a,l,o,s,m,i]);return b.createElement("div",{id:f?"".concat(f):void 0,className:ae("recharts-responsive-container",h),style:Cd(Cd({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:p},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Dl=e=>null;Dl.displayName="Cell";function Lz(e,t,r){return(t=Gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=Uz(e,"string");return typeof t=="symbol"?t:t+""}function Uz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bz{constructor(t){Lz(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){Fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Kz(e,"string");return typeof t=="symbol"?t:t+""}function Kz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qz={cacheSize:2e3,enableCache:!0},ak=zz({},qz),n_=new Bz(ak.cacheSize),Hz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i_="recharts_measurement_span";function Vz(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var a_=(e,t)=>{try{var r=document.getElementById(i_);r||(r=document.createElement("span"),r.setAttribute("id",i_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Hz,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Po=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gi.isSsr)return{width:0,height:0};if(!ak.enableCache)return a_(t,r);var n=Vz(t,r),i=n_.get(n);if(i)return i;var a=a_(t,r);return n_.set(n,a),a},s_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qz=Object.keys(sk),Ua="NaN";function Jz(e,t){return e*sk[t]}class Tt{static parse(t){var r,[,n,i]=(r=Xz.exec(t))!==null&&r!==void 0?r:[];return new Tt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,er(t)&&(this.unit=""),r!==""&&!Yz.test(r)&&(this.num=NaN,this.unit=""),Qz.includes(r)&&(this.num=Jz(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Tt(NaN,""):new Tt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Tt(NaN,""):new Tt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tt(NaN,""):new Tt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tt(NaN,""):new Tt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return er(this.num)}}function ok(e){if(e.includes(Ua))return Ua;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=s_.exec(t))!==null&&r!==void 0?r:[],s=Tt.parse(n??""),o=Tt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Ua;t=t.replace(s_,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,h]=(u=o_.exec(t))!==null&&u!==void 0?u:[],d=Tt.parse(c??""),v=Tt.parse(h??""),p=f==="+"?d.add(v):d.subtract(v);if(p.isNaN())return Ua;t=t.replace(o_,p.toString())}return t}var l_=/\(([^()]*)\)/;function Zz(e){for(var t=e,r;(r=l_.exec(t))!=null;){var[,n]=r;t=t.replace(l_,ok(n))}return t}function eF(e){var t=e.replace(/\s+/g,"");return t=Zz(t),t=ok(t),t}function tF(e){try{return eF(e)}catch{return Ua}}function jd(e){var t=tF(e.slice(5,-1));return t===Ua?"":t}var rF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nF=["dx","dy","angle","className","breakAll"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(null,arguments)}function u_(e,t){if(e==null)return{};var r,n,i=iF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lk=/[ \f\n\r\t\v\u2028\u2029]+/,uk=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Pe(t)||(r?i=t.toString().split(""):i=t.toString().split(lk));var a=i.map(o=>({word:o,width:Po(o,n).width})),s=r?0:Po(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},aF=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=q(a),c=s,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((j,G)=>{var{word:F,width:Y}=G,Z=j[j.length-1];if(Z&&(n==null||i||Z.width+Y+r<Number(n)))Z.words.push(F),Z.width+=Y+r;else{var V={words:[F],width:Y};j.push(V)}return j},[])},h=f(t),d=O=>O.reduce((C,j)=>C.width>j.width?C:j);if(!u||i)return h;var v=h.length>a||d(h).width>Number(n);if(!v)return h;for(var p="…",y=O=>{var C=c.slice(0,O),j=uk({breakAll:l,style:o,children:C+p}).wordsWithComputedWidth,G=f(j),F=G.length>a||d(G).width>Number(n);return[F,G]},m=0,g=c.length-1,w=0,_;m<=g&&w<=c.length-1;){var P=Math.floor((m+g)/2),S=P-1,[E,M]=y(S),[A]=y(P);if(!E&&!A&&(m=P+1),E&&A&&(g=P-1),!E&&A){_=M;break}w++}return _||h},c_=e=>{var t=Pe(e)?[]:e.toString().split(lk);return[{words:t}]},sF=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!gi.isSsr){var o,l,u=uk({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return c_(n);return aF({breakAll:a,children:n,maxLines:s,style:i},o,l,t,r)}return c_(n)},f_="#808080",xh=b.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=f_}=e,c=u_(e,rF),f=b.useMemo(()=>sF({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:h,dy:d,angle:v,className:p,breakAll:y}=c,m=u_(c,nF);if(!Yr(r)||!Yr(n)||f.length===0)return null;var g=r+(q(h)?h:0),w=n+(q(d)?d:0),_;switch(l){case"start":_=jd("calc(".concat(a,")"));break;case"middle":_=jd("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:_=jd("calc(".concat(f.length-1," * -").concat(i,")"));break}var P=[];if(s){var S=f[0].width,{width:E}=c;P.push("scale(".concat(q(E)?E/S:1,")"))}return v&&P.push("rotate(".concat(v,", ").concat(g,", ").concat(w,")")),P.length&&(m.transform=P.join(" ")),b.createElement("text",Cv({},Ce(m,!0),{ref:t,x:g,y:w,className:ae("recharts-text",p),textAnchor:o,fill:u.includes("url")?f_:u}),f.map((M,A)=>{var O=M.words.join(y?"":" ");return b.createElement("tspan",{x:g,dy:A===0?_:i,key:"".concat(O,"-").concat(A)},O)}))});xh.displayName="Text";var oF=["labelRef"];function lF(e,t){if(e==null)return{};var r,n,i=uF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){cF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(null,arguments)}var ck=b.createContext(null),dF=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,s=b.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return b.createElement(ck.Provider,{value:s},a)},fk=()=>{var e=b.useContext(ck),t=Mg();return e||t},vF=b.createContext(null),pF=()=>{var e=b.useContext(vF),t=W(X4);return e||t},gF=e=>{var{value:t,formatter:r}=e,n=Pe(e.children)?t:e.children;return typeof r=="function"?r(n):n},Im=e=>e!=null&&typeof e=="function",mF=(e,t)=>{var r=Ze(t-e),n=Math.min(Math.abs(t-e),360);return r*n},yF=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:d}=i,v=(u+c)/2,p=mF(f,h),y=p>=0?1:-1,m,g;switch(t){case"insideStart":m=f+y*a,g=d;break;case"insideEnd":m=h-y*a,g=!d;break;case"end":m=h+y*a,g=d;break;default:throw new Error("Unsupported position ".concat(t))}g=p<=0?g:!g;var w=Ue(o,l,v,m),_=Ue(o,l,v,m+(g?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(g?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Pe(e.id)?Vo("recharts-radial-line-"):e.id;return b.createElement("text",an({},n,{dominantBaseline:"central",className:ae("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:S,d:P})),b.createElement("textPath",{xlinkHref:"#".concat(S)},r))},wF=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:f}=Ue(n,i,s+t,u);return{x:c,y:f,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:d,y:v}=Ue(n,i,h,u);return{x:d,y:v,textAnchor:"middle",verticalAnchor:"middle"}},hk=e=>"cx"in e&&q(e.cx),bF=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!hk(r)&&(a=r);var{x:s,y:o,width:l,height:u}=t,c=u>=0?1:-1,f=c*n,h=c>0?"end":"start",d=c>0?"start":"end",v=l>=0?1:-1,p=v*n,y=v>0?"end":"start",m=v>0?"start":"end";if(i==="top"){var g={x:s+l/2,y:o-c*n,textAnchor:"middle",verticalAnchor:h};return Ne(Ne({},g),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:s+l/2,y:o+u+f,textAnchor:"middle",verticalAnchor:d};return Ne(Ne({},w),a?{height:Math.max(a.y+a.height-(o+u),0),width:l}:{})}if(i==="left"){var _={x:s-p,y:o+u/2,textAnchor:y,verticalAnchor:"middle"};return Ne(Ne({},_),a?{width:Math.max(_.x-a.x,0),height:u}:{})}if(i==="right"){var P={x:s+l+p,y:o+u/2,textAnchor:m,verticalAnchor:"middle"};return Ne(Ne({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:u}:{})}var S=a?{width:l,height:u}:{};return i==="insideLeft"?Ne({x:s+p,y:o+u/2,textAnchor:m,verticalAnchor:"middle"},S):i==="insideRight"?Ne({x:s+l-p,y:o+u/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideTop"?Ne({x:s+l/2,y:o+f,textAnchor:"middle",verticalAnchor:d},S):i==="insideBottom"?Ne({x:s+l/2,y:o+u-f,textAnchor:"middle",verticalAnchor:h},S):i==="insideTopLeft"?Ne({x:s+p,y:o+f,textAnchor:m,verticalAnchor:d},S):i==="insideTopRight"?Ne({x:s+l-p,y:o+f,textAnchor:y,verticalAnchor:d},S):i==="insideBottomLeft"?Ne({x:s+p,y:o+u-f,textAnchor:m,verticalAnchor:h},S):i==="insideBottomRight"?Ne({x:s+l-p,y:o+u-f,textAnchor:y,verticalAnchor:h},S):i&&typeof i=="object"&&(q(i.x)||Di(i.x))&&(q(i.y)||Di(i.y))?Ne({x:s+yt(i.x,l),y:o+yt(i.y,u),textAnchor:"end",verticalAnchor:"end"},S):Ne({x:s+l/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},_F={offset:5};function Rn(e){var t=ct(e,_F),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=pF(),f=fk(),h=n==="center"?f:c??f,d=r||h;if(!d||Pe(i)&&Pe(a)&&!b.isValidElement(s)&&typeof s!="function")return null;var v=Ne(Ne({},t),{},{viewBox:d});if(b.isValidElement(s)){var p=lF(v,oF);return b.cloneElement(s,p)}var y;if(typeof s=="function"){if(y=b.createElement(s,v),b.isValidElement(y))return y}else y=gF(t);var m=hk(d),g=Ce(t,!0);if(m&&(n==="insideStart"||n==="insideEnd"||n==="end"))return yF(t,n,y,g,d);var w=m?wF(d,t.offset,t.position):bF(t,d);return b.createElement(xh,an({ref:u,className:ae("recharts-label",o)},g,w,{breakAll:l}),y)}Rn.displayName="Label";var xF=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(Rn,an({key:"label-implicit"},n)):Yr(e)?b.createElement(Rn,an({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===Rn?b.cloneElement(e,Ne({key:"label-implicit"},n)):b.createElement(Rn,an({key:"label-implicit",content:e},n)):Im(e)?b.createElement(Rn,an({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(Rn,an({},e,{key:"label-implicit"},n)):null};function SF(e){var{label:t}=e,r=fk();return xF(t,r)||null}var dk={},vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(vk);var pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk,r=pk,n=qf;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(dk);var PF=dk.last;const EF=_n(PF);var MF=["valueAccessor"],kF=["dataKey","clockWise","id","textBreakAll"];function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(null,arguments)}function d_(e,t){if(e==null)return{};var r,n,i=AF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OF=e=>Array.isArray(e.value)?EF(e.value):e.value,gk=b.createContext(void 0),mk=gk.Provider,yk=b.createContext(void 0),CF=yk.Provider;function TF(){return b.useContext(gk)}function jF(){return b.useContext(yk)}function Fu(e){var{valueAccessor:t=OF}=e,r=d_(e,MF),{dataKey:n,clockWise:i,id:a,textBreakAll:s}=r,o=d_(r,kF),l=TF(),u=jF(),c=l||u;return!c||!c.length?null:b.createElement(ut,{className:"recharts-label-list"},c.map((f,h)=>{var d,v=Pe(n)?t(f,h):me(f&&f.payload,n),p=Pe(a)?{}:{id:"".concat(a,"-").concat(h)};return b.createElement(Rn,Jc({},Ce(f,!0),o,p,{fill:(d=r.fill)!==null&&d!==void 0?d:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}Fu.displayName="LabelList";function $m(e){var{label:t}=e;return t?t===!0?b.createElement(Fu,{key:"labelList-implicit"}):b.isValidElement(t)||Im(t)?b.createElement(Fu,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Fu,Jc({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}var wk=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=ae("recharts-dot",i);return t===+t&&r===+r&&n===+n?b.createElement("circle",Tv({},Qr(e),ng(e),{className:a,cx:t,cy:r,r:n})):null},bk=e=>e.graphicalItems.polarItems,NF=k([Ee,Cl],lm),Dm=k([bk,Re,NF],um),IF=k([Dm],cm),Rm=k([IF,Qg],fm),$F=k([Rm,Re,Dm],dm),DF=k([Rm,Re,Dm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=me(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:me(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),v_=()=>{},RF=k([Re,gM,v_,DF,v_,te,Ee],pm),_k=k([Re,te,Rm,$F,Ol,Ee,RF],gm),LF=k([_k,Re,ks],wm);k([Re,_k,LF,Ee],_m);var GF={radiusAxis:{},angleAxis:{}},UF=ar({name:"polarAxis",initialState:GF,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),BF=UF.reducer;function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){zF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=WF(e,"string");return typeof t=="symbol"?t:t+""}function WF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KF=(e,t)=>t,Lm=k([bk,KF],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),qF=[],Gm=(e,t,r)=>(r==null?void 0:r.length)===0?qF:r,xk=k([Qg,Lm,Gm],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>g_(g_({},t.presentationProps),a.props))),i!=null)return i}}),HF=k([xk,Lm,Gm],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=me(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:_s(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),VF=k([xk,Lm,Gm,Ve],(e,t,r,n)=>{if(!(t==null||e==null))return FW({offset:n,pieSettings:t,displayedData:e,cells:r})}),Sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Sk);var YF=Sk.isPlainObject;const XF=_n(YF);function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){QF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QF(e,t,r){return(t=JF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=ZF(e,"string");return typeof t=="symbol"?t:t+""}function ZF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}var w_=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},eW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tW=e=>{var t=ct(e,eW),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,h=b.useRef(),[d,v]=b.useState(-1),p=b.useRef(i),y=b.useRef(a),m=b.useRef(s),g=b.useRef(r),w=b.useRef(n),_=Pl(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var F=h.current.getTotalLength();F&&v(F)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var P=ae("recharts-trapezoid",o);if(!f)return b.createElement("g",null,b.createElement("path",Zc({},Ce(t,!0),{className:P,d:w_(r,n,i,a,s)})));var S=p.current,E=y.current,M=m.current,A=g.current,O=w.current,C="0px ".concat(d===-1?1:d,"px"),j="".concat(d,"px 0px"),G=RE(["strokeDasharray"],u,l);return b.createElement(Sl,{animationId:_,key:_,canBegin:d>0,duration:u,easing:l,isActive:f,begin:c},F=>{var Y=je(S,i,F),Z=je(E,a,F),V=je(M,s,F),$=je(A,r,F),L=je(O,n,F);h.current&&(p.current=Y,y.current=Z,m.current=V,g.current=$,w.current=L);var H=F>0?{transition:G,strokeDasharray:j}:{strokeDasharray:C};return b.createElement("path",Zc({},Ce(t,!0),{className:P,d:w_($,L,Y,Z,V),ref:h,style:y_(y_({},H),t.style)}))})},rW=["option","shapeType","propTransformer","activeClassName","isActive"];function nW(e,t){if(e==null)return{};var r,n,i=iW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){aW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aW(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lW(e,t){return ef(ef({},t),e)}function uW(e,t){return e==="symbols"}function __(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(BE,r);case"trapezoid":return b.createElement(tW,r);case"sector":return b.createElement(WE,r);case"symbols":if(uW(t))return b.createElement(EP,r);break;default:return null}}function cW(e){return b.isValidElement(e)?e.props:e}function Pk(e){var{option:t,shapeType:r,propTransformer:n=lW,activeClassName:i="recharts-active-shape",isActive:a}=e,s=nW(e,rW),o;if(b.isValidElement(t))o=b.cloneElement(t,ef(ef({},s),cW(t)));else if(typeof t=="function")o=t(s);else if(XF(t)&&typeof t!="boolean"){var l=n(t,s);o=b.createElement(__,{shapeType:r,elementProps:l})}else{var u=s;o=b.createElement(__,{shapeType:r,elementProps:u})}return a?b.createElement(ut,{className:i},o):o}var Um=(e,t)=>{var r=De();return(n,i)=>a=>{e==null||e(n,i,a),r(jM({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Bm=e=>{var t=De();return(r,n)=>i=>{e==null||e(r,n,i),t(rB())}},zm=(e,t)=>{var r=De();return(n,i)=>a=>{e==null||e(n,i,a),r(nB({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Fm(e){var{fn:t,args:r}=e,n=De(),i=Bt();return b.useEffect(()=>{if(!i){var a=t(r);return n(ZU(a)),()=>{n(eB(a))}}},[t,r,n,i]),null}var Ek=()=>{};function Mk(e){var{legendPayload:t}=e,r=De(),n=Bt();return b.useEffect(()=>n?Ek:(r(IE(t)),()=>{r($E(t))}),[r,n,t]),null}function fW(e){var{legendPayload:t}=e,r=De(),n=W(te);return b.useEffect(()=>n!=="centric"&&n!=="radial"?Ek:(r(IE(t)),()=>{r($E(t))}),[r,n,t]),null}var Nd,hW=()=>{var[e]=b.useState(()=>Vo("uid-"));return e},dW=(Nd=AA.useId)!==null&&Nd!==void 0?Nd:hW;function vW(e,t){var r=dW();return t||(e?"".concat(e,"-").concat(r):r)}var pW=b.createContext(void 0),Wm=e=>{var{id:t,type:r,children:n}=e,i=vW("recharts-".concat(r),t);return b.createElement(pW.Provider,{value:i},n(i))},gW={cartesianItems:[],polarItems:[]},kk=ar({name:"graphicalItems",initialState:gW,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=fn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=fn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=fn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:mW,replaceCartesianGraphicalItem:yW,removeCartesianGraphicalItem:wW,addPolarGraphicalItem:bW,removePolarGraphicalItem:_W}=kk.actions,xW=kk.reducer;function Ak(e){var t=De(),r=b.useRef(null);return b.useEffect(()=>{r.current===null?t(mW(e)):r.current!==e&&t(yW({prev:r.current,next:e})),r.current=e},[t,e]),b.useEffect(()=>()=>{r.current&&(t(wW(r.current)),r.current=null)},[t]),null}function SW(e){var t=De();return b.useEffect(()=>(t(bW(e)),()=>{t(_W(e))}),[t,e]),null}var PW=["onMouseEnter","onClick","onMouseLeave"],EW=["id"],MW=["id"];function Km(e,t){if(e==null)return{};var r,n,i=kW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){AW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(null,arguments)}function TW(e){var t=b.useMemo(()=>ig(e.children,Dl),[e.children]),r=W(n=>HF(n,e.id,t));return r==null?null:b.createElement(fW,{legendPayload:r})}function jW(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e;return{dataDefinedOnItem:n.map(c=>c.tooltipPayload),positions:n.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:_s(o,t),hide:l,type:u,color:s,unit:""}}}var NW=(e,t)=>e>t?"start":e<t?"end":"middle",IW=(e,t,r)=>yt(typeof t=="function"?t(e):t,r,r*.8),$W=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=SE(a,s),l=i+yt(e.cx,a,a/2),u=n+yt(e.cy,s,s/2),c=yt(e.innerRadius,o,0),f=IW(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:h}},DW=(e,t)=>{var r=Ze(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function RW(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var LW=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ae("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(kg,li({},t,{type:"linear",className:r}))},GW=(e,t,r)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),b.isValidElement(n)))return n;var i=ae("recharts-pie-label-text",RW(e));return b.createElement(xh,li({},t,{alignmentBaseline:"middle",className:i}),n)};function UW(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Qr(r),l=Ce(i,!1),u=Ce(a,!1),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,d)=>{var v=(h.startAngle+h.endAngle)/2,p=Ue(h.cx,h.cy,h.outerRadius+c,v),y=_e(_e(_e(_e({},o),h),{},{stroke:"none"},l),{},{index:d,textAnchor:NW(p.x,h.cx)},p),m=_e(_e(_e(_e({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:d,points:[Ue(h.cx,h.cy,h.outerRadius,v),p],key:"line"});return b.createElement(ut,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(d)},a&&LW(a,m),GW(i,y,me(h,s)))});return b.createElement(ut,{className:"recharts-pie-labels"},f)}function BW(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?b.createElement($m,{label:i}):b.createElement(UW,{sectors:t,props:r,showLabels:n})}function zW(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i}=e,a=W(oi),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,u=Km(i,PW),c=Um(s,i.dataKey),f=Bm(l),h=zm(o,i.dataKey);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((d,v)=>{if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&t.length!==1)return null;var p=r&&String(v)===a,y=a?n:null,m=p?r:y,g=_e(_e({},d),{},{stroke:d.stroke,tabIndex:-1,[AE]:v,[OE]:i.dataKey});return b.createElement(ut,li({tabIndex:-1,className:"recharts-pie-sector"},zf(u,d,v),{onMouseEnter:c(d,v),onMouseLeave:f(d,v),onClick:h(d,v),key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(v)}),b.createElement(Pk,li({option:m,isActive:p,shapeType:"sector"},g)))}))}function FW(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=r,h=Math.abs(r.minAngle),d=DW(o,l),v=Math.abs(d),p=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(S=>me(S,u,0)!==0).length,m=(v>=360?y:y-1)*p,g=v-y*h-m,w=n.reduce((S,E)=>{var M=me(E,u,0);return S+(q(M)?M:0)},0),_;if(w>0){var P;_=n.map((S,E)=>{var M=me(S,u,0),A=me(S,c,E),O=$W(r,a,S),C=(q(M)?M:0)/w,j,G=_e(_e({},S),i&&i[E]&&i[E].props);E?j=P.endAngle+Ze(d)*p*(M!==0?1:0):j=o;var F=j+Ze(d)*((M!==0?h:0)+C*g),Y=(j+F)/2,Z=(O.innerRadius+O.outerRadius)/2,V=[{name:A,value:M,payload:G,dataKey:u,type:f}],$=Ue(O.cx,O.cy,Z,Y);return P=_e(_e(_e(_e({},r.presentationProps),{},{percent:C,cornerRadius:s,name:A,tooltipPayload:V,midAngle:Y,middleRadius:Z,tooltipPosition:$},G),O),{},{value:M,startAngle:j,endAngle:F,payload:G,paddingAngle:Ze(d)*p}),P})}return _}function WW(e){var{showLabels:t,sectors:r,children:n}=e,i=b.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return b.createElement(CF,{value:t?i:void 0},n)}function KW(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:c,onAnimationEnd:f}=t,h=Pl(t,"recharts-pie-"),d=r.current,[v,p]=b.useState(!1),y=b.useCallback(()=>{typeof f=="function"&&f(),p(!1)},[f]),m=b.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return b.createElement(WW,{showLabels:!v,sectors:n},b.createElement(Sl,{animationId:h,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:m,onAnimationEnd:y,key:h},g=>{var w=[],_=n&&n[0],P=_==null?void 0:_.startAngle;return n==null||n.forEach((S,E)=>{var M=d&&d[E],A=E>0?Zi(S,"paddingAngle",0):0;if(M){var O=je(M.endAngle-M.startAngle,S.endAngle-S.startAngle,g),C=_e(_e({},S),{},{startAngle:P+A,endAngle:P+O+A});w.push(C),P=C.endAngle}else{var{endAngle:j,startAngle:G}=S,F=je(0,j-G,g),Y=_e(_e({},S),{},{startAngle:P+A,endAngle:P+F+A});w.push(Y),P=Y.endAngle}}),r.current=w,b.createElement(ut,null,b.createElement(zW,{sectors:w,activeShape:l,inactiveShape:u,allOtherPieProps:t}))}),b.createElement(BW,{showLabels:!v,sectors:n,props:t}),t.children)}var qW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!gi.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function HW(e){var{id:t}=e,r=Km(e,EW),{hide:n,className:i,rootTabIndex:a}=e,s=b.useMemo(()=>ig(e.children,Dl),[e.children]),o=W(c=>VF(c,t,s)),l=b.useRef(null),u=ae("recharts-pie",i);return n||o==null?(l.current=null,b.createElement(ut,{tabIndex:a,className:u})):b.createElement(b.Fragment,null,b.createElement(Fm,{fn:jW,args:_e(_e({},e),{},{sectors:o})}),b.createElement(ut,{tabIndex:a,className:u},b.createElement(KW,{props:_e(_e({},r),{},{sectors:o}),previousSectorsRef:l})))}function Ok(e){var t=ct(e,qW),{id:r}=t,n=Km(t,MW),i=Qr(n);return b.createElement(Wm,{id:r,type:"pie"},a=>b.createElement(b.Fragment,null,b.createElement(SW,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),b.createElement(TW,li({},n,{id:a})),b.createElement(HW,li({},n,{id:a}))))}Ok.displayName="Pie";function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return(t=YW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QW={xAxis:{},yAxis:{},zAxis:{}},Ck=ar({name:"cartesianAxis",initialState:QW,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=P_(P_({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:JW,removeXAxis:ZW,addYAxis:eK,removeYAxis:tK,addZAxis:QY,removeZAxis:JY,updateYAxisWidth:rK}=Ck.actions,nK=Ck.reducer,iK=k([Ve],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),aK=k([iK,Pn,En],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),qm=()=>W(aK),sK=()=>W(FB);function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){oK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cK=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=M_(M_({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ce(i,!1)),ng(i)),o;return b.isValidElement(i)?o=b.cloneElement(i,s):typeof i=="function"?o=i(s):o=b.createElement(wk,s),b.createElement(ut,{className:"recharts-active-dot"},o)};function fK(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=W(oi),s=sK();if(t==null||s==null)return null;var o=t.find(l=>s.includes(l.payload));return Pe(o)?null:cK({point:o,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var hK="Invariant failed";function dK(e,t){throw new Error(hK)}var vK=["x","y"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(null,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yK(e,t){if(e==null)return{};var r,n,i=wK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bK(e,t){var{x:r,y:n}=e,i=yK(e,vK),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Vs(Vs(Vs(Vs(Vs({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:t.name,radius:t.radius})}function Hm(e){return b.createElement(Pk,jv({shapeType:"rectangle",propTransformer:bK,activeClassName:"recharts-active-bar"},e))}var _K=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(q(t))return t;var a=q(n)||Pe(n);return a?t(n,i):(a||dK(),r)}},xK={},SK=ar({name:"errorBars",initialState:xK,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),PK=SK.reducer,EK=["children"];function MK(e,t){if(e==null)return{};var r,n,i=kK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},OK=b.createContext(AK);function Tk(e){var{children:t}=e,r=MK(e,EK);return b.createElement(OK.Provider,{value:r},t)}function Vm(e,t){var r,n,i=W(u=>kn(u,e)),a=W(u=>An(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Wt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Kt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function jk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=qm(),{needClipX:a,needClipY:s,needClip:o}=Vm(t,r);if(!o)return null;var{x:l,y:u,width:c,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}var CK=["onMouseEnter","onMouseLeave","onClick"],TK=["value","background","tooltipPosition"],jK=["id"],NK=["onMouseEnter","onClick","onMouseLeave"];function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return(t=$K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tf(e,t){if(e==null)return{};var r,n,i=RK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LK=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:_s(r,t),payload:e}]};function GK(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:_s(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function UK(e){var t=W(oi),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=tf(a,CK),c=Um(s,n),f=Bm(o),h=zm(l,n);if(!i||r==null)return null;var d=Ce(i,!1);return b.createElement(b.Fragment,null,r.map((v,p)=>{var{value:y,background:m,tooltipPosition:g}=v,w=tf(v,TK);if(!m)return null;var _=c(v,p),P=f(v,p),S=h(v,p),E=St(St(St(St(St({option:i,isActive:String(p)===t},w),{},{fill:"#eee"},m),d),zf(u,v,p)),{},{onMouseEnter:_,onMouseLeave:P,onClick:S,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return b.createElement(Hm,ui({key:"background-bar-".concat(E.index)},E))}))}function BK(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,height:a.height};return St(St({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return b.createElement(mk,{value:t?i:void 0},r)}function zK(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=W(oi),l=W(KM),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return b.createElement(Hm,ui({},n,i,{isActive:u,option:c,index:a,dataKey:s}))}function FK(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return b.createElement(Hm,ui({},r,n,{isActive:!1,option:t,index:i,dataKey:a}))}function WK(e){var{data:t,props:r}=e,n=Qr(r),i=tf(n,jK),{shape:a,dataKey:s,activeBar:o}=r,{onMouseEnter:l,onClick:u,onMouseLeave:c}=r,f=tf(r,NK),h=Um(l,s),d=Bm(c),v=zm(u,s);return t?b.createElement(b.Fragment,null,t.map((p,y)=>b.createElement(ut,ui({className:"recharts-bar-rectangle"},zf(f,p,y),{onMouseEnter:h(p,y),onMouseLeave:d(p,y),onClick:v(p,y),key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),o?b.createElement(zK,{shape:a,activeBar:o,baseProps:i,entry:p,index:y,dataKey:s}):b.createElement(FK,{shape:a,baseProps:i,entry:p,index:y,dataKey:s})))):null}function KK(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=r.current,h=Pl(t,"recharts-bar-"),[d,v]=b.useState(!1),p=!d,y=b.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),m=b.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return b.createElement(BK,{showLabels:p,rects:n},b.createElement(Sl,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:m,key:h},g=>{var w=g===1?n:n==null?void 0:n.map((_,P)=>{var S=f&&f[P];if(S)return St(St({},_),{},{x:je(S.x,_.x,g),y:je(S.y,_.y,g),width:je(S.width,_.width,g),height:je(S.height,_.height,g)});if(i==="horizontal"){var E=je(0,_.height,g);return St(St({},_),{},{y:_.y+_.height-E,height:E})}var M=je(0,_.width,g);return St(St({},_),{},{width:M})});return g>0&&(r.current=w??null),w==null?null:b.createElement(ut,null,b.createElement(WK,{props:t,data:w}))}),b.createElement($m,{label:t.label}),t.children)}function qK(e){var t=b.useRef(null);return b.createElement(KK,{previousRectanglesRef:t,props:e})}var Nk=0,HK=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:me(e,t)}};class VK extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=ae("recharts-bar",i),f=u;return b.createElement(ut,{className:c,id:u},o&&b.createElement("defs",null,b.createElement(jk,{clipPathId:f,xAxisId:a,yAxisId:s})),b.createElement(ut,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},b.createElement(UK,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),b.createElement(qK,this.props)))}}var YK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!gi.isSsr,legendType:"rect",minPointSize:Nk,xAxisId:0,yAxisId:0};function XK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=Vm(t,r),h=ih(),d=Bt(),v=ig(e.children,Dl),p=W(g=>Pq(g,t,r,d,e.id,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,m=p==null?void 0:p[0];return m==null||m.height==null||m.width==null?y=0:y=h==="vertical"?m.height/2:m.width/2,b.createElement(Tk,{xAxisId:t,yAxisId:r,data:p,dataPointFormatter:HK,errorBarOffset:y},b.createElement(VK,ui({},e,{layout:h,needClip:f,data:p,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function QK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:h,cells:d,parentViewBox:v}=e,p=t==="horizontal"?o:s,y=c?p.scale.domain():null,m=$$({numericAxis:p});return f.map((g,w)=>{var _,P,S,E,M,A;c?_=O$(c[w],y):(_=me(g,r),Array.isArray(_)||(_=[m,_]));var O=_K(n,Nk)(_[1],w);if(t==="horizontal"){var C,[j,G]=[o.scale(_[0]),o.scale(_[1])];P=Cw({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:g,index:w}),S=(C=G??j)!==null&&C!==void 0?C:void 0,E=i.size;var F=j-G;if(M=er(F)?0:F,A={x:P,y:h.top,width:E,height:h.height},Math.abs(O)>0&&Math.abs(M)<Math.abs(O)){var Y=Ze(M||O)*(Math.abs(O)-Math.abs(M));S-=Y,M+=Y}}else{var[Z,V]=[s.scale(_[0]),s.scale(_[1])];if(P=Z,S=Cw({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:g,index:w}),E=V-Z,M=i.size,A={x:h.left,y:S,width:h.width,height:M},Math.abs(O)>0&&Math.abs(E)<Math.abs(O)){var $=Ze(E||O)*(Math.abs(O)-Math.abs(E));E+=$}}if(P==null||S==null||E==null||M==null)return null;var L=St(St({},g),{},{x:P,y:S,width:E,height:M,value:c?_:_[1],payload:g,background:A,tooltipPosition:{x:P+E/2,y:S+M/2},parentViewBox:v},d&&d[w]&&d[w].props);return L}).filter(Boolean)}function JK(e){var t=ct(e,YK),r=Bt();return b.createElement(Wm,{id:t.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(Mk,{legendPayload:LK(t)}),b.createElement(Fm,{fn:GK,args:t}),b.createElement(Ak,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:I$(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(XK,ui({},t,{id:n}))))}var Ik=b.memo(JK);Ik.displayName="Bar";function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){ZK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq=(e,t)=>t,nq=(e,t,r)=>r,iq=(e,t,r,n)=>n,aq=(e,t,r,n,i)=>i,Rl=k([gh,aq],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),sq=k([Rl],e=>e==null?void 0:e.maxBarSize),oq=(e,t,r,n,i,a)=>a,C_=(e,t,r)=>{var n=r??e;if(!Pe(n))return yt(n,t,0)},lq=k([te,gh,rq,nq,iq],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),uq=(e,t,r,n)=>{var i=te(e);return i==="horizontal"?Ev(e,"yAxis",r,n):Ev(e,"xAxis",t,n)},cq=(e,t,r)=>{var n=te(e);return n==="horizontal"?Bb(e,"xAxis",t):Bb(e,"yAxis",r)},fq=(e,t,r)=>{var n={},i=e.filter(ph),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),o=Object.entries(s).map(u=>{var[c,f]=u,h=f.map(v=>v.dataKey),d=C_(t,r,f[0].barSize);return{stackId:c,dataKeys:h,barSize:d}}),l=a.map(u=>{var c=[u.dataKey].filter(h=>h!=null),f=C_(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...o,...l]},hq=k([lq,JG,cq],fq),dq=(e,t,r,n,i)=>{var a,s,o=Rl(e,t,r,n,i);if(o!=null){var l=te(e),u=F4(e),{maxBarSize:c}=o,f=Pe(c)?u:c,h,d;return l==="horizontal"?(h=si(e,"xAxis",t,n),d=ai(e,"xAxis",t,n)):(h=si(e,"yAxis",r,n),d=ai(e,"yAxis",r,n)),(a=(s=Qo(h,d,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},$k=(e,t,r,n)=>{var i=te(e),a,s;return i==="horizontal"?(a=si(e,"xAxis",t,n),s=ai(e,"xAxis",t,n)):(a=si(e,"yAxis",r,n),s=ai(e,"yAxis",r,n)),Qo(a,s)};function vq(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=yt(e,r,0,!0),o,l=[];if(rr(n[0].barSize)){var u=!1,c=r/a,f=n.reduce((m,g)=>m+(g.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&c>0&&(u=!0,c*=.9,f=a*c);var h=(r-f)/2>>0,d={offset:h-s,size:0};o=n.reduce((m,g)=>{var w,_={stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:d.offset+d.size+s,size:u?c:(w=g.barSize)!==null&&w!==void 0?w:0}},P=[...m,_];return d=P[P.length-1].position,P},l)}else{var v=yt(t,r,0,!0);r-2*v-(a-1)*s<=0&&(s=0);var p=(r-2*v-(a-1)*s)/a;p>1&&(p>>=0);var y=rr(i)?Math.min(p,i):p;o=n.reduce((m,g,w)=>[...m,{stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:v+(p+s)*w+(p-y)/2,size:y}}],l)}return o}}var pq=(e,t,r,n,i,a,s)=>{var o=Pe(s)?t:s,l=vq(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>Eu(Eu({},u),{},{position:Eu(Eu({},u.position),{},{offset:u.position.offset-i/2})}))),l},gq=k([hq,F4,QG,W4,dq,$k,sq],pq),mq=(e,t,r,n)=>si(e,"xAxis",t,n),yq=(e,t,r,n)=>si(e,"yAxis",r,n),wq=(e,t,r,n)=>ai(e,"xAxis",t,n),bq=(e,t,r,n)=>ai(e,"yAxis",r,n),_q=k([gq,Rl],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),xq=(e,t)=>{var r=sm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},Sq=k([uq,Rl],xq),Pq=k([Ve,Eg,mq,yq,wq,bq,_q,te,fh,$k,Sq,Rl,oq],(e,t,r,n,i,a,s,o,l,u,c,f,h)=>{var{chartData:d,dataStartIndex:v,dataEndIndex:p}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:y}=f,m;if(y!=null&&y.length>0?m=y:m=d==null?void 0:d.slice(v,p+1),m!=null)return QK({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:h})}}),Dk=e=>{var{chartData:t}=e,r=De(),n=Bt();return b.useEffect(()=>n?()=>{}:(r(Xb(t)),()=>{r(Xb(void 0))}),[t,r,n]),null},T_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Eq=ar({name:"brush",initialState:T_,reducers:{setBrushSettings(e,t){return t.payload==null?T_:t.payload}}}),Mq=Eq.reducer;function kq(e,t,r){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ym{static create(t){return new Ym(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}kq(Ym,"EPS",1e-4);function Cq(e){return(e%180+180)%180}var Tq=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Cq(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},jq={dots:[],areas:[],lines:[]},Nq=ar({name:"referenceElements",initialState:jq,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),Iq=Nq.reducer,$q=b.createContext(void 0),Dq=e=>{var{children:t}=e,[r]=b.useState("".concat(Vo("recharts"),"-clip")),n=qm();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return b.createElement($q.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function vs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Rk(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Rq(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Tq(n,r)}function Lq(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function rf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Gq(e,t){return Rk(e,t+1)}function Uq(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:Rk(n,u)};var p=l,y,m=()=>(y===void 0&&(y=r(v,p)),y),g=v.coordinate,w=l===0||rf(e,g,m,c,o);w||(l=0,c=s,u+=1),w&&(c=g+e*(m()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){Bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t,r){return(t=zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wq(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var d=a[h],v,p=()=>(v===void 0&&(v=r(d,h)),v);if(h===s-1){var y=e*(d.coordinate+e*p()/2-l);a[h]=d=vt(vt({},d),{},{tickCoord:y>0?d.coordinate-y*e:d.coordinate})}else a[h]=d=vt(vt({},d),{},{tickCoord:d.coordinate});var m=rf(e,d.tickCoord,p,o,l);m&&(l=d.tickCoord-e*(p()/2+i),a[h]=vt(vt({},d),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function Kq(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1],f=r(c,o-1),h=e*(c.coordinate+e*f/2-u);s[o-1]=c=vt(vt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate});var d=rf(e,c.tickCoord,()=>f,l,u);d&&(u=c.tickCoord-e*(f/2+i),s[o-1]=vt(vt({},c),{},{isShow:!0}))}for(var v=a?o-1:o,p=function(g){var w=s[g],_,P=()=>(_===void 0&&(_=r(w,g)),_);if(g===0){var S=e*(w.coordinate-e*P()/2-l);s[g]=w=vt(vt({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else s[g]=w=vt(vt({},w),{},{tickCoord:w.coordinate});var E=rf(e,w.tickCoord,P,l,u);E&&(l=w.tickCoord+e*(P()/2+i),s[g]=vt(vt({},w),{},{isShow:!0}))},y=0;y<v;y++)p(y);return s}function Xm(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!n)return[];if(q(l)||gi.isSsr){var h;return(h=Gq(i,q(l)?l:0))!==null&&h!==void 0?h:[]}var d=[],v=o==="top"||o==="bottom"?"width":"height",p=c&&v==="width"?Po(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,_)=>{var P=typeof u=="function"?u(w.value,_):w.value;return v==="width"?Rq(Po(P,{fontSize:t,letterSpacing:r}),p,f):Po(P,{fontSize:t,letterSpacing:r})[v]},m=i.length>=2?Ze(i[1].coordinate-i[0].coordinate):1,g=Lq(a,m,v);return l==="equidistantPreserveStart"?Uq(m,g,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=Kq(m,g,y,i,s,l==="preserveStartEnd"):d=Wq(m,g,y,i,s),d.filter(w=>w.isShow))}var qq=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},Hq=["axisLine","width","height","className","hide","ticks"],Vq=["viewBox"],Yq=["viewBox"];function Nv(e,t){if(e==null)return{};var r,n,i=Xq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(null,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return(t=Jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function eH(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Ke(Ke(Ke({},l),Ce(o,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=Ke(Ke({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Ke(Ke({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return b.createElement("line",na({},u,{className:ae("recharts-cartesian-axis-line",Zi(o,"className"))}))}function tH(e,t,r,n,i,a,s,o,l){var u,c,f,h,d,v,p=o?-1:1,y=e.tickSize||s,m=q(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=r+ +!o*i,f=h-p*y,v=f-p*l,d=m;break;case"left":f=h=e.coordinate,c=t+ +!o*n,u=c-p*y,d=u-p*l,v=m;break;case"right":f=h=e.coordinate,c=t+ +o*n,u=c+p*y,d=u+p*l,v=m;break;default:u=c=e.coordinate,h=r+ +o*i,f=h+p*y,v=f+p*l,d=m;break}return{line:{x1:u,y1:f,x2:c,y2:h},tick:{x:d,y:v}}}function rH(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nH(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function iH(e){var{option:t,tickProps:r,value:n}=e,i,a=ae(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,Ke(Ke({},r),{},{className:a}));else if(typeof t=="function")i=t(Ke(Ke({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=ae(s,t==null?void 0:t.className)),i=b.createElement(xh,na({},r,{className:s}),n)}return i}function aH(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:s,padding:o,tickTextProps:l,orientation:u,mirror:c,x:f,y:h,width:d,height:v,tickSize:p,tickMargin:y,fontSize:m,letterSpacing:g,getTicksConfig:w,events:_}=e,P=Xm(Ke(Ke({},w),{},{ticks:t}),m,g),S=rH(u,c),E=nH(u,c),M=Qr(w),A=Ce(r,!1),O=Ke(Ke({},M),{},{fill:"none"},Ce(n,!1)),C=P.map((j,G)=>{var{line:F,tick:Y}=tH(j,f,h,d,v,u,p,c,y),Z=Ke(Ke(Ke(Ke({textAnchor:S,verticalAnchor:E},M),{},{stroke:"none",fill:i},A),Y),{},{index:G,payload:j,visibleTicksCount:P.length,tickFormatter:a,padding:o},l);return b.createElement(ut,na({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},zf(_,j,G)),n&&b.createElement("line",na({},O,F,{className:ae("recharts-cartesian-axis-tick-line",Zi(n,"className"))})),r&&b.createElement(iH,{option:r,tickProps:Z,value:"".concat(typeof a=="function"?a(j.value,G):j.value).concat(s||"")}))});return C.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var sH=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o}=e,l=Nv(e,Hq),[u,c]=b.useState(""),[f,h]=b.useState(""),d=b.useRef([]);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var p;return qq({ticks:d.current,label:(p=e.labelRef)===null||p===void 0?void 0:p.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=b.useCallback(p=>{if(p){var y=p.getElementsByClassName("recharts-cartesian-axis-tick-value");d.current=Array.from(y);var m=y[0];if(m){var g=window.getComputedStyle(m),w=g.fontSize,_=g.letterSpacing;(w!==u||_!==f)&&(c(w),h(_))}}},[u,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:b.createElement(ut,{className:ae("recharts-cartesian-axis",a),ref:v},b.createElement(eH,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qr(e)}),b.createElement(aH,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:l}),b.createElement(dF,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(SF,{label:e.label}),e.children))}),oH=b.memo(sH,(e,t)=>{var{viewBox:r}=e,n=Nv(e,Vq),{viewBox:i}=t,a=Nv(t,Yq);return vs(r,i)&&vs(n,a)}),Jm=b.forwardRef((e,t)=>{var r=ct(e,Qm);return b.createElement(oH,na({},r,{ref:t}))});Jm.displayName="CartesianAxis";var lH=["x1","y1","x2","y2","key"],uH=["offset"],cH=["xAxisId","yAxisId"],fH=["xAxisId","yAxisId"];function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(null,arguments)}function nf(e,t){if(e==null)return{};var r,n,i=pH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gH=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return b.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Lk(e,t){var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:o}=t,l=nf(t,lH),u=Qr(l),c=nf(u,uH);r=b.createElement("line",Gi({},c,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function mH(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var a=nf(e,cH),s=i.map((o,l)=>{var u=mt(mt({},a),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return Lk(n,u)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function yH(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var a=nf(e,fH),s=i.map((o,l)=>{var u=mt(mt({},a),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return Lk(n,u)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function wH(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var d=!u[h+1],v=d?i+s-f:u[h+1]-f;if(v<=0)return null;var p=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:a,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function bH(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var d=!u[h+1],v=d?i+s-f:u[h+1]-f;if(v<=0)return null;var p=h%r.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:v,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var _H=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return EE(Xm(mt(mt(mt({},Qm),r),{},{ticks:ME(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},xH=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return EE(Xm(mt(mt(mt({},Qm),r),{},{ticks:ME(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},SH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Iv(e){var t=TE(),r=jE(),n=CE(),i=mt(mt({},ct(e,SH)),{},{x:q(e.x)?e.x:n.left,y:q(e.y)?e.y:n.top,width:q(e.width)?e.width:n.width,height:q(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:d}=i,v=Bt(),p=W(A=>zb(A,"xAxis",a,v)),y=W(A=>zb(A,"yAxis",s,v));if(!q(u)||u<=0||!q(c)||c<=0||!q(o)||o!==+o||!q(l)||l!==+l)return null;var m=i.verticalCoordinatesGenerator||_H,g=i.horizontalCoordinatesGenerator||xH,{horizontalPoints:w,verticalPoints:_}=i;if((!w||!w.length)&&typeof g=="function"){var P=h&&h.length,S=g({yAxis:y?mt(mt({},y),{},{ticks:P?h:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);So(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!_||!_.length)&&typeof m=="function"){var E=d&&d.length,M=m({xAxis:p?mt(mt({},p),{},{ticks:E?d:p.ticks}):void 0,width:t,height:r,offset:n},E?!0:f);So(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(_=M)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(gH,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(wH,Gi({},i,{horizontalPoints:w})),b.createElement(bH,Gi({},i,{verticalPoints:_})),b.createElement(mH,Gi({},i,{offset:n,horizontalPoints:w,xAxis:p,yAxis:y})),b.createElement(yH,Gi({},i,{offset:n,verticalPoints:_,xAxis:p,yAxis:y})))}Iv.displayName="CartesianGrid";var Gk=(e,t,r,n)=>si(e,"xAxis",t,n),Uk=(e,t,r,n)=>ai(e,"xAxis",t,n),Bk=(e,t,r,n)=>si(e,"yAxis",r,n),zk=(e,t,r,n)=>ai(e,"yAxis",r,n),PH=k([te,Gk,Bk,Uk,zk],(e,t,r,n,i)=>pi(e,"xAxis")?Qo(t,n,!1):Qo(r,i,!1)),EH=(e,t,r,n,i)=>i;function MH(e){return e.type==="line"}var kH=k([gh,EH],(e,t)=>e.filter(MH).find(r=>r.id===t)),AH=k([te,Gk,Bk,Uk,zk,kH,PH,fh],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:h}=a,d;if(h!=null&&h.length>0?d=h:d=l==null?void 0:l.slice(u,c+1),d!=null)return XH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:d})}}),OH=["id"],CH=["type","layout","connectNulls","needClip"],TH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zm(e,t){if(e==null)return{};var r,n,i=$H(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $H(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ia.apply(null,arguments)}var DH=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:_s(r,t),payload:e}]};function RH(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:_s(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var Fk=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function LH(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var GH=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return Fk(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>a){o=[...r.slice(0,l),a-u];break}var c=o.length%2===0?[0,s]:[s];return[...LH(r,i),...o,...c].map(f=>"".concat(f,"px")).join(", ")};function UH(e,t){var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ae("recharts-line-dot",typeof e!="boolean"?e.className:"");r=b.createElement(wk,ia({},t,{className:n}))}return r}function BH(e,t){return e==null?!1:t?!0:e.length===1}function zH(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n;if(!BH(r,i))return null;var o=Zm(n,OH),l=sP(i),u=Qr(o),c=Ce(i,!0),f=r.map((d,v)=>{var p=Vt(Vt(Vt({key:"dot-".concat(v),r:3},u),c),{},{index:v,cx:d.x,cy:d.y,dataKey:a,value:d.value,payload:d.payload,points:r});return UH(i,p)}),h={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return b.createElement(ut,ia({className:"recharts-line-dots",key:"dots"},h),f)}function FH(e){var{showLabels:t,children:r,points:n}=e,i=b.useMemo(()=>n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return Vt(Vt({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return b.createElement(mk,{value:t?i:null},r)}function D_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u}=a,c=Zm(a,CH),f=Vt(Vt({},Ce(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return b.createElement(b.Fragment,null,(n==null?void 0:n.length)>1&&b.createElement(kg,ia({},f,{pathRef:r})),b.createElement(zH,{points:n,clipPathId:t,props:a}))}function WH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function KH(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,animateNewValues:h,width:d,height:v,onAnimationEnd:p,onAnimationStart:y}=r,m=i.current,g=Pl(r,"recharts-line-"),[w,_]=b.useState(!1),P=!w,S=b.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),E=b.useCallback(()=>{typeof y=="function"&&y(),_(!0)},[y]),M=WH(n.current),A=a.current;return b.createElement(FH,{points:s,showLabels:P},r.children,b.createElement(Sl,{animationId:g,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:S,onAnimationStart:E,key:g},O=>{var C=je(A,M+A,O),j=Math.min(C,M),G;if(l)if(o){var F="".concat(o).split(/[,\s]+/gim).map(V=>parseFloat(V));G=GH(j,M,F)}else G=Fk(M,j);else G=o==null?void 0:String(o);if(m){var Y=m.length/s.length,Z=O===1?s:s.map((V,$)=>{var L=Math.floor($*Y);if(m[L]){var H=m[L];return Vt(Vt({},V),{},{x:je(H.x,V.x,O),y:je(H.y,V.y,O)})}return h?Vt(Vt({},V),{},{x:je(d*2,V.x,O),y:je(v/2,V.y,O)}):Vt(Vt({},V),{},{x:V.x,y:V.y})});return i.current=Z,b.createElement(D_,{props:r,points:Z,clipPathId:t,pathRef:n,strokeDasharray:G})}return O>0&&M>0&&(i.current=s,a.current=j),b.createElement(D_,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:G})}),b.createElement($m,{label:r.label}))}function qH(e){var{clipPathId:t,props:r}=e,n=b.useRef(null),i=b.useRef(0),a=b.useRef(null);return b.createElement(KH,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var HH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:me(e.payload,t)});class VH extends b.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:o,top:l,left:u,width:c,height:f,id:h,needClip:d}=this.props;if(r)return null;var v=ae("recharts-line",a),p=h,{r:y=3,strokeWidth:m=2}=(t=Ce(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},g=sP(n),w=y*2+m;return b.createElement(b.Fragment,null,b.createElement(ut,{className:v},d&&b.createElement("defs",null,b.createElement(jk,{clipPathId:p,xAxisId:s,yAxisId:o}),!g&&b.createElement("clipPath",{id:"clipPath-dots-".concat(p)},b.createElement("rect",{x:u-w/2,y:l-w/2,width:c+w,height:f+w}))),b.createElement(Tk,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:HH,errorBarOffset:0},b.createElement(qH,{props:this.props,clipPathId:p}))),b.createElement(fK,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Wk={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!gi.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function YH(e){var t=ct(e,Wk),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:c,label:f,legendType:h,xAxisId:d,yAxisId:v,id:p}=t,y=Zm(t,TH),{needClip:m}=Vm(d,v),g=qm(),w=ih(),_=Bt(),P=W(O=>AH(O,d,v,_,p));if(w!=="horizontal"&&w!=="vertical"||P==null||g==null)return null;var{height:S,width:E,x:M,y:A}=g;return b.createElement(VH,ia({},y,{id:p,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:c,hide:u,label:f,legendType:h,xAxisId:d,yAxisId:v,points:P,layout:w,height:S,width:E,left:M,top:A,needClip:m}))}function XH(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,c)=>{var f=me(u,s);if(t==="horizontal"){var h=Ow({axis:r,ticks:i,bandSize:o,entry:u,index:c}),d=Pe(f)?null:n.scale(f);return{x:h,y:d,value:f,payload:u}}var v=Pe(f)?null:r.scale(f),p=Ow({axis:n,ticks:a,bandSize:o,entry:u,index:c});return v==null||p==null?null:{x:v,y:p,value:f,payload:u}}).filter(Boolean)}function QH(e){var t=ct(e,Wk),r=Bt();return b.createElement(Wm,{id:t.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(Mk,{legendPayload:DH(t)}),b.createElement(Fm,{fn:RH,args:t}),b.createElement(Ak,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),b.createElement(YH,ia({},t,{id:n}))))}var Kk=b.memo(QH);Kk.displayName="Line";var JH=["dangerouslySetInnerHTML","ticks"],ZH=["id"],eV=["domain"],tV=["domain"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}function af(e,t){if(e==null)return{};var r,n,i=rV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nV(e){var t=De();return b.useEffect(()=>(t(JW(e)),()=>{t(ZW(e))}),[e,t]),null}var iV=e=>{var{xAxisId:t,className:r}=e,n=W(Eg),i=Bt(),a="xAxis",s=W(d=>As(d,a,t,i)),o=W(d=>MM(d,a,t,i)),l=W(d=>xM(d,t)),u=W(d=>FU(d,t)),c=W(d=>Z4(d,t));if(l==null||u==null||c==null)return null;var f=af(e,JH),h=af(c,ZH);return b.createElement(Jm,$v({},f,h,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:ae("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o}))},aV={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:Wt.allowDecimals,allowDuplicatedCategory:Wt.allowDuplicatedCategory,height:Wt.height,hide:!1,mirror:Wt.mirror,orientation:Wt.orientation,padding:Wt.padding,reversed:Wt.reversed,scale:Wt.scale,tickCount:Wt.tickCount,type:Wt.type,xAxisId:0},sV=e=>{var t,r,n,i,a,s=ct(e,aV);return b.createElement(b.Fragment,null,b.createElement(nV,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),b.createElement(iV,s))},oV=(e,t)=>{var{domain:r}=e,n=af(e,eV),{domain:i}=t,a=af(t,tV);return vs(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:vs({domain:r},{domain:i}):!1},Dv=b.memo(sV,oV);Dv.displayName="XAxis";var lV=["dangerouslySetInnerHTML","ticks"],uV=["id"],cV=["domain"],fV=["domain"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(null,arguments)}function sf(e,t){if(e==null)return{};var r,n,i=hV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dV(e){var t=De();return b.useEffect(()=>(t(eK(e)),()=>{t(tK(e))}),[e,t]),null}var vV=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=b.useRef(null),s=b.useRef(null),o=W(Eg),l=Bt(),u=De(),c="yAxis",f=W(g=>As(g,c,t,l)),h=W(g=>SM(g,t)),d=W(g=>KU(g,t)),v=W(g=>MM(g,c,t,l)),p=W(g=>eM(g,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Im(i)||b.isValidElement(i)||p==null)){var g=a.current;if(g){var w=g.getCalculatedWidth();Math.round(h.width)!==Math.round(w)&&u(rK({id:t,width:w}))}}},[v,h,u,i,t,n,p]),h==null||d==null||p==null)return null;var y=sf(e,lV),m=sf(p,uV);return b.createElement(Jm,Rv({},y,m,{ref:a,labelRef:s,scale:f,x:d.x,y:d.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ae("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:v}))},pV={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,hide:!1,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tickCount:Kt.tickCount,type:Kt.type,width:Kt.width,yAxisId:0},gV=e=>{var t,r,n,i,a,s=ct(e,pV);return b.createElement(b.Fragment,null,b.createElement(dV,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),b.createElement(vV,s))},mV=(e,t)=>{var{domain:r}=e,n=sf(e,cV),{domain:i}=t,a=sf(t,fV);return vs(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:vs({domain:r},{domain:i}):!1},Lv=b.memo(gV,mV);Lv.displayName="YAxis";var yV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=b;function wV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bV=typeof Object.is=="function"?Object.is:wV,_V=Ll.useSyncExternalStore,xV=Ll.useRef,SV=Ll.useEffect,PV=Ll.useMemo,EV=Ll.useDebugValue;yV.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=xV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=PV(function(){function l(d){if(!u){if(u=!0,c=d,d=n(d),i!==void 0&&s.hasValue){var v=s.value;if(i(v,d))return f=v}return f=d}if(v=f,bV(c,d))return v;var p=n(d);return i!==void 0&&i(v,p)?(c=d,v):(c=d,f=p)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=_V(e,a[0],a[1]);return SV(function(){s.hasValue=!0,s.value=o},[o]),EV(o),o};function MV(e){e()}function kV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){MV(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var R_={notify(){},get:()=>[]};function AV(e,t){let r,n=R_,i=0,a=!1;function s(p){c();const y=n.subscribe(p);let m=!1;return()=>{m||(m=!0,y(),f())}}function o(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=kV())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=R_)}function h(){a||(a=!0,c())}function d(){a&&(a=!1,f())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>n};return v}var OV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CV=OV(),TV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jV=TV(),NV=()=>CV||jV?b.useLayoutEffect:b.useEffect,IV=NV(),Id=Symbol.for("react-redux-context"),$d=typeof globalThis<"u"?globalThis:{};function $V(){if(!b.createContext)return{};const e=$d[Id]??($d[Id]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var DV=$V();function RV(e){const{children:t,context:r,serverState:n,store:i}=e,a=b.useMemo(()=>{const l=AV(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=b.useMemo(()=>i.getState(),[i]);IV(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||DV;return b.createElement(o.Provider,{value:a},t)}var LV=RV,GV=(e,t)=>t,ey=k([GV,te,X4,Xe,BM,On,XB,Ve],tz),ty=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},qk=wr("mouseClick"),Hk=_l();Hk.startListening({actionCreator:qk,effect:(e,t)=>{var r=e.payload,n=ey(t.getState(),ty(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(iB({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Gv=wr("mouseMove"),Vk=_l();Vk.startListening({actionCreator:Gv,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Pm(n,n.tooltip.settings.shared),a=ey(n,ty(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(IM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(NM()))}});var L_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Yk=ar({name:"rootProps",initialState:L_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:L_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),UV=Yk.reducer,{updateOptions:BV}=Yk.actions,Xk=ar({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zV}=Xk.actions,FV=Xk.reducer,Qk=wr("keyDown"),Jk=wr("focus"),ry=_l();ry.startListening({actionCreator:Qk,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Em(i,Cs(r))),o=On(r);if(a==="Enter"){var l=Qc(r,"axis","hover",String(i.index));t.dispatch(kv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=YU(r),c=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*c;if(!(o==null||h>=o.length||h<0)){var d=Qc(r,"axis","hover",String(h));t.dispatch(kv({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:d}))}}}}});ry.startListening({actionCreator:Jk,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Qc(r,"axis","hover",String(a));t.dispatch(kv({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var lr=wr("externalEvent"),Zk=_l();Zk.startListening({actionCreator:lr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:UB(r),activeDataKey:KM(r),activeIndex:oi(r),activeLabel:WM(r),activeTooltipIndex:oi(r),isTooltipActive:BB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var WV=k([Os],e=>e.tooltipItemPayloads),KV=k([WV,Il,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),eA=wr("touchMove"),tA=_l();tA.startListening({actionCreator:eA,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Pm(n,n.tooltip.settings.shared);if(i==="axis"){var a=ey(n,ty({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(IM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(AE),c=(s=l.getAttribute(OE))!==null&&s!==void 0?s:void 0,f=KV(t.getState(),u,c);t.dispatch(jM({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}});var qV=eE({brush:Mq,cartesianAxis:nK,chartData:gz,errorBars:PK,graphicalItems:xW,layout:d$,legend:tD,options:fz,polarAxis:BF,polarOptions:FV,referenceElements:Iq,rootProps:UV,tooltip:aB}),HV=function(t){return L9({reducer:qV,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([Hk.middleware,Vk.middleware,ry.middleware,Zk.middleware,tA.middleware]),devTools:gi.devToolsEnabled})};function rA(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Bt(),a=b.useRef(null);if(i)return r;a.current==null&&(a.current=HV(t));var s=mg;return b.createElement(LV,{context:s,store:a.current},r)}function nA(e){var{layout:t,width:r,height:n,margin:i}=e,a=De(),s=Bt();return b.useEffect(()=>{s||(a(c$(t)),a(f$({width:r,height:n})),a(u$(i)))},[a,s,t,r,n,i]),null}function iA(e){var t=De();return b.useEffect(()=>{t(BV(e))},[t,e]),null}var VV=["children"];function YV(e,t){if(e==null)return{};var r,n,i=XV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(null,arguments)}var QV={width:"100%",height:"100%"},JV=b.forwardRef((e,t)=>{var r=TE(),n=jE(),i=DE();if(!us(r)||!us(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,b.createElement(oP,of({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:QV,ref:t}),a)}),ZV=e=>{var{children:t}=e,r=W(nh);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return b.createElement(oP,{width:n,height:i,x:s,y:a},t)},G_=b.forwardRef((e,t)=>{var{children:r}=e,n=YV(e,VV),i=Bt();return i?b.createElement(ZV,null,r):b.createElement(JV,of({ref:t},n),r)});function eY(){var e=De(),[t,r]=b.useState(null),n=W(z$);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;rr(a)&&a!==n&&e(h$(a))}},[t,e,n]),r}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){rY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rY(e,t,r){return(t=nY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=iY(e,"string");return typeof t=="symbol"?t:t+""}function iY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aY=b.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:d,onTouchMove:v,onTouchStart:p,style:y,width:m}=e,g=De(),[w,_]=b.useState(null),[P,S]=b.useState(null);Ez();var E=eY(),M=b.useCallback(K=>{E(K),typeof t=="function"&&t(K),_(K),S(K)},[E,t,_,S]),A=b.useCallback(K=>{g(qk(K)),g(lr({handler:a,reactEvent:K}))},[g,a]),O=b.useCallback(K=>{g(Gv(K)),g(lr({handler:u,reactEvent:K}))},[g,u]),C=b.useCallback(K=>{g(NM()),g(lr({handler:c,reactEvent:K}))},[g,c]),j=b.useCallback(K=>{g(Gv(K)),g(lr({handler:f,reactEvent:K}))},[g,f]),G=b.useCallback(()=>{g(Jk())},[g]),F=b.useCallback(K=>{g(Qk(K.key))},[g]),Y=b.useCallback(K=>{g(lr({handler:s,reactEvent:K}))},[g,s]),Z=b.useCallback(K=>{g(lr({handler:o,reactEvent:K}))},[g,o]),V=b.useCallback(K=>{g(lr({handler:l,reactEvent:K}))},[g,l]),$=b.useCallback(K=>{g(lr({handler:h,reactEvent:K}))},[g,h]),L=b.useCallback(K=>{g(lr({handler:p,reactEvent:K}))},[g,p]),H=b.useCallback(K=>{g(eA(K)),g(lr({handler:v,reactEvent:K}))},[g,v]),ce=b.useCallback(K=>{g(lr({handler:d,reactEvent:K}))},[g,d]);return b.createElement(QM.Provider,{value:w},b.createElement(zI.Provider,{value:P},b.createElement("div",{className:ae("recharts-wrapper",n),style:tY({position:"relative",cursor:"default",width:m,height:i},y),onClick:A,onContextMenu:Y,onDoubleClick:Z,onFocus:G,onKeyDown:F,onMouseDown:V,onMouseEnter:O,onMouseLeave:C,onMouseMove:j,onMouseUp:$,onTouchEnd:ce,onTouchMove:H,onTouchStart:L,ref:M},r)))}),sY=["children","className","width","height","style","compact","title","desc"];function oY(e,t){if(e==null)return{};var r,n,i=lY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aA=b.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:o,title:l,desc:u}=e,c=oY(e,sY),f=Qr(c);return o?b.createElement(G_,{otherAttributes:f,title:l,desc:u},r):b.createElement(aY,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(G_,{otherAttributes:f,title:l,desc:u,ref:t},b.createElement(Dq,null,r)))}),uY=["width","height"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function cY(e,t){if(e==null)return{};var r,n,i=fY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hY={top:5,right:5,bottom:5,left:5},dY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hY,reverseStackOrder:!1,syncMethod:"index"},sA=b.forwardRef(function(t,r){var n,i=ct(t.categoricalChartProps,dY),{width:a,height:s}=i,o=cY(i,uY);if(!us(a)||!us(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,d={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(rA,{preloadedState:{options:d},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},b.createElement(Dk,{chartData:h.data}),b.createElement(nA,{width:a,height:s,layout:i.layout,margin:i.margin}),b.createElement(iA,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(aA,Uv({},o,{width:a,height:s,ref:r})))}),vY=["axis"],pY=b.forwardRef((e,t)=>b.createElement(sA,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vY,tooltipPayloadSearcher:Nm,categoricalChartProps:e,ref:t})),gY=["axis","item"],mY=b.forwardRef((e,t)=>b.createElement(sA,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gY,tooltipPayloadSearcher:Nm,categoricalChartProps:e,ref:t}));function yY(e){var t=De();return b.useEffect(()=>{t(zV(e))},[t,e]),null}var wY=["width","height","layout"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(null,arguments)}function bY(e,t){if(e==null)return{};var r,n,i=_Y(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xY={top:5,right:5,bottom:5,left:5},SY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xY,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PY=b.forwardRef(function(t,r){var n,i=ct(t.categoricalChartProps,SY),{width:a,height:s,layout:o}=i,l=bY(i,wY);if(!us(a)||!us(s))return null;var{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,d={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return b.createElement(rA,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},b.createElement(Dk,{chartData:i.data}),b.createElement(nA,{width:a,height:s,layout:o,margin:i.margin}),b.createElement(iA,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(yY,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(aA,Bv({width:a,height:s},l,{ref:r})))}),EY=["item"],MY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},kY=b.forwardRef((e,t)=>{var r=ct(e,MY);return b.createElement(PY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:EY,tooltipPayloadSearcher:Nm,categoricalChartProps:r,ref:t})});class AY{async getLayerData(t,r=100){const{data:n,error:i}=await Le.from("layer_data").select("*").eq("layer_id",t).order("recorded_at",{ascending:!1}).limit(r);if(i)throw i;return n||[]}async getIssuesData(t,r=100){let n=Le.from("issues").select("*").order("created_at",{ascending:!1}).limit(r);t&&(n=n.eq("category",t));const{data:i,error:a}=await n;if(a)throw a;return i||[]}classifyIssuePriority(t,r){const n=["emergency","dangerous","urgent","severe","critical","immediate"],i=["serious","major","significant","important","concerning"],a=["moderate","noticeable","issue","problem"],s=t.toLowerCase();return r.toLowerCase()==="safety"||n.some(l=>s.includes(l))?{priority:"critical",confidence:.85}:i.some(l=>s.includes(l))?{priority:"high",confidence:.75}:a.some(l=>s.includes(l))?{priority:"medium",confidence:.65}:{priority:"low",confidence:.6}}async detectAnomalies(t){const r=await this.getLayerData(t);if(r.length<10)return[{severity:"info",message:"Insufficient data for anomaly detection",confidence:.5}];const n=r.map(l=>l.value),i=n.reduce((l,u)=>l+u,0)/n.length,a=n.reduce((l,u)=>l+Math.pow(u-i,2),0)/n.length,s=Math.sqrt(a),o=[];return r.forEach(l=>{const u=Math.abs((l.value-i)/s);u>3?o.push({severity:"critical",message:`Critical anomaly detected at (${l.latitude.toFixed(4)}, ${l.longitude.toFixed(4)}): value ${l.value.toFixed(2)} (${u.toFixed(2)}σ from mean)`,confidence:Math.min(.95,.7+(u-3)*.05),recommendations:["Immediate investigation required","Deploy additional sensors in the area","Alert local authorities"]}):u>2&&o.push({severity:"warning",message:`Unusual reading at (${l.latitude.toFixed(4)}, ${l.longitude.toFixed(4)}): value ${l.value.toFixed(2)}`,confidence:.65+(u-2)*.1,recommendations:["Monitor the area closely","Verify sensor calibration"]})}),o.length===0?[{severity:"info",message:"All readings within normal range",confidence:.8}]:o}async analyzeTrends(t,r=7){const n=new Date;n.setDate(n.getDate()-r);const{data:i,error:a}=await Le.from("layer_data").select("*").eq("layer_id",t).gte("recorded_at",n.toISOString()).order("recorded_at",{ascending:!0});if(a||!i||i.length<2)return{severity:"info",message:"Insufficient data for trend analysis",confidence:.5};const s=i.map(h=>h.value),o=s.slice(0,Math.floor(s.length/2)),l=s.slice(Math.floor(s.length/2)),u=o.reduce((h,d)=>h+d,0)/o.length,f=(l.reduce((h,d)=>h+d,0)/l.length-u)/u*100;return Math.abs(f)>30?{severity:"critical",message:`Significant ${f>0?"increase":"decrease"} detected: ${Math.abs(f).toFixed(1)}% change over ${r} days`,confidence:.85,recommendations:["Investigate root causes","Implement corrective measures","Increase monitoring frequency"]}:Math.abs(f)>15?{severity:"warning",message:`Moderate trend detected: ${f>0?"+":""}${f.toFixed(1)}% change over ${r} days`,confidence:.75,recommendations:["Continue monitoring","Prepare contingency plans"]}:{severity:"info",message:`Stable trend: ${f>0?"+":""}${f.toFixed(1)}% change over ${r} days`,confidence:.8}}async predictQuality(t,r=24){const n=await this.getLayerData(t,50);if(n.length<5)throw new Error("Insufficient data for prediction");const i=n.map(w=>w.value).reverse(),a=i.length;let s=0,o=0,l=0,u=0;for(let w=0;w<a;w++)s+=w,o+=i[w],l+=w*i[w],u+=w*w;const c=(a*l-s*o)/(a*u-s*s),f=(o-c*s)/a,h=c*(a+r)+f,v=i.map((w,_)=>w-(c*_+f)).reduce((w,_)=>w+_*_,0)/a,p=Math.sqrt(v),y=Math.max(...i)-Math.min(...i),m=Math.max(.5,1-p/y);let g;return Math.abs(c)<.01?g="stable":c<0?g="improving":g="declining",{predictedValue:Math.max(0,h),confidence:Math.min(.95,m),trend:g}}async analyzeIssuePatterns(){const t=await this.getIssuesData(void 0,500),r=.01,n=new Map;t.forEach(l=>{const u=Math.floor(l.latitude/r)*r,c=Math.floor(l.longitude/r)*r,f=`${u},${c}`;n.has(f)||n.set(f,{count:0,categories:new Set,lat:u,lng:c});const h=n.get(f);h.count++,h.categories.add(l.category)});const i=Array.from(n.values()).filter(l=>l.count>=3).map(l=>({latitude:l.lat,longitude:l.lng,count:l.count,categories:Array.from(l.categories)})).sort((l,u)=>u.count-l.count).slice(0,10),a=new Map,s={low:1,medium:2,high:3,critical:4};t.forEach(l=>{a.has(l.category)||a.set(l.category,{count:0,totalPriority:0});const u=a.get(l.category);u.count++,u.totalPriority+=s[l.priority]||2});const o=Array.from(a.entries()).map(([l,u])=>({category:l,count:u.count,avgPriority:u.totalPriority/u.count})).sort((l,u)=>u.count-l.count);return{hotspots:i,topCategories:o}}async generateAutoAlerts(){const t=[],{hotspots:r,topCategories:n}=await this.analyzeIssuePatterns();return r.slice(0,3).forEach(i=>{t.push({title:"Issue Hotspot Detected",message:`High concentration of ${i.count} issues detected. Categories: ${i.categories.join(", ")}`,severity:i.count>10?"critical":"warning",latitude:i.latitude,longitude:i.longitude})}),n.slice(0,2).forEach(i=>{i.avgPriority>2.5&&t.push({title:`Rising ${i.category} Issues`,message:`${i.count} ${i.category} issues reported with elevated priority`,severity:i.avgPriority>3?"critical":"warning"})}),t}}const zv=new AY;function OY(){const[e,t]=b.useState({totalIssues:0,activeIssues:0,resolvedIssues:0,criticalIssues:0}),[r,n]=b.useState([]),[i,a]=b.useState([]),[s,o]=b.useState([]),[l,u]=b.useState([]),[c,f]=b.useState([]),[h,d]=b.useState(!0);b.useEffect(()=>{v()},[]);const v=async()=>{d(!0);try{const{data:p}=await Le.from("issues").select("*").order("created_at",{ascending:!1});if(p){t({totalIssues:p.length,activeIssues:p.filter(S=>S.status==="reported"||S.status==="in_progress").length,resolvedIssues:p.filter(S=>S.status==="resolved").length,criticalIssues:p.filter(S=>S.priority==="critical").length});const y={};p.forEach(S=>{y[S.category]=(y[S.category]||0)+1}),n(Object.entries(y).map(([S,E])=>({name:S,value:E})));const m={low:p.filter(S=>S.priority==="low").length,medium:p.filter(S=>S.priority==="medium").length,high:p.filter(S=>S.priority==="high").length,critical:p.filter(S=>S.priority==="critical").length};o([{name:"Low",value:m.low,color:"#10b981"},{name:"Medium",value:m.medium,color:"#f59e0b"},{name:"High",value:m.high,color:"#f97316"},{name:"Critical",value:m.critical,color:"#ef4444"}]);const w=Array.from({length:7},(S,E)=>{const M=new Date;return M.setDate(M.getDate()-(6-E)),M.toISOString().split("T")[0]}).map(S=>{const E=p.filter(M=>M.created_at.startsWith(S)).length;return{date:S.slice(5),count:E}});a(w);const _=await zv.analyzeIssuePatterns();f(_.hotspots.slice(0,5));const P=await zv.generateAutoAlerts();u(P.map(S=>({severity:S.severity,message:S.message,confidence:.85})))}}catch(p){console.error("Error loading dashboard data:",p)}finally{d(!1)}};return h?x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):x.jsx("div",{className:"absolute right-0 top-0 w-96 h-full bg-white shadow-lg z-10 overflow-y-auto p-6",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Urban Analytics Dashboard"}),x.jsx("p",{className:"text-gray-600",children:"Real-time insights powered by AI"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:x.jsx(s6,{className:"w-6 h-6 text-blue-600"})}),x.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Total"})]}),x.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.totalIssues}),x.jsx("div",{className:"text-sm text-gray-600",children:"Reported Issues"})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:x.jsx(p6,{className:"w-6 h-6 text-yellow-600"})}),x.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"Active"})]}),x.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.activeIssues}),x.jsx("div",{className:"text-sm text-gray-600",children:"In Progress"})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:x.jsx(kS,{className:"w-6 h-6 text-green-600"})}),x.jsx("span",{className:"text-sm font-medium text-green-600",children:"Resolved"})]}),x.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.resolvedIssues}),x.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:x.jsx(C1,{className:"w-6 h-6 text-red-600"})}),x.jsx("span",{className:"text-sm font-medium text-red-600",children:"Critical"})]}),x.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.criticalIssues}),x.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issue Trends (Last 7 Days)"}),x.jsx(Td,{width:"100%",height:250,children:x.jsxs(pY,{data:i,children:[x.jsx(Iv,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),x.jsx(Dv,{dataKey:"date",stroke:"#6b7280",fontSize:12}),x.jsx(Lv,{stroke:"#6b7280",fontSize:12}),x.jsx(Od,{}),x.jsx(Kk,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues by Category"}),x.jsx(Td,{width:"100%",height:250,children:x.jsxs(mY,{data:r,children:[x.jsx(Iv,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),x.jsx(Dv,{dataKey:"name",stroke:"#6b7280",fontSize:12}),x.jsx(Lv,{stroke:"#6b7280",fontSize:12}),x.jsx(Od,{}),x.jsx(Ik,{dataKey:"value",fill:"#3b82f6",radius:[8,8,0,0]})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Priority Distribution"}),x.jsx(Td,{width:"100%",height:250,children:x.jsxs(kY,{children:[x.jsx(Ok,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:y})=>`${p} ${(y*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((p,y)=>x.jsx(Dl,{fill:p.color},`cell-${y}`))}),x.jsx(Od,{})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(y6,{className:"w-5 h-5 text-yellow-600"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Insights"})]}),x.jsx("div",{className:"space-y-3 max-h-[250px] overflow-y-auto",children:l.length===0?x.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No alerts at this time"}):l.map((p,y)=>x.jsx("div",{className:`p-3 rounded-lg border ${p.severity==="critical"?"bg-red-50 border-red-200":p.severity==="warning"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:x.jsxs("div",{className:"flex items-start gap-2",children:[x.jsx(C1,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${p.severity==="critical"?"text-red-600":p.severity==="warning"?"text-yellow-600":"text-blue-600"}`}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm text-gray-900",children:p.message}),x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Confidence: ",(p.confidence*100).toFixed(0),"%"]})]})]})},y))})]})]}),c.length>0&&x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(gc,{className:"w-5 h-5 text-red-600"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Issue Hotspots"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((p,y)=>x.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("span",{className:"text-2xl font-bold text-red-600",children:p.count}),x.jsx(gc,{className:"w-5 h-5 text-red-600"})]}),x.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[p.latitude.toFixed(4),", ",p.longitude.toFixed(4)]}),x.jsx("div",{className:"flex flex-wrap gap-1",children:p.categories.map((m,g)=>x.jsx("span",{className:"px-2 py-1 bg-white text-xs rounded",children:m},g))})]},y))})]})]})})}const CY=[{value:"pollution",label:"Contaminación del Aire"},{value:"traffic",label:"Tráfico"},{value:"noise",label:"Niveles de Ruido"},{value:"temperature",label:"Temperatura en Tiempo Real"},{value:"air_quality",label:"Calidad del Aire"},{value:"water_quality",label:"Calidad del Agua"},{value:"green_spaces",label:"Espacios Verdes"},{value:"custom",label:"Personalizado"}];function TY(){const{user:e}=dl(),{layers:t,loadLayers:r,toggleLayer:n}=MS(),[i,a]=b.useState(!1),[s,o]=b.useState(!1),[l,u]=b.useState(null),[c,f]=b.useState(new Set),[h,d]=b.useState({name:"",description:"",type:"pollution",color:"#3B82F6",opacity:.7}),v=async g=>{if(g.preventDefault(),!!e)if(l){const{error:w}=await Le.from("layers").update({name:h.name,description:h.description||null,opacity:h.opacity}).eq("id",l);w||(u(null),p(),r())}else{const{error:w}=await Le.from("layers").insert({user_id:e.id,name:h.name,description:h.description||null,type:h.type,color:h.color,opacity:h.opacity,is_active:!0});w||(o(!1),p(),r())}},p=()=>{d({name:"",description:"",type:"pollution",color:"#3B82F6",opacity:.7}),u(null)},y=g=>{f(w=>{const _=new Set(w);return _.has(g)?_.delete(g):_.add(g),_})},m=async()=>{console.log("Activating selected layers:",Array.from(c));for(const g of c)await n(g);f(new Set)};return x.jsx("div",{className:"absolute left-0 top-0 w-96 h-full bg-white shadow-lg z-10 overflow-y-auto p-6",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Capas del Mapa"}),x.jsx("p",{className:"text-gray-600",children:"Crear y administrar capas de datos para visualización"})]}),x.jsxs("button",{onClick:()=>{o(!s),s&&p()},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[s?x.jsx(AS,{className:"w-5 h-5"}):x.jsx(d6,{className:"w-5 h-5"}),s?"Cancelar":"Nueva Capa"]})]}),x.jsx("div",{children:x.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors w-full justify-center",children:[x.jsx(G0,{className:"w-5 h-5"}),"Capas"]})}),s&&x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:l?"Editar Capa":"Crear Nueva Capa"}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Capa"}),x.jsx("input",{type:"text",required:!0,value:h.name,onChange:g=>d({...h,name:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ej. Índice de Calidad del Aire"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Capa"}),x.jsx("select",{required:!0,value:h.type,onChange:g=>d({...h,type:g.target.value}),disabled:!!l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:CY.map(g=>x.jsx("option",{value:g.value,children:g.label},g.value))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"color",value:h.color,onChange:g=>d({...h,color:g.target.value}),disabled:!!l,className:"w-20 h-10 border border-gray-300 rounded-lg cursor-pointer disabled:opacity-50"}),x.jsx("input",{type:"text",value:h.color,disabled:!!l,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50",readOnly:!0})]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Opacidad: ",h.opacity]}),x.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:h.opacity,onChange:g=>d({...h,opacity:parseFloat(g.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),x.jsx("textarea",{value:h.description,onChange:g=>d({...h,description:g.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Descripción opcional..."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>{o(!1),p()},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),x.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[x.jsx(v6,{className:"w-4 h-4"}),l?"Actualizar Capa":"Crear Capa"]})]})]})]}),i&&x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 max-h-[calc(100vh-12rem)] overflow-y-auto",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Selecciona las capas a mostrar"}),t.length===0?x.jsxs("div",{className:"text-center text-gray-500 py-8",children:[x.jsx(G0,{className:"w-12 h-12 mx-auto mb-4"}),x.jsx("p",{children:"Aún no hay capas disponibles"})]}):x.jsx("ul",{className:"space-y-3",children:t.map(g=>x.jsxs("li",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"checkbox",id:`layer-toggle-${g.id}`,checked:c.has(g.id),onChange:()=>y(g.id),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),x.jsxs("label",{htmlFor:`layer-toggle-${g.id}`,className:"flex-1 cursor-pointer select-none",children:[x.jsx("span",{className:"inline-block w-5 h-5 rounded mr-2",style:{backgroundColor:g.color,opacity:g.opacity}}),g.name]})]},g.id))})]}),x.jsx("div",{className:"mt-6",children:x.jsxs("button",{onClick:m,disabled:c.size===0,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors font-semibold",children:["Activar Capas Seleccionadas (",c.size,")"]})})]})})}function jY(){const[e,t]=b.useState([]),[r,n]=b.useState("all"),[i,a]=b.useState("all"),[s,o]=b.useState(!0);b.useEffect(()=>{l();const h=Le.channel("issues_changes").on("postgres_changes",{event:"*",schema:"public",table:"issues"},()=>{l()}).subscribe();return()=>{h.unsubscribe()}},[]);const l=async()=>{o(!0);let h=Le.from("issues").select("*").order("created_at",{ascending:!1});r!=="all"&&(h=h.eq("status",r)),i!=="all"&&(h=h.eq("priority",i));const{data:d}=await h;d&&t(d),o(!1)};b.useEffect(()=>{l()},[r,i]);const u=async(h,d)=>{const v={status:d};d==="resolved"&&(v.resolved_at=new Date().toISOString());const{error:p}=await Le.from("issues").update(v).eq("id",h);p||l()},c={low:"bg-green-100 text-green-800 border-green-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",high:"bg-orange-100 text-orange-800 border-orange-200",critical:"bg-red-100 text-red-800 border-red-200"},f={reported:"bg-blue-100 text-blue-800",in_progress:"bg-purple-100 text-purple-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"};return s?x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):x.jsx("div",{className:"absolute right-0 top-0 w-96 h-full bg-white shadow-lg z-10 overflow-y-auto p-6",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Urban Issues"}),x.jsx("p",{className:"text-gray-600",children:"Track and manage reported issues"})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(u6,{className:"w-5 h-5 text-gray-500"}),x.jsxs("div",{className:"flex gap-4 flex-1",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-medium text-gray-500 block mb-1",children:"Status"}),x.jsxs("select",{value:r,onChange:h=>n(h.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"reported",children:"Reported"}),x.jsx("option",{value:"in_progress",children:"In Progress"}),x.jsx("option",{value:"resolved",children:"Resolved"}),x.jsx("option",{value:"closed",children:"Closed"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-medium text-gray-500 block mb-1",children:"Priority"}),x.jsxs("select",{value:i,onChange:h=>a(h.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"all",children:"All Priorities"}),x.jsx("option",{value:"low",children:"Low"}),x.jsx("option",{value:"medium",children:"Medium"}),x.jsx("option",{value:"high",children:"High"}),x.jsx("option",{value:"critical",children:"Critical"})]})]})]}),x.jsxs("div",{className:"text-sm text-gray-600",children:[e.length," issue",e.length!==1?"s":""]})]})}),x.jsx("div",{className:"space-y-4",children:e.length===0?x.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-100",children:[x.jsx(Fo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No issues found"}),x.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or report a new issue on the map"})]}):e.map(h=>x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:x.jsxs("div",{className:"flex items-start justify-between mb-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h.title}),h.ai_classified&&x.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-md font-medium",children:"AI Classified"})]}),x.jsx("p",{className:"text-gray-600 mb-3",children:h.description}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[x.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${c[h.priority]}`,children:h.priority.toUpperCase()}),x.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${f[h.status]}`,children:h.status.replace("_"," ").toUpperCase()}),x.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:h.category})]}),x.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(gc,{className:"w-4 h-4"}),x.jsxs("span",{children:[h.latitude.toFixed(4),", ",h.longitude.toFixed(4)]})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(l6,{className:"w-4 h-4"}),x.jsx("span",{children:new Date(h.created_at).toLocaleDateString()})]}),h.ai_confidence&&x.jsxs("span",{className:"text-purple-600",children:["Confidence: ",(h.ai_confidence*100).toFixed(0),"%"]})]})]}),h.status!=="resolved"&&h.status!=="closed"&&x.jsxs("div",{className:"flex gap-2 ml-4",children:[h.status==="reported"&&x.jsx("button",{onClick:()=>u(h.id,"in_progress"),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Start Progress"}),h.status==="in_progress"&&x.jsxs("button",{onClick:()=>u(h.id,"resolved"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors",children:[x.jsx(kS,{className:"w-4 h-4"}),"Resolve"]})]})]})},h.id))})]})})}const NY=[{value:"pollution",label:"Air/Water Pollution"},{value:"infrastructure",label:"Infrastructure"},{value:"safety",label:"Public Safety"},{value:"noise",label:"Noise Pollution"},{value:"traffic",label:"Traffic"},{value:"waste",label:"Waste Management"},{value:"lighting",label:"Street Lighting"},{value:"other",label:"Other"}];function IY({latitude:e,longitude:t,onClose:r}){const{user:n}=dl(),[i,a]=b.useState(""),[s,o]=b.useState(""),[l,u]=b.useState(""),[c,f]=b.useState(!1),[h,d]=b.useState(""),[v,p]=b.useState(!1),y=async m=>{if(m.preventDefault(),!!n){f(!0),d("");try{const g=zv.classifyIssuePriority(s,l),{error:w}=await Le.from("issues").insert({user_id:n.id,title:i,description:s,category:l,priority:g.priority,status:"reported",latitude:e,longitude:t,ai_classified:!0,ai_confidence:g.confidence});if(w)throw w;p(!0),setTimeout(()=>{r()},1500)}catch(g){d(g.message||"Failed to submit report")}finally{f(!1)}}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Report Urban Issue"}),x.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:x.jsx(AS,{className:"w-6 h-6"})})]}),v?x.jsxs("div",{className:"p-8 text-center",children:[x.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Report Submitted!"}),x.jsx("p",{className:"text-gray-600",children:"Your report has been analyzed by AI and submitted successfully."})]}):x.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[x.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:[x.jsx(gc,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:"Location Selected"}),x.jsxs("p",{className:"text-xs mt-1",children:["Lat: ",e.toFixed(6),", Lng: ",t.toFixed(6)]})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Title"}),x.jsx("input",{id:"title",type:"text",required:!0,value:i,onChange:m=>a(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the issue"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),x.jsxs("select",{id:"category",required:!0,value:l,onChange:m=>u(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"",children:"Select a category"}),NY.map(m=>x.jsx("option",{value:m.value,children:m.label},m.value))]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed Description"}),x.jsx("textarea",{id:"description",required:!0,value:s,onChange:m=>o(m.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Provide details about the issue..."})]}),x.jsxs("div",{className:"flex items-start gap-2 p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:[x.jsx(Fo,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),x.jsx("p",{children:"Our AI will automatically analyze and prioritize your report based on the description and category."})]}),h&&x.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[x.jsx(Fo,{className:"w-4 h-4 flex-shrink-0"}),x.jsx("span",{children:h})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Submit Report"})]})]})]})})}function $Y(){const{user:e,loading:t}=dl(),[r,n]=b.useState(null),[i,a]=b.useState("map");if(t)return x.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:x.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})});if(!e)return x.jsx(w6,{});const s=(l,u)=>{n({lat:l,lng:u})},o=l=>{a(l)};return x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[x.jsx(b6,{onItemClick:o,activePanel:i}),x.jsxs("main",{className:"flex-1 overflow-hidden relative",children:[x.jsx(EI,{onReportIssue:s}),i==="layers"&&x.jsx(TY,{}),i==="dashboard"&&x.jsx(OY,{}),i==="issues"&&x.jsx(jY,{})]}),r&&x.jsx(IY,{latitude:r.lat,longitude:r.lng,onClose:()=>n(null)})]})}function DY(){return x.jsx(r6,{children:x.jsx(n6,{children:x.jsx($Y,{})})})}eS(document.getElementById("root")).render(x.jsx(b.StrictMode,{children:x.jsx(DY,{})}));
